import{c as q,G as te,u as ae,j as a,M as P,A as se,f as T,t as N,l as I,E as ne,B as m,I as re,J as E}from"./index.7602c8fa.js";import{u as oe,r as u}from"./vendor.af94f9e3.js";import{P as ie}from"./paimentService.11c19bca.js";/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=q("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);class me{constructor(){this.baseUrl="https://orbitcity.odoo.com/",this.environment={}.VITE_ORANGE_MONEY_ENV||"sandbox",this.merchantCode={}.VITE_ORANGE_MONEY_MERCHANT_CODE,this.merchantName={}.VITE_ORANGE_MONEY_MERCHANT_NAME||"Votre Commerce"}getHeaders(){return{"Content-Type":"application/json",Accept:"application/json"}}getRedirectUrls(s,e="orange_money"){const t=window.location.origin;return{success_url:`${t}/payment/success?payment_method=${e}&transaction_id=${s}`,error_url:`${t}/payment/error?payment_method=${e}&transaction_id=${s}`,cancel_url:`${t}/payment/cancel?payment_method=${e}&transaction_id=${s}`}}generateTransactionId(s=null){const e=new Date().toISOString().replace(/[-:T.]/g,"").slice(0,14),t=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`${s?`OM-${s}`:"OM"}-${e}-${t}`}async initiatePayment(s,e,t,n,o=null,p=null){try{const c=this.generateTransactionId(o),f=this.getRedirectUrls(c,"orange_money"),k={transaction_id:c,order_id:o,partner_id:p,phoneNumber:this.formatPhoneNumber(e),amount:Number.parseFloat(s),description:t||`Paiement Orange Money - ${n}`,currency:"XOF",reference:n,success_url:f.success_url,metadata:{order_reference:n,merchant_name:this.merchantName,environment:this.environment,initiated_at:new Date().toISOString()}};console.log("Initiating Orange Money payment with payload:",k);const v=await fetch(`${this.baseUrl}api/payment/orange/initiate`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify(k)});if(!v.ok){const h=await v.json();throw new Error(`Échec de l'initiation du paiement Orange Money: ${h.error||h.message||v.status}`)}const r=await v.json();return{success:r.success,transactionId:r.transaction_id,orangeId:r.orange_id,paymentToken:r.pay_token,paymentUrl:r.payment_url,qrCodeUrl:r.qr_code_url,status:r.status||"INITIATED",orderId:r.order_id,partnerId:r.partner_id,reference:r.reference,successUrl:r.success_url,deepLink:r.deep_link,qrCodeBase:"data:image/png;base64,"+r.qr_code_base64,validitySeconds:r.validity_seconds,amount:s,phoneNumber:e,checkoutUrl:r.qr_code_url,sessionId:r.transaction_id,existing:r.existing||!1}}catch(c){throw console.error("Erreur initiation paiement Orange Money:",c),c}}async initiateDirectPayment(s){console.log("Initiating direct Orange Money payment with body:",s);try{const e=await fetch(`${this.baseUrl}api/payment/orange/initiate`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify(s)});if(!e.ok){const n=await e.json();throw new Error(`Échec de l'initiation du paiement direct Orange Money: ${n.error||n.message||e.status}`)}return await e.json()}catch(e){throw console.error("Erreur paiement direct Orange Money:",e),e}}async createPaymentLink(s,e,t,n=null,o=null,p=null){try{const c=await this.initiatePayment(s,p,e,t,n,o);return{sessionId:c.transactionId,paymentUrl:c.qrCodeUrl,qrCode:c.qrCodeUrl,qrCodeUrl:c.qrCodeUrl,status:c.status,transactionId:c.transactionId,orangeId:c.orangeId,reference:t,amount:s,expiresAt:null,existing:c.existing}}catch(c){throw console.error("Erreur création lien Orange Money:",c),c}}async checkTransactionStatus(s){try{const e=await fetch(`${this.baseUrl}api/payment/orange/status/${s}`,{method:"GET",headers:this.getHeaders()});if(!e.ok){const n=await e.json();throw new Error(`Échec de la vérification du statut Orange Money: ${n.error||n.message||e.status}`)}const t=await e.json();return console.log("data ",t),t}catch(e){throw console.error("Erreur vérification statut Orange Money:",e),e}}async getTransactionByOrangeId(s){try{const e=await fetch(`${this.baseUrl}api/payment/orange/transaction/${s}`,{method:"GET",headers:this.getHeaders()});if(!e.ok){const n=await e.json();throw new Error(`Échec de récupération des détails Orange Money: ${n.error||n.message||e.status}`)}const t=await e.json();return{success:t.success,orangeTransaction:t.orange_transaction,localTransaction:t.local_transaction}}catch(e){throw console.error("Erreur récupération détails Orange Money:",e),e}}mapOrangeMoneyStatus(s){return{INITIATED:"pending",PENDING:"pending",ACCEPTED:"processing",SUCCESS:"completed",FAILED:"failed",CANCELLED:"cancelled",REJECTED:"failed"}[s]||"unknown"}async getTransactionDetails(s){try{const e=await this.checkTransactionStatus(s);return{id:e.transactionId,orangeId:e.orangeId,amount:e.amount,currency:e.currency,status:e.status,rawStatus:e.rawStatus,phoneNumber:e.phoneNumber,reference:e.reference,description:e.description,qrCodeUrl:e.qrCodeUrl,createdAt:e.createdAt,completedAt:e.completedAt,order:e.order,factureUrl:e.factureUrl,metadata:{order_id:e.orderId,partner_id:e.partnerId,refreshed:e.refreshed}}}catch(e){throw console.error("Erreur récupération détails Orange Money:",e),e}}formatPhoneNumber(s){if(!s)return"";const e=s.replace(/[\s\-$$$$.]/g,"");return e.startsWith("+221")?e:e.startsWith("221")?"+"+e:e.match(/^[73]/)?"+221"+e:e}async validatePhoneNumber(s){try{const e=this.formatPhoneNumber(s),n=/^\+221(77|78|70|76|75)[0-9]{7}$/.test(e);return{valid:n,formatted:e,carrier:n?"Orange Money":"Unknown",message:n?"Numéro Orange Money valide":"Numéro Orange Money invalide"}}catch(e){return console.error("Erreur validation numéro Orange Money:",e),{valid:!1,formatted:s,message:"Erreur de validation"}}}async getTransactionPartner(s){try{const e=await fetch(`${this.baseUrl}api/payment/orange/partner-transactions/${s}`,{method:"GET",headers:this.getHeaders()});if(!e.ok){const n=await e.json();throw new Error(`Échec de récupération des transactions: ${n.error||n.message||e.status}`)}const t=await e.json();return{success:t.success||!0,partnerId:t.partner_id||s,partnerName:t.partner_name,transactionsCount:t.transactions_count||t.length,transactions:t.transactions||t}}catch(e){throw console.error("Erreur récupération transactions partenaire Orange Money:",e),e}}async getPartnerTransactionsDetailed(s){try{const e=await fetch(`${this.baseUrl}api/payment/partner/${s}/orange-transactions`,{method:"GET",headers:this.getHeaders()});if(!e.ok){const n=await e.json();throw new Error(`Échec de récupération des transactions détaillées: ${n.error||n.message||e.status}`)}const t=await e.json();return{success:t.success,partner:t.partner,transactionsCount:t.transactions_count,transactions:t.transactions.map(n=>({...n,status:this.mapOrangeMoneyStatus(n.status),rawStatus:n.status}))}}catch(e){throw console.error("Erreur récupération transactions détaillées Orange Money:",e),e}}async checkAvailability(){try{const s=await fetch(`${this.baseUrl}api/payment/orange/status/test-availability`,{method:"GET",headers:this.getHeaders()});return{available:!0,environment:this.environment,merchantCode:this.merchantCode,merchantName:this.merchantName}}catch(s){return console.error("Orange Money service non disponible:",s),{available:!1,error:s.message}}}async cancelTransaction(s){try{return console.warn("L'annulation directe n'est pas supportée par Orange Money"),{success:!1,message:"L'annulation directe n'est pas supportée par Orange Money"}}catch(e){throw console.error("Erreur annulation transaction Orange Money:",e),e}}async getTransactionStats(s=null,e=null,t=null){try{let n=`${this.baseUrl}api/payment/orange/stats`;const o=new URLSearchParams;s&&o.append("partner_id",s),e&&o.append("date_from",e),t&&o.append("date_to",t),o.toString()&&(n+="?"+o.toString());const p=await fetch(n,{method:"GET",headers:this.getHeaders()});if(!p.ok){const f=await p.json();throw new Error(`Échec de récupération des statistiques: ${f.error||f.message||p.status}`)}return await p.json()}catch(n){throw console.error("Erreur récupération statistiques Orange Money:",n),n}}async downloadInvoice(s){try{const e=await fetch(`${this.baseUrl}api/payment/orange/invoice/${s}`,{method:"GET",headers:this.getHeaders()});if(!e.ok)throw new Error("Facture non disponible");const t=await e.blob(),n=window.URL.createObjectURL(t),o=document.createElement("a");return o.href=n,o.download=`facture-orange-money-${s}.pdf`,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(n),document.body.removeChild(o),{success:!0,message:"Facture téléchargée avec succès"}}catch(e){throw console.error("Erreur téléchargement facture Orange Money:",e),e}}openQRCode(s){s?window.open(s,"_blank","width=400,height=400,scrollbars=yes,resizable=yes"):console.error("URL du QR code non disponible")}async copyQRCodeUrl(s){try{return await navigator.clipboard.writeText(s),{success:!0,message:"URL du QR code copiée"}}catch(e){return console.error("Erreur copie URL QR code:",e),{success:!1,message:"Erreur lors de la copie"}}}_prepare_api_payment_data(s,e){return{transaction_id:s.get("transaction_id"),order_id:e.id,partner_id:e.partner_id.id,phoneNumber:s.get("phoneNumber",""),amount:Number.parseFloat(s.get("amount")),description:s.get("description",`Paiement pour la commande ${e.name}`),currency:s.get("currency",e.currency_id.name),reference:s.get("reference",e.name),success_url:s.get("success_url",`https://orbitcity.sn/orange-money-paiement?transaction=${s.get("transaction_id")}`)}}}const M=new me,de="/assets/orange.ac650953.png",O="/assets/wave.799f7a3d.png",ue=({handlePay:F,totalAmount:s,onClose:e,order:t,idOrder:n})=>{localStorage.setItem("idOrderPayment",null),localStorage.setItem("montant",null),localStorage.setItem("tokenOrderPayment",null),localStorage.setItem("statusOrderPayment",null),console.log("arrivé");const o=oe(),{payment:p,setUserPayment:c,setOrder:f,setPaymentDetails:k,setTotalAmount:v}=u.useContext(te),{user:r}=ae(),[h,x]=u.useState(!1),[L,S]=u.useState(!0),[d,R]=u.useState(""),[b,Q]=u.useState(""),[H,V]=u.useState(!1),[X,z]=u.useState(""),[_,U]=u.useState("");u.useState("");const[w,W]=u.useState(null),[C,G]=u.useState(null);u.useEffect(()=>{c(r),f(t),console.log("order "+n),console.log("montant "+s),console.log("user",r)},[]);const A=()=>{let i=null;return t.type_sale==="order"?t.payment_mode=="echelonne"?i=`${r.id}-${n}-${s}-${t.name}-${t.type_sale}-${new Date().getTime().toString()}`:i=`${r.id}-${n}-${s}-${t.name}-${t.type_sale}`:t.type_sale==="preorder"?!t.first_payment_state&&!t.second_payment_state&&!t.third_payment_state?i=`${r.id}-${n}-${s}-${t.name}-${t.type_sale}-1`:t.first_payment_state&&!t.second_payment_state&&!t.third_payment_state?i=`${r.id}-${n}-${s}-${t.name}-${t.type_sale}-2`:i=`${r.id}-${n}-${s}-${t.name}-${t.type_sale}-3`:t.type_sale==="creditorder"?!t.first_payment_state&&!t.second_payment_state&&!t.third_payment_state&&!t.fourth_payment_state?i=`${r.id}-${n}-${s}-${t.name}-${t.type_sale}-1`:t.first_payment_state&&!t.second_payment_state&&!t.third_payment_state&&!t.fourth_payment_state?i=`${r.id}-${n}-${s}-${t.name}-${t.type_sale}-2`:t.first_payment_state&&t.second_payment_state&&t.third_payment_state&&!t.fourth_payment_state?i=`${r.id}-${n}-${s}-${t.name}-${t.type_sale}-3`:i=`${r.id}-${n}-${s}-${t.name}-${t.type_sale}-4`:i=`${r.id}-${n}-${s}-${t.name}-${t.type_sale}`,i},B=async i=>{if(i.preventDefault(),!d){m.error("Veuillez sélectionner une méthode de paiement",{position:"top-center",autoClose:3e3});return}if(d==="wave"&&!b){m.error("Veuillez entrer votre numéro de téléphone Wave",{position:"top-center",autoClose:3e3});return}x(!0);const y=A();try{re(n,s,t.order_lines.map(g=>({name:g.product_name,price:g.price_unit,quantity:g.product_uom_qty})));const $=`REF-${t.name}-${Math.floor(Math.random()*1e6)}`;z($);let l;if(d==="wave"){let g=null;t.type_sale==="preorder"?g=window.location.origin+`/pre-commandes/${n}/détails`:t.type_sale==="creditorder"?g=window.location.origin+`/credit-commandes/${n}/détails`:g=window.location.origin+`/commandes/${n}/détails`;let D={amount:s,phoneNumber:b,description:`Paiement de ${s} FCFA pour la commande ${t.name}`,reference:$,transaction_id:y,partner_id:r?r.id:null,order_id:n,success_url:window.location.origin+"/wave-paiement"};if(console.log(D),l=await E.initiateDirectPayment(D),console.log(l),l.status==="pending"&&l.success?(U(l.transaction_id||l.session_id),l.payment_url?window.open(l.payment_url,"_blank"):m.warning("Aucun lien de paiement trouvé",{position:"top-center",autoClose:3e3})):l.status==="cancelled"?(m.warning("Paiement annulé",{position:"top-center",autoClose:3e3}),t.type_sale==="preorder"?o(`/pre-commandes/${n}/détails`):t.type_sale==="creditorder"?o(`/credit-commandes/${n}/détails`):o(`/commandes/${n}/détails`)):l.status==="failed"&&(m.warning("Paiement echoué",{position:"top-center",autoClose:3e3}),t.type_sale==="preorder"?o(`/pre-commandes/${n}/détails`):t.type_sale==="creditorder"?o(`/credit-commandes/${n}/détails`):o(`/commandes/${n}/détails`)),l.status==="pending"&&l.success){const j=await E.checkTransactionStatus(l.transaction_id);console.log(j),j.status==="success"&&j.checkout_status==="complete"&&j.payment_status==="succeeded"&&(m.success("Paiement effectué avec succès",{position:"top-center",autoClose:3e3}),t.type_sale==="preorder"?o(`/pre-commandes/${n}/détails`):t.type_sale==="creditorder"?o(`/credit-commandes/${n}/détails`):o(`/commandes/${n}/détails`))}}else{const g={amount:s,partnerId:r.id,description:`Paiement de ${s} FCFA pour la commande ${t.name}`,merchantCode:"123456",businessName:"CCBM SHOP",validity:300};console.log(g),l=await M.generateQRCode(s,`Paiement de ${s} FCFA pour la commande ${t.name}`,"123456","CCBM SHOP",300,n,r.id),W(l.qrCode),G(l),U(l.transactionId),console.log("QR Code généré:",l)}V(!0),d==="wave"?m.success("Demande de paiement effectif pour Wave",{position:"top-center",autoClose:5e3}):m.success("QR Code Orange Money généré avec succès. Vous pouvez maintenant le scanner.",{position:"top-center",autoClose:5e3})}catch($){console.error("Erreur lors du paiement:",$),m.error(`Erreur lors du paiement: ${$.message}`,{position:"top-center",autoClose:5e3})}finally{x(!1)}},J=async()=>{x(!0);try{let i;if(d==="wave"&&(i=await E.checkTransactionStatus(_),i.status==="pending"&&i.success)){const y=await E.checkTransactionStatus(i.transaction_id);console.log(y),y.status==="success"&&y.checkout_status==="complete"&&y.payment_status==="succeeded"&&(m.success("Paiement effectué avec succès",{position:"top-center",autoClose:3e3}),t.type_sale==="preorder"?o(`/pre-commandes/${n}/détails`):t.type_sale==="creditorder"?o(`/credit-commandes/${n}/détails`):o(`/commandes/${n}/détails`))}i.status==="completed"?(m.success("Paiement confirmé avec succès!",{position:"top-center",autoClose:3e3}),t.type_sale==="preorder"?o(`/pre-commandes/${n}/détails`):t.type_sale==="creditorder"?o(`/credit-commandes/${n}/détails`):o(`/commandes/${n}/détails`),S(!1)):m.warning("Le paiement est toujours en attente. Veuillez vérifier et confirmer le paiement.",{position:"top-center",autoClose:5e3})}catch(i){console.error("Erreur lors de la vérification du paiement:",i),m.error(`Erreur lors de la vérification: ${i.message}`,{position:"top-center",autoClose:5e3})}finally{x(!1)}},Y=()=>{S(!1),e()},K=()=>{if(w){const i=document.createElement("a");i.href=w,i.download=`qr-code-orange-money-${_}.png`,i.click()}},Z=()=>{w&&M&&M.openQRCode(w,_)},ee=async()=>{if(d==="orange"&&_)try{x(!0),m.info("Surveillance automatique du paiement démarrée...",{position:"top-center",autoClose:3e3}),(await M.monitorTransaction(_,10,3e4)).status==="completed"&&(await ie.updatePaymentDetails(localStorage.getItem("idDataPayment"),"completed","",r.name,r.email,b,"completed"),m.success("Paiement confirmé automatiquement!",{position:"top-center",autoClose:3e3}),setTimeout(()=>{t.type_sale==="preorder"?o(`/pre-commandes/${n}/détails`):t.type_sale==="creditorder"?o(`/credit-commandes/${n}/détails`):o(`/commandes/${n}/détails`),S(!1)},2e3))}catch(i){console.error("Erreur lors de la surveillance:",i),m.warning("Surveillance automatique échouée. Veuillez vérifier manuellement.",{position:"top-center",autoClose:5e3})}finally{x(!1)}};return a.jsxs(P,{size:"xl",className:"h-auto",show:L,popup:!0,onClose:e,children:[a.jsx(P.Header,{}),a.jsx(P.Body,{children:a.jsx("div",{className:"fixed inset-0 p-4 flex flex-wrap justify-center items-center w-full h-full z-[1000] before:fixed before:inset-0 before:w-full before:h-full before:bg-[rgba(0,0,0,0.5)] overflow-auto font-[sans-serif]",children:a.jsxs("div",{className:"w-full max-w-lg bg-white shadow-lg rounded-lg p-8 relative",children:[a.jsxs("div",{className:"flex items-start border-b border-gray-300 pb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"text-gray-800 text-xl font-bold",children:["Paiement"," ",t.type_sale=="order"?"Commande":t.type_sale=="preorder"?"Pré Commande":"Commande à crédit"," "]}),a.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Résumé détaillé de votre commande."})]}),a.jsx("p",{children:a.jsx(se,{onClick:Y,className:"cursor-pointer hover:text-red-500 hover:scale-150 duration-300"})})]}),t&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"my-8",children:[a.jsx("table",{className:"w-full",children:a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left text-gray-800 text-sm py-2",children:"Nom de la commande :"}),a.jsx("th",{className:"text-right text-gray-800 text-sm py-2",children:t.name})]})})}),a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left text-gray-800 text-sm py-2",children:"Nom produit"}),a.jsx("th",{className:"text-right text-gray-800 text-sm py-2",children:"Prix total"})]})}),a.jsx("tbody",{children:t&&t.order_lines.map((i,y)=>a.jsxs("tr",{children:[a.jsxs("td",{className:"text-left text-gray-800 text-sm py-2",children:[i.product_name," (",i.product_uom_qty,")"," "]}),a.jsx("td",{className:"text-right text-gray-800 text-sm py-2 font-medium",children:T(i.price_total)})]},y))})]}),a.jsx("table",{className:"w-full",children:a.jsxs("thead",{children:[a.jsxs("tr",{children:[a.jsx("th",{className:"text-left text-gray-800 text-sm py-2",children:"Total Commande (en FCFA) :"}),a.jsx("th",{className:"text-right text-gray-800 text-sm py-2",children:T(Math.ceil(t.amount_total))})]}),t.payment_mode=="echelonne"&&a.jsxs("tr",{children:[a.jsx("th",{className:"text-left text-gray-800 text-sm py-2",children:"Total à payer (en FCFA) :"}),a.jsx("th",{className:"text-right text-gray-800 text-sm py-2",children:T(Math.ceil(s))})]})]})}),H?a.jsxs("div",{className:"mt-6",children:[d==="orange"&&w&&a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("h4",{className:"text-orange-800 font-medium mb-4",children:"QR Code Orange Money généré"}),a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("img",{src:"/images/orange-money-logo.png",alt:"Orange Money",className:"h-10 w-auto"})}),a.jsx("div",{className:"bg-white p-4 rounded-lg inline-block mb-4 border-2 border-orange-200",children:a.jsx("img",{src:w||"/placeholder.svg",alt:"QR Code Orange Money",className:"max-w-full h-auto max-h-64"})}),a.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[a.jsxs(N,{onClick:Z,className:"w-full bg-orange-500 hover:bg-orange-600",children:[a.jsx(ne,{className:"mr-2 h-4 w-4"}),"Ouvrir le QR Code"]}),a.jsxs(N,{onClick:K,variant:"outline",className:"w-full",children:[a.jsx(ce,{className:"mr-2 h-4 w-4"}),"Télécharger le QR Code"]}),a.jsx(N,{onClick:ee,className:"w-full bg-green-500 hover:bg-green-600",disabled:h,children:h?a.jsxs(a.Fragment,{children:[a.jsx(I,{className:"mr-2 h-4 w-4 animate-spin"}),"Surveillance..."]}):"Surveillance automatique"})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:["Référence: ",a.jsx("span",{className:"font-medium",children:_})]}),(C==null?void 0:C.validity)&&a.jsxs("p",{children:["Validité: ",a.jsxs("span",{className:"font-medium",children:[C.validity," secondes"]})]})]})]}),d==="wave"&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("img",{src:O,alt:"Wave",className:"h-20 w-20"})}),a.jsx("h4",{className:"text-blue-800 font-medium mb-2",children:"Paiement Wave en attente"}),a.jsx("p",{className:"text-blue-700 text-sm",children:"Veuillez vérifier et confirmer le paiement."}),a.jsxs("p",{className:"text-blue-700 text-sm mt-2",children:["Référence: ",a.jsx("span",{className:"font-medium",children:X})]})]}),a.jsx("div",{className:"flex max-sm:flex-col items-center gap-4",children:a.jsx(N,{onClick:J,disabled:h,pill:!0,className:"rounded-lg px-5 py-2.5 font-medium w-full bg-green-600 hover:bg-green-700 text-white text-xl",children:h?a.jsxs(a.Fragment,{children:[a.jsx(I,{className:"mr-2 h-4 w-4 animate-spin"}),a.jsx("p",{children:"Vérification..."})]}):"Vérifier le paiement"})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mt-6 mb-4",children:[a.jsx("h4",{className:"text-gray-800 font-medium mb-3",children:"Choisissez votre méthode de paiement"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("div",{className:`flex-1 border rounded-lg p-4 cursor-pointer transition-all ${d==="wave"?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-blue-300"}`,onClick:()=>{R("wave")},children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{src:O,alt:"Wave",className:"h-12 w-auto mb-2"}),a.jsx("p",{className:"text-center font-medium",children:"Wave"})]})}),a.jsx("div",{className:`flex-1 border rounded-lg p-4 cursor-pointer transition-all ${d==="orange"?"border-orange-500 bg-orange-50":"border-gray-300 hover:border-orange-300"}`,onClick:()=>R("orange"),children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{src:de,alt:"Orange Money",className:"h-12 w-auto mb-2"}),a.jsx("p",{className:"text-center font-medium",children:"Orange Money"})]})})]})]}),d==="wave"&&a.jsxs("div",{className:"mt-4 mb-6",children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Numéro de téléphone Wave"}),a.jsx("input",{type:"tel",id:"phone",value:b,onChange:i=>Q(i.target.value),placeholder:"77 123 45 67",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Entrez votre numéro Wave (format: 77XXXXXXX ou 78XXXXXXX)"})]}),d==="orange"&&a.jsx("div",{className:"mt-4 mb-4",children:a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[a.jsx("div",{className:"flex items-center justify-center mb-2",children:a.jsx(le,{className:"h-6 w-6 text-orange-600"})}),a.jsx("p",{className:"text-center text-sm text-orange-700",children:"Un QR Code sera généré pour votre paiement Orange Money"})]})}),a.jsx("div",{className:"flex max-sm:flex-col items-center gap-4 mt-8",children:a.jsx(N,{onClick:B,disabled:h||!d||d==="wave"&&!b,pill:!0,className:"rounded-lg px-5 py-2.5 font-medium w-full hover:bg-red-500 hover:text-white text-xl",children:h?a.jsxs(a.Fragment,{children:[a.jsx(I,{className:"mr-2 h-4 w-4 animate-spin"}),a.jsx("p",{children:"Traitement en cours..."})]}):"Payer maintenant"})})]})]})})]})})})]})},ye=ue;export{ye as W};

{"version":3,"mappings":"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","names":["AuthContext","createContext","useAuthContext","context","useContext","authSessionKey","authSessionKeyToken","authSessionKeyUserInfo","authSessionKeySession","authSessionKeyCompany","authSessionKeyUserContext","authSessionKeyIsVerified","authSessionKeyParentId","AuthProvider","children","parent","setParent","useState","parentFomCookies","getCookie","company","setCompany","companyFromCookie","userContext","setUserContext","userContextFromCookie","isVerified","setIsVerified","isVerifiedFromCookie","token","setToken","tokenFromCookie","userInfo","setUserInfo","userInfoFromCookie","session","setSession","sessionFromCookie","saveUserInfo","useCallback","data","setCookie","saveSession","updateContextIfChanged","removeSession","deleteCookie","logout","newData","oldData","updateFn","refreshContext","getToken","getUserInfo","getCompany","getUserContext","contextValue","useMemo","hasCookie","urlApidev","urlBase","axiosInstance","axios","excludedEndpoints","config","endpoint","isFormData","error","response","originalRequest","refreshToken","accessToken","refreshError","CrmService","dataM","useGoogleAnalytics","useEffect","ReactGA","path","category","action","label","value","product","quantity","orderId","total","products","CartContext","CartProvider","user","trackEvent","trackAddToCart","trackAddToPreCart","trackAddToCreditCart","cart","setCart","wishlist","setWishlist","preorder","setPreorder","creditOrder","setCreditOrder","venteCherCart","setVenteCherCart","location","setLocation","guestId","getOrCreateGuestId","loadDataFromLocalStorage","crmCart","crmPreorder","crmCreditCart","crmVenteCherCart","produits","removeDuplicates","crmData","getCartTotal","item","getPreorderTotal","getCreditOrderTotal","getVenteCherCartTotal","saveDataToLocalStorage","addToCreditOrder","index","p","updatedCart","idx","__spreadProps","__spreadValues","newCartItem","addToCart","array","acc","current","addToPreorder","addToVenteCherCart","updateCreditOrder","clearCreditOrder","removeFromCreditOrder","removeFromCart","updateCart","clearCart","addAllWhislistToCart","addToWishlist","isProductInWishlist","removeFromWishlist","updateWishlist","clearWishlist","isProductInCart","removeFromVenteCherCart","updateVenteCherCart","clearVenteCherCart","getWishlistTotal","removeFromPreorder","updatePreorder","clearPreorder","isProductInPreorder","getPremierTranche","getDeuxiemeTranche","getTroisiemeTranche","cartData","wishlistData","preorderData","creditorderData","venteCherCartData","jsx","uuidv4","BreadcrumbCom","paths","Fragment","Link","PageTitle","title","breadcrumb","jsxs","ThinLove","className","ProduitService","params","query","id","name","modelData","ProductContext","ProductProvider","isLoadingProduct","setIsLoading","currentProducts","setCurrentProducts","totalProducts","setTotalProducts","produitHome","setProduitHome","errorList","setErrorList","errorHome","setErrorHome","filters","setFilters","aliveRef","useRef","priorityCategories","asArray","v","safeUpper","s","categoryIndex","prod","safeRang","r","sortByCategoryPriority","a","b","sortForHome","fetchProduitsHome","filtre","res","produitsRanged","e","fetchProducts","updateFilters","newFilters","prev","merged","_a","min","_b","max","_c","_d","_e","resetFilters","Categorieservice","CategoryContext","CategoryProvider","categories","setCategories","isLoadingCategorie","setIsLoadingCategorie","selectedCategory","setSelectedCategory","tags","setTags","isLoadingTags","setIsloadingTags","filtered","c","updateSelectedCategory","useCategory","PromoProductContext","PromoProductProvider","isLoadingProductPromo","setIsLoadingProductPromo","currentProductsPromo","setCurrentProductsPromo","totalProductsPromo","setTotalProductsPromo","produitHomePromo","setProduitHomePromo","errorPromoList","setErrorPromoList","errorPromoHome","setErrorPromoHome","isLoadingProductFlash","setIsLoadingProductsFlash","currentProductsFlash","setCurrentProductsFlash","totalProductsFlash","setTotalProductsFlash","produitHomeFlash","setProduitHomeFlash","errorFlashList","setErrorFlashList","errorFlashHome","setErrorFlashHome","isLoadingProductTabaski","setIsLoadingProductTabaski","currentProductsTabaski","setCurrentProductsTabaski","totalProductsTabaski","setTotalProductsTabaski","produitHomeTabaski","setProduitHomeTabaski","errorTabaskiList","setErrorTabaskiList","errorTabaskiHome","setErrorTabaskiHome","fetchProductsHomeTabaski","fetchProductsHomeFlash","fetchProduitsHomePromo","fetchProdcutsFlash","fetchProdcutsPromo","fetchProdcutsTabaski","VenteCherContext","VenteCherProvider","isLoadingProductVenteCher","setIsLoadingProductVenteCher","currentProductsVenteCher","setCurrentProductsVenteCher","totalProductsVenteCher","setTotalProductsVenteCher","produitHomeVenteCher","setProduitHomeVenteCher","errorVenteCherList","setErrorVenteCherList","errorVenteCherHome","setErrorVenteCherHome","fetchProduitsHomeVenteCher","fetchProductsVenteCher","Drawer","open","navigate","useNavigate","tab","setTab","updateProductFilters","resetProductFilters","productFilters","updatePromoFilters","resetPromoFilters","promoFilters","handleCategoryChange","categoryFromURL","HandleLogout","ShoppingCart","ShoppingBag","HeartHandshake","CircleX","Dot","ChevronRight","Facebook","Instagram","Youtube","Footer","type","FaPhone","formatPrice","prix","Cart","handleRemoveToCart","produit","Trash","PreCart","handleRemoveToPreCart","ThinPeople","CreditCart","VenteCherCart","handleRemoveToVenteCherCart","addTermeRecherche","SearchBox","isMobile","useLocation","dropdownRef","filtreProduit","filtrePromo","searchParams","initialQuery","initialCategory","setQuery","isDropdownOpen","setIsDropdownOpen","searchDebounceTimeout","setSearchDebounceTimeout","searchResults","setSearchResults","handleClickOutside","event","updateUrlParams","key","performSearch","searchQuery","TermeRecherche","filterProducts","filteredProducts","handleSearch","handleSearchChange","newQuery","handleResultClick","productName","Search","Middlebar","backgroundColor","textColor","handleCart","handlePreCart","handleCreditCart","handleVenteCherCart","onSearch","Heart","Arrow","width","height","Navbar","categoryToggle","setToggle","elementsSize","setSize","categorieSelected","setCategorieSelected","handler","getItems","HandleLout","Menu","Loader","Loader2","Asterisk","MoveRight","User","HeaderOne","drawerAction","headerHeight","setHeaderHeight","updateHeaderHeight","header","CommentSection","isSavOpen","setIsSavOpen","setIsMobile","isAnimating","setIsAnimating","savPanelRef","animationTimeoutRef","videoRef","checkMobile","startAnimation","initialDelay","X","CheckCircle","Clock","UserCheck","Shield","Phone","FaWhatsapp","HeadphonesIcon","useNewsletterPopup","showPopup","setShowPopup","handleClosePopup","now","showPopupOnPages","shouldShowPopup","lastClosed","NewsletterPopup","Layout","childrenClasses","trackPageView","drawer","setDrawer","Header","CommandeService","idPartner","isValidEmail","email","isValidPhoneNumber","phoneNumber","formattedNumber","CreatePartnerModalService","handleCreatePartner","order","onClose","setEmail","nom","setNom","prenom","setPrenom","adresse","setAdresse","telephone","setTelephone","setError","isLoading","openModal","setOpenModal","validateForm","errors","handleSubmitValidePanier","Modal","Label","Button","PackPromoService","code","SEOHeader","description","keywords","Helmet","ProductsTable","PackPromoPage","fullUrl","selectedPayment","setSelectedPayment","clickBUtton","setClickBUtton","showCreatePartnerModal","setShowCreatePartnerModal","setData","crmExecuted","setCrmExecuted","code_pack","setCodePack","pack","setPack","setProduits","montantTotal","setMontantTotal","toast","resultat","handlePaymentChange","handleCreatePanier","orde","compteData","initDataLayer","pushToDataLayer","trackPurchase","trackImageClick","ProductCardStyleOne","datas","mode","isPopupVisible","setIsPopupVisible","safeDatas","creditPrice","listPrice","promoPrice","hasPromo","isCreditAvailable","handleNotifyAdded","message","handleAddToCreditOrder","handleSubscribe","handleAddToCart","handleAddToWishlist","handleDetails","productBgStyle","img","Eye","tag","Badge","Check","ProductsFilter","filterToggle","handleVolumeChange","handleTypeFilterChange","newType","RangeSlider","Pagination","currentPage","totalPages","onPageChange","getPageNumbers","range","ChevronLeft","number","PromoFalshTabaskiPage","handlePageChange","pageNumber","categoryId","startIndex","endIndex","userService","body","credentials","mail","phone","access_token","expires_in","uid","avatar","partner_id","userData","VerifyOTP","otp","setOtp","otpError","setOtpError","verifyingOtp","setVerifyingOtp","emailParam","handleOtpChange","newOtp","nextInput","verifyOtp","otpValue","errorMessage","handleResendOtp","prevInput","base","jsonHeaders","MobileMoneyService","payload","msg","transaction_id","method","partnerId","WavePaymentVerifyPage","search","useSearchParams","transaction","loading","setLoading","setPayload","normalizedStatus","orderUrl","ui","XCircle","safe","fallback","asPrice","n","fetchStatus","AlertTriangle","Section","Row","ExternalLink","OmPaymentVerifyPage","Home","lazy","__vitePreload","AllProductPage","SingleProductPage","PromoFalshPage","PreOrderPage","CreditOrderPage","OrderPage","OrderPaymentPage","PaymentStatePage","CardPage","PreCardPage","CheakoutPage","Wishlist","CreditCartPage","ProductsCompaire","TrackingOrder","Faq","Login","NewPassword","ResetPassword","Signup","CreateCompte","Profile","PrivacyPolicy","TermsCondition","ConditionGeneralDeVentePage","LivraisonEtRetoursPage","AchatSecurisesPage","PolitiqueDeConfidentialitePage","ProductCreditPage","ProcessusCommandeCredit","PromoProductPage","VenteCherPage","VenteCherCartPage","Information","Loading","ProtectedRoute","isAuthenticated","Navigate","Routers","router","createBrowserRouter","Suspense","RouterProvider","PaymentContext","React","PaymentProvider","payment","setPayment","setUserPayment","userLocal","setOrder","setPaymentDetails","details","setTotalAmount","amount","clearPayment","cn","inputs","twMerge","clsx","ToastProvider","ToastPrimitives.Provider","ToastViewport","React.forwardRef","ref","props","__objRest","ToastPrimitives.Viewport","toastVariants","cva","Toast","variant","ToastPrimitives.Root","ToastAction","ToastPrimitives.Action","ToastClose","ToastPrimitives.Close","ToastTitle","ToastPrimitives.Title","ToastDescription","ToastPrimitives.Description","TOAST_LIMIT","TOAST_REMOVE_DELAY","count","genId","toastTimeouts","addToRemoveQueue","toastId","timeout","dispatch","reducer","state","t","listeners","memoryState","listener","update","dismiss","useToast","setState","React.useState","React.useEffect","Toaster","toasts","App","ToastContainer","store","configureStore","checkInterval","getCurrentVersion","metaTag","fetchServerVersion","match","forceReload","names","checkForUpdate","serverVersion","currentVersion","startVersionChecker","intervalMs","stopVersionChecker","ReactDOM","Provider"],"ignoreList":[],"sources":["../../../orbit-city-final-dev/src/contexts/useAuthContext.jsx","../../../orbit-city-final-dev/src/config/axiosConfig.js","../../../orbit-city-final-dev/src/services/CrmService.jsx","../../../orbit-city-final-dev/src/Hooks/useGoogleAnalytics.jsx","../../../orbit-city-final-dev/src/contexts/CartContext.jsx","../../../orbit-city-final-dev/src/components/BreadcrumbCom.jsx","../../../orbit-city-final-dev/src/components/Helpers/PageTitle.jsx","../../../orbit-city-final-dev/src/components/Helpers/icons/ThinLove.jsx","../../../orbit-city-final-dev/src/services/produitService.jsx","../../../orbit-city-final-dev/src/Provider/ProductContext.jsx","../../../orbit-city-final-dev/src/services/CategorieService.jsx","../../../orbit-city-final-dev/src/Provider/CategoryContext.jsx","../../../orbit-city-final-dev/src/Provider/PromoProductContext.jsx","../../../orbit-city-final-dev/src/Provider/VenteCherContext.jsx","../../../orbit-city-final-dev/src/components/Mobile/Drawer/index.jsx","../../../orbit-city-final-dev/src/components/Helpers/icons/Facebook.jsx","../../../orbit-city-final-dev/src/components/Helpers/icons/Instagram.jsx","../../../orbit-city-final-dev/src/components/Helpers/icons/Youtube.jsx","../../../orbit-city-final-dev/src/components/Partials/Footers/Footer/index.jsx","../../../orbit-city-final-dev/src/utils/formatPrice.jsx","../../../orbit-city-final-dev/src/components/Cart/index.jsx","../../../orbit-city-final-dev/src/components/PreCart/index.jsx","../../../orbit-city-final-dev/src/components/Helpers/icons/ThinPeople.jsx","../../../orbit-city-final-dev/src/components/CreditCart/index.jsx","../../../orbit-city-final-dev/src/components/VenteCherCart/index.jsx","../../../orbit-city-final-dev/src/services/TermeRecherche.jsx","../../../orbit-city-final-dev/src/components/Helpers/SearchBox/index.jsx","../../../orbit-city-final-dev/src/components/Partials/Headers/HeaderOne/Middlebar.jsx","../../../orbit-city-final-dev/src/components/Helpers/icons/Arrow.jsx","../../../orbit-city-final-dev/src/components/Partials/Headers/HeaderOne/Navbar.jsx","../../../orbit-city-final-dev/src/components/Partials/Headers/HeaderOne/index.jsx","../../../orbit-city-final-dev/src/components/chatBot/commentSection.jsx","../../../orbit-city-final-dev/src/Hooks/useNewsletterPopup.jsx","../../../orbit-city-final-dev/src/components/Popup/NewsletterPopup.jsx","../../../orbit-city-final-dev/src/components/Partials/Layout.jsx","../../../orbit-city-final-dev/src/services/commandeService.jsx","../../../orbit-city-final-dev/src/utils/validations.jsx","../../../orbit-city-final-dev/src/services/CreatePartnerModalService.jsx","../../../orbit-city-final-dev/src/services/PackPromoService.jsx","../../../orbit-city-final-dev/src/components/Partials/Headers/HeaderOne/SEOHeader.jsx","../../../orbit-city-final-dev/src/components/Pack/ProductsTable.jsx","../../../orbit-city-final-dev/src/components/Pack/pack-promo.jsx","../../../orbit-city-final-dev/src/utils/tracking.jsx","../../../orbit-city-final-dev/src/components/Helpers/Cards/ProductCardStyleOne.jsx","../../../orbit-city-final-dev/src/components/PromoFalshKoritePage/ProductsFilter.jsx","../../../orbit-city-final-dev/src/components/PromoFalshKoritePage/Pagination.jsx","../../../orbit-city-final-dev/src/components/PromoFalshKoritePage/index.jsx","../../../orbit-city-final-dev/src/services/userService.jsx","../../../orbit-city-final-dev/src/components/Auth/VerifyOTP/index.jsx","../../../orbit-city-final-dev/src/services/Payment/mobile-money-service.jsx","../../../orbit-city-final-dev/src/components/payments/WavePaymentVerifyPage.jsx","../../../orbit-city-final-dev/src/components/payments/OmPaymentVerifyPage.jsx","../../../orbit-city-final-dev/src/Routers.jsx","../../../orbit-city-final-dev/src/contexts/PaymentContext.jsx","../../../orbit-city-final-dev/src/contexts/PaymentProvider.jsx","../../../orbit-city-final-dev/src/utils/cn.jsx","../../../orbit-city-final-dev/src/components/ui/toast.jsx","../../../orbit-city-final-dev/src/components/ui/use-toast.js","../../../orbit-city-final-dev/src/components/ui/toaster.jsx","../../../orbit-city-final-dev/src/App.jsx","../../../orbit-city-final-dev/src/store.jsx","../../../orbit-city-final-dev/src/utils/versionChecker.js","../../../orbit-city-final-dev/src/main.jsx"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable react/prop-types */\n/* eslint-disable react/prop-types */\n/* eslint-disable react/prop-types */\nimport { createContext, useContext, useState, useMemo, useCallback } from \"react\";\nimport { deleteCookie, hasCookie, getCookie, setCookie } from \"cookies-next\";\n\n\nconst AuthContext = createContext(undefined);\n\n// eslint-disable-next-line react-refresh/only-export-components\nexport function useAuthContext() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error(\"useAuthContext must be used within an AuthProvider\");\n  }\n  return context;\n}\n\nconst authSessionKey = \"__CCBME_REACT_AUTH__PROD\";\nconst authSessionKeyToken = \"__CCBME_REACT_AUTH__TOKEN__PROD\";\nconst authSessionKeyUserInfo = \"__CCBME_REACT_AUTH__USER_INFO__PROD\";\nconst authSessionKeySession = \"__CCBME_REACT_AUTH__SESSION__PROD\";\nconst authSessionKeyCompany = \"__CCBME_REACT_AUTH__COMPANY__PROD\";\nconst authSessionKeyUserContext = \"__CCBME_REACT_AUTH__USER_CONTEXT__PROD\";\nconst authSessionKeyIsVerified = \"__CCBME_REACT_AUTH__IS_VERIFIED__PROD\";\nconst authSessionKeyParentId = \"__CCBME_REACT_AUTH__PARET_ID__PROD\";\n\nexport function AuthProvider({ children }) {\n\n  const [parent, setParent] = useState(() => {\n    const parentFomCookies = getCookie(authSessionKeyParentId);\n    return parentFomCookies ? JSON.parse(parentFomCookies) : undefined;\n  });\n\n  const [company, setCompany] = useState(() => {\n    const companyFromCookie = getCookie(authSessionKeyCompany);\n    return companyFromCookie ? JSON.parse(companyFromCookie) : undefined;\n  });\n\n  const [userContext, setUserContext] = useState(() => {\n    const userContextFromCookie = getCookie(authSessionKeyUserContext);\n    return userContextFromCookie ? JSON.parse(userContextFromCookie) : undefined;\n  });\n\n  const [isVerified, setIsVerified] = useState(() => {\n    const isVerifiedFromCookie = getCookie(authSessionKeyIsVerified);\n    return isVerifiedFromCookie ? JSON.parse(isVerifiedFromCookie) : undefined;\n  });\n\n  const [token, setToken] = useState(() => {\n    const tokenFromCookie = getCookie(authSessionKeyToken);\n    return tokenFromCookie ? JSON.parse(tokenFromCookie) : undefined;\n  });\n\n  const [userInfo, setUserInfo] = useState(() => {\n    const userInfoFromCookie = getCookie(authSessionKeyUserInfo);\n    return userInfoFromCookie ? JSON.parse(userInfoFromCookie) : undefined;\n  });\n\n  const [session, setSession] = useState(() => {\n    const sessionFromCookie = getCookie(authSessionKey);\n    return sessionFromCookie ? JSON.parse(sessionFromCookie) : undefined;\n  });\n\n  const saveUserInfo = useCallback((data) => {\n    // console.log(\"data \", data);\n    setCookie(authSessionKeyUserInfo, JSON.stringify(data.user_info));\n    setUserInfo(data.user_info);\n  }, [])\n\n\n\n  const saveSession = useCallback((data) => {\n    updateContextIfChanged(data.user_info, userInfo, setUserInfo);\n    updateContextIfChanged(data.company, company, setCompany);\n    updateContextIfChanged(data.parent, parent, setParent);\n    updateContextIfChanged(data.user_context, userContext, setUserContext);\n    updateContextIfChanged(data.is_verified, isVerified, setIsVerified);\n\n    setCookie(authSessionKey, JSON.stringify(data));\n    setCookie(authSessionKeyToken, JSON.stringify(data.access_token));\n    setCookie(authSessionKeyUserInfo, JSON.stringify(data.user_info));\n    setCookie(authSessionKeyCompany, JSON.stringify(data.company));\n    setCookie(authSessionKeyIsVerified, JSON.stringify(data.is_verified));\n    setCookie(authSessionKeyParentId, JSON.stringify(data.parent));\n  }, [userInfo, company, parent, userContext, isVerified]);\n\n\n  const removeSession = useCallback(() => {\n    deleteCookie(authSessionKey);\n    deleteCookie(authSessionKeyToken);\n    deleteCookie(authSessionKeyUserInfo);\n    deleteCookie(authSessionKeySession);\n    deleteCookie(authSessionKeyCompany);\n    deleteCookie(authSessionKeyIsVerified);\n    deleteCookie(authSessionKeyUserContext);\n    deleteCookie(authSessionKeyParentId);\n\n    setToken(undefined);\n    setUserInfo(undefined);\n    setSession(undefined);\n    setCompany(undefined);\n    setIsVerified(undefined);\n    setUserContext(undefined);\n    setParent(undefined)\n  }, []);\n\n  const logout = useCallback(async () => {\n    // console.log(\"Logging out...\");\n    removeSession();\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"accessToken\");\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"uid\");\n    localStorage.removeItem(\"expires_in\");\n    localStorage.removeItem(\"is_verified\");\n    localStorage.removeItem(\"refresh_expires_in\");\n    localStorage.removeItem(\"refresh_token\");\n    localStorage.removeItem(\"company_id\");\n    localStorage.removeItem(\"user_context\");\n    localStorage.removeItem(\"partner_id\");\n    localStorage.removeItem(\"parent\");\n    // console.log(\"Logout complete\");\n\n  }, [removeSession]);\n\n  const updateContextIfChanged = (newData, oldData, updateFn) => {\n    if (JSON.stringify(newData) !== JSON.stringify(oldData)) {\n      // console.log(\"Mise  jour ncessaire :\", newData);\n      updateFn(newData);\n    }\n  };\n\n  const refreshContext = useCallback(async (newData) => {\n    // Mise  jour conditionnelle pour chaque partie du contexte\n    updateContextIfChanged(newData.user_info, userInfo, setUserInfo);\n    updateContextIfChanged(newData.company, company, setCompany);\n    updateContextIfChanged(newData.parent, parent, setParent);\n    updateContextIfChanged(newData.user_context, userContext, setUserContext);\n    updateContextIfChanged(newData.is_verified, isVerified, setIsVerified);\n  }, [userInfo, company, parent, userContext, isVerified]);\n\n\n\n  const getToken = useCallback(() => token, [token]);\n  const getUserInfo = useCallback(() => userInfo, [userInfo]);\n  const getCompany = useCallback(() => company, [company]);\n  const getUserContext = useCallback(() => userContext, [userContext]);\n\n  const contextValue = useMemo(\n    () => ({\n      session,\n      logout,\n      user: userInfo,\n      token,\n      userInfo,\n      company,\n      parent,\n      userContext,\n      isVerified,\n      getUserInfo,\n      getCompany,\n      getUserContext,\n      getToken,\n      saveSession,\n      saveUserInfo,\n      removeSession,\n      isAuthenticated: hasCookie(authSessionKey) && isVerified,\n      refreshContext\n    }),\n    [session, logout, userInfo, token, company, parent, userContext, isVerified, getUserInfo, getCompany, getUserContext, getToken, saveSession, saveUserInfo, removeSession, refreshContext]\n  );\n\n  return (\n    <AuthContext.Provider value={contextValue}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\n\n\n","/* eslint-disable no-unused-vars */\r\nimport axios from \"axios\";\r\n\r\nconst urlApidev =\r\n    import.meta.env.VITE_API_URL_DEV;\r\n\r\nconst urlBase = urlApidev;\r\n\r\nconst axiosInstance = axios.create({\r\n    baseURL: urlApidev\r\n});\r\n\r\n\r\n\r\nconst excludedEndpoints = [\r\n    \"/auth\",\r\n    // \"/users\",\r\n    \"/produits\",\r\n    \"/tags\",\r\n    \"/categories\",\r\n    \"/new_compte\",\r\n    \"/tracking\",\r\n    \"/sendResetPasswordMail\",\r\n    \"/create_leads\",\r\n    \"/api/produits-filtrer\",\r\n    \"/api/produits-filter-promo\",\r\n    \"/api/produits-filtrer-tabaski\",\r\n    \"/api/produits-filtrer-ramadan\",\r\n    \"/api/produits\",\r\n    \"/api/auth/get_tokens\",\r\n    \"/api/new-password\",\r\n    \"/api/reset-password-sms\",\r\n    \"/api/new_compte\",\r\n    \"/api/reset-password-email\",\r\n    \"/api/auth/refresh_token\",\r\n    \"/api/get-pub\",\r\n    // \"/api/commandes\"\r\n    // \"/api/users/\"\r\n];\r\n\r\naxiosInstance.interceptors.request.use(\r\n    (config) => {\r\n        const isExcludedEndpoint = excludedEndpoints.some((endpoint) =>\r\n            config.url.startsWith(endpoint)\r\n        );\r\n\r\n        console.log(localStorage.getItem(\"access_token\"))\r\n        console.log(\"access_token\")\r\n        // if (!isExcludedEndpoint) {\r\n        //   const token = localStorage.getItem(\"access_token\");\r\n        //   if (token) {\r\n        //     config.headers[\"Access-Token\"] = `${token}`;\r\n        //     config.headers[\"Content-Type\"] = \"application/json\";\r\n        //   }\r\n        // } else {\r\n        //   config.headers[\"Content-Type\"] = \"application/json\";\r\n        //   config.headers[\"Accept\"] = \"application/json\";\r\n        // }\r\n\r\n        const isFormData = typeof FormData !== \"undefined\" && (config.data instanceof FormData);\r\n        if (!isFormData && !config.headers[\"Content-Type\"]) {\r\n            config.headers[\"Content-Type\"] = \"application/json\";\r\n        }\r\n        if (isFormData && config.headers[\"Content-Type\"] === \"application/json\") {\r\n            delete config.headers[\"Content-Type\"];\r\n        }\r\n        config.headers[\"Accept\"] = config.headers[\"Accept\"] || \"application/json\";\r\n        return config;\r\n    },\r\n    (error) => {\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\naxiosInstance.interceptors.response.use(\r\n    (response) => {\r\n        return response;\r\n    },\r\n    async(error) => {\r\n        const originalRequest = error.config;\r\n\r\n        if (\r\n            error.response &&\r\n            error.response.status === 401 &&\r\n            !originalRequest._retry\r\n        ) {\r\n            originalRequest._retry = true;\r\n            try {\r\n                const refreshToken = localStorage.getItem(\"refresh_token\");\r\n                const response = await axios.post(urlBase, { refreshToken });\r\n\r\n                const { accessToken } = response.data;\r\n                localStorage.setItem(\"access_token\", accessToken);\r\n\r\n                originalRequest.headers[\"Access-Token\"] = `${accessToken}`;\r\n                return axiosInstance(originalRequest);\r\n            } catch (refreshError) {\r\n                console.error(\"Refresh token failed\", refreshError);\r\n            }\r\n        }\r\n\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\nexport default axiosInstance;","// services/produitservice.js\r\nimport axiosInstance from \"../config/axiosConfig\";\r\n\r\nconst CrmService = {\r\n    sendCRMData: async (dataM) => {\r\n        try {\r\n            const response = await axiosInstance.post('api/create_or_update_crm', dataM);\r\n            return response;\r\n        } catch (error) {\r\n            console.error('Error sending CRM data:', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n};\r\n\r\nexport default CrmService;\r\n","import { useEffect } from 'react';\r\nimport ReactGA from 'react-ga4';\r\n\r\nconst useGoogleAnalytics = () => {\r\n\r\n    useEffect(() => {\r\n        ReactGA.initialize('G-RFPT6N0J05'); // Replace with your GA4 measurement ID\r\n    }, []);\r\n\r\n\r\n\r\n    const trackPageView = (path) => {\r\n        ReactGA.send({ hitType: \"pageview\", page: path });\r\n    };\r\n\r\n\r\n    const trackEvent = (category, action, label, value) => {\r\n        ReactGA.event({\r\n            category,\r\n            action,\r\n            label,\r\n            value,\r\n        });\r\n    };\r\n\r\n    const trackAddToCart = (product, quantity) => {\r\n        ReactGA.event({\r\n            category: 'Ecommerce',\r\n            action: 'Add to Cart',\r\n            label: product.name,\r\n            value: product.list_price * quantity,\r\n        });\r\n    };\r\n\r\n    const trackImageClick = () => {\r\n        ReactGA.event({ category: 'Image', action: 'Clicked on product image' });\r\n    };\r\n\r\n    const trackAddToPreCart = (product, quantity) => {\r\n        ReactGA.event({\r\n            category: 'Ecommerce',\r\n            action: 'Add to PreCart',\r\n            label: product.name,\r\n            value: product.preorder_price * quantity,\r\n        });\r\n    };\r\n\r\n    const trackAddToCreditCart = (product, quantity) => {\r\n        ReactGA.event({\r\n            category: 'Ecommerce',\r\n            action: 'Add to CreditCart',\r\n            label: product.name,\r\n            value: product.creditorder_price * quantity,\r\n        });\r\n    };\r\n    const trackRemoveFromCart = (product) => {\r\n        ReactGA.event({\r\n            category: 'Ecommerce',\r\n            action: 'Remove from Cart',\r\n            label: product.name,\r\n        });\r\n    };\r\n\r\n    const trackPurchase = (orderId, total, products) => {\r\n        ReactGA.event({\r\n            category: 'Ecommerce',\r\n            action: 'Purchase',\r\n            label: orderId,\r\n            value: total,\r\n        });\r\n\r\n        // Send detailed purchase data\r\n        ReactGA.send({\r\n            hitType: \"event\",\r\n            eventCategory: \"Ecommerce\",\r\n            eventAction: \"Purchase\",\r\n            eventLabel: orderId,\r\n            eventValue: total,\r\n            ecommerce: {\r\n                purchase: {\r\n                    actionField: {\r\n                        id: orderId,\r\n                        revenue: total,\r\n                    },\r\n                    products: products.map(product => ({\r\n                        name: product.name,\r\n                        price: product.list_price,\r\n                        quantity: product.quantity,\r\n                    })),\r\n                },\r\n            },\r\n        });\r\n    };\r\n\r\n    return { trackImageClick, trackPageView, trackEvent, trackAddToCart, trackAddToPreCart, trackAddToCreditCart, trackRemoveFromCart, trackPurchase };\r\n};\r\n\r\nexport default useGoogleAnalytics;\r\n\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react-hooks/exhaustive-deps */\r\n/* eslint-disable react/prop-types */\r\n// CartContext.js\r\nimport { createContext, useEffect, useState } from \"react\";\r\n\r\nexport const CartContext = createContext();\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const { user } = useAuthContext();\r\n  const { trackEvent, trackAddToCart, trackAddToPreCart, trackAddToCreditCart } = useGoogleAnalytics();\r\n\r\n  const [cart, setCart] = useState([]);\r\n  const [wishlist, setWishlist] = useState([]);\r\n  const [preorder, setPreorder] = useState([]);\r\n  const [creditOrder, setCreditOrder] = useState([]);\r\n  const [venteCherCart, setVenteCherCart] = useState([]);\r\n  const [location, setLocation] = useState(null);\r\n  const guestId = getOrCreateGuestId();\r\n\r\n  useEffect(() => {\r\n    const fetchLocation = async () => {\r\n      try {\r\n        const response = await fetch('https://ipinfo.io/json?token=a7bca817c4bc37');\r\n        if (!response.ok) {\r\n          throw new Error('Error fetching location data');\r\n        }\r\n        const data = await response.json();\r\n        setLocation(data);\r\n      } catch (error) {\r\n        console.error('Error:', error);\r\n      }\r\n    };\r\n    fetchLocation();\r\n    loadDataFromLocalStorage();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (cart.length > 0) {\r\n      crmCart();\r\n    }\r\n  }, [cart]);\r\n\r\n  useEffect(() => {\r\n    if (preorder.length > 0) {\r\n      crmPreorder();\r\n    }\r\n  }, [preorder]);\r\n\r\n  useEffect(() => {\r\n    if (creditOrder.length > 0) {\r\n      crmCreditCart();\r\n    }\r\n  }, [creditOrder]);\r\n\r\n  useEffect(() => {\r\n    if (venteCherCart.length > 0) {\r\n      crmVenteCherCart();\r\n    }\r\n  }, [venteCherCart]);\r\n\r\n  const crmCart = async () => {\r\n\r\n    if (!cart.length) {\r\n      console.warn(\"Panier vide : aucune donne  envoyer au CRM.\");\r\n      return;\r\n    }\r\n\r\n    const produits = removeDuplicates(cart);\r\n\r\n    const crmData = {\r\n      guest_id: guestId || 'Guest-Id',\r\n      location: location ? `${location.city}/${location.region}/${location.country} Ip: ${location.ip}` : \"\",\r\n      localisation: location?.loc || \"\",\r\n      name: user ? user.name : 'Guest',\r\n      phone: user ? user.partner_phone : 'Guest',\r\n      email: user ? user.email : 'Guest',\r\n      type: \"commande\",\r\n      total: getCartTotal(),\r\n      date: new Date().toLocaleString(),\r\n      produits: produits.map((item) => ({\r\n        id: item.id,\r\n        nom: item.name,\r\n        quantit: item.quantity,\r\n        prix: item.en_promo ? item.promo_price : item.list_price,\r\n        location: item.location,\r\n        panier: \"Commande\",\r\n        date: item.date,\r\n      })),\r\n    };\r\n    console.log(crmData);\r\n    try {\r\n      const response = await CrmService.sendCRMData(crmData);\r\n      console.log(response);\r\n    } catch (error) {\r\n      console.error('Error sending CRM data:', error);\r\n    }\r\n  }\r\n\r\n  const crmPreorder = async () => {\r\n\r\n    const produits = removeDuplicates(preorder);\r\n\r\n    const crmData = {\r\n      guest_id: guestId,\r\n      location: location ? `${location.city}/${location.region}/${location.country} Ip: ${location.ip}` : \"\",\r\n      localisation: location?.loc || \"\",\r\n      name: user ? user.name : 'Guest',\r\n      phone: user ? user.partner_phone : 'Guest',\r\n      email: user ? user.email : 'Guest',\r\n      type: \"precommande\",\r\n      total: getPreorderTotal(),\r\n      date: new Date().toLocaleString(),\r\n      produits: produits.map((item) => ({\r\n        id: item.id,\r\n        nom: item.name,\r\n        quantit: item.quantity,\r\n        prix: item.en_promo ? item.promo_price : item.list_price,\r\n        location: item.location,\r\n        panier: \"PreCommande\",\r\n        date: item.date,\r\n      })),\r\n    };\r\n    console.log(crmData);\r\n    try {\r\n      const response = await CrmService.sendCRMData(crmData);\r\n      console.log(response);\r\n    } catch (error) {\r\n      console.error('Error sending CRM data:', error);\r\n    }\r\n\r\n  }\r\n\r\n  const crmCreditCart = async () => {\r\n\r\n    const produits = removeDuplicates(creditOrder);\r\n\r\n    const crmData = {\r\n      guest_id: guestId,\r\n      location: location ? `${location.city}/${location.region}/${location.country} Ip: ${location.ip}` : \"\",\r\n      localisation: location?.loc || \"\",\r\n      name: user ? user.name : 'Guest',\r\n      phone: user ? user.partner_phone : 'Guest',\r\n      email: user ? user.email : 'Guest',\r\n      type: \"acredit\",\r\n      total: getCreditOrderTotal(),\r\n      date: new Date().toLocaleString(),\r\n      produits: produits.map((item) => ({\r\n        id: item.id,\r\n        nom: item.name,\r\n        quantit: item.quantity,\r\n        prix: item.en_promo ? item.promo_price : item.list_price,\r\n        location: item.location,\r\n        panier: \"Crdit\",\r\n        date: item.date,\r\n      })),\r\n    };\r\n    console.log(crmData);\r\n    try {\r\n      const response = await CrmService.sendCRMData(crmData);\r\n      console.log(response);\r\n    } catch (error) {\r\n      console.error('Error sending CRM data:', error);\r\n    }\r\n  }\r\n\r\n  const crmVenteCherCart = async () => {\r\n    if (!venteCherCart.length) {\r\n      console.warn(\"Panier Vente en cher vide : aucune donne  envoyer au CRM.\");\r\n      return;\r\n    }\r\n\r\n    const produits = removeDuplicates(venteCherCart);\r\n\r\n    const crmData = {\r\n      guest_id: guestId,\r\n      location: location ? `${location.city}/${location.region}/${location.country} Ip: ${location.ip}` : \"\",\r\n      localisation: location?.loc || \"\",\r\n      name: user ? user.name : 'Guest',\r\n      phone: user ? user.partner_phone : 'Guest',\r\n      email: user ? user.email : 'Guest',\r\n      type: \"ventecher\",\r\n      total: getVenteCherCartTotal(),\r\n      date: new Date().toLocaleString(),\r\n      produits: produits.map((item) => ({\r\n        id: item.id,\r\n        nom: item.name,\r\n        quantit: item.quantity,\r\n        prix: item.list_price,\r\n        location: item.location,\r\n        panier: \"Vente en cher\",\r\n        date: item.date,\r\n      })),\r\n    };\r\n    console.log(crmData);\r\n    try {\r\n      const response = await CrmService.sendCRMData(crmData);\r\n      console.log(response);\r\n    } catch (error) {\r\n      console.error('Error sending CRM data (Vente en cher):', error);\r\n    }\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    saveDataToLocalStorage();\r\n  }, [cart, wishlist, preorder, creditOrder, venteCherCart]);\r\n\r\n\r\n\r\n  const addToCreditOrder = (product, quantity) => {\r\n    const index = creditOrder.findIndex((p) => p.id === product.id);\r\n    if (index !== -1) {\r\n      const updatedCart = creditOrder.map((item, idx) => {\r\n        if (idx === index) {\r\n          return { ...item, quantity: item.quantity + quantity };\r\n        }\r\n        return item;\r\n      });\r\n      setCreditOrder(updatedCart);\r\n    } else {\r\n      const newCartItem = {\r\n        ...product,\r\n        quantity,\r\n        date: new Date().toLocaleString(),\r\n        location: location\r\n          ? `${location.city}/${location.region}/${location.country} IP: ${location.ip}`\r\n          : \"Localisation non disponible\",\r\n      };\r\n\r\n      setCreditOrder([...creditOrder, newCartItem]);\r\n\r\n    }\r\n\r\n    trackEvent('Ecommerce', 'Add to CreditCart', product.name, product.creditorder_price * quantity);\r\n    // trackEvent('Ecommerce', 'Add to CreditCart', product.name, product.creditorder_price * quantity);\r\n    trackAddToCreditCart(product, quantity);\r\n  }\r\n\r\n  const addToCart = (product, quantity) => {\r\n    const index = cart.findIndex((p) => p.id === product.id);\r\n\r\n    if (index !== -1) {\r\n      const updatedCart = cart.map((item, idx) => {\r\n        if (idx === index) {\r\n          return { ...item, quantity: item.quantity + quantity };\r\n        }\r\n        return item;\r\n      });\r\n      setCart(updatedCart);\r\n    } else {\r\n\r\n      const newCartItem = {\r\n        ...product,\r\n        quantity,\r\n        date: new Date().toLocaleString(),\r\n        location: location\r\n          ? `${location.city}/${location.region}/${location.country} IP: ${location.ip}`\r\n          : \"Localisation non disponible\",\r\n      };\r\n      setCart([...cart, newCartItem]);\r\n    }\r\n    trackAddToCart(product, quantity);\r\n    trackEvent('Ecommerce', 'Add to Cart', product.name, product.list_price * quantity);\r\n    // trackEvent('Ecommerce', 'Add to Cart', product.name, product.list_price * quantity);\r\n    // trackAddToCart(product, quantity);\r\n\r\n  };\r\n\r\n  const removeDuplicates = (array) => {\r\n    const uniqueItems = array.reduce((acc, current) => {\r\n      const found = acc.find((item) => item.id === current.id);\r\n      if (!found) {\r\n        acc.push(current);\r\n      }\r\n      return acc;\r\n    }, []);\r\n    return uniqueItems;\r\n  };\r\n\r\n\r\n  const addToPreorder = (product, quantity) => {\r\n    const index = preorder.findIndex((p) => p.id === product.id);\r\n    if (index !== -1) {\r\n      preorder[index].quantity += quantity;\r\n    } else {\r\n      const newCartItem = {\r\n        ...product,\r\n        quantity,\r\n        date: new Date().toLocaleString(),\r\n        location: location\r\n          ? `${location.city}/${location.region}/${location.country} IP: ${location.ip}`\r\n          : \"Localisation non disponible\",\r\n      };\r\n      setPreorder([...preorder, newCartItem]);\r\n    }\r\n\r\n    trackEvent('Ecommerce', 'Add to PreCart', product.name, product.preorder_price * quantity);\r\n    trackAddToPreCart(product, quantity);\r\n\r\n  };\r\n\r\n  const addToVenteCherCart = (product, quantity) => {\r\n    const index = venteCherCart.findIndex((p) => p.id === product.id);\r\n    if (index !== -1) {\r\n      const updatedCart = venteCherCart.map((item, idx) => {\r\n        if (idx === index) {\r\n          return { ...item, quantity: item.quantity + quantity };\r\n        }\r\n        return item;\r\n      });\r\n      setVenteCherCart(updatedCart);\r\n    } else {\r\n      const newCartItem = {\r\n        ...product,\r\n        quantity,\r\n        date: new Date().toLocaleString(),\r\n        location: location\r\n          ? `${location.city}/${location.region}/${location.country} IP: ${location.ip}`\r\n          : \"Localisation non disponible\",\r\n      };\r\n      setVenteCherCart([...venteCherCart, newCartItem]);\r\n    }\r\n\r\n    trackEvent('Ecommerce', 'Add to VenteCherCart', product.name, product.list_price * quantity);\r\n  };\r\n\r\n  const updateCreditOrder = (product, quantity) => {\r\n\r\n    setCreditOrder(\r\n      creditOrder.map((item) =>\r\n        item.id === product.id ? { ...item, quantity } : item\r\n      )\r\n    );\r\n  }\r\n\r\n  const clearCreditOrder = () => {\r\n    setCreditOrder([])\r\n  }\r\n\r\n  const removeFromCreditOrder = (product) => {\r\n    setCreditOrder(creditOrder.filter((item) => item.id !== product.id));\r\n  }\r\n\r\n  const getCreditOrderTotal = () => {\r\n    return creditOrder.reduce((total, item) => total + item.creditorder_price * item.quantity, 0)\r\n  }\r\n\r\n\r\n  const removeFromCart = (product) => {\r\n    setCart(cart.filter((item) => item.id !== product.id));\r\n    // supprimer aussi dans local storage\r\n    // localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  };\r\n\r\n  const updateCart = (product, quantity) => {\r\n    setCart(\r\n      cart.map((item) =>\r\n        item.id === product.id ? { ...item, quantity } : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const clearCart = () => {\r\n    setCart([]);\r\n\r\n  };\r\n\r\n  const addAllWhislistToCart = () => {\r\n    wishlist.map((item) => {\r\n      addToCart(item, item.quantity);\r\n    });\r\n  };\r\n\r\n\r\n  const addToWishlist = (product, quantity) => {\r\n    // console.log(product);\r\n    if (!isProductInWishlist(product)) {\r\n      setWishlist([...wishlist, { ...product, quantity }]);\r\n    }\r\n  };\r\n\r\n  const removeFromWishlist = (product) => {\r\n    setWishlist(wishlist.filter((item) => item.id !== product.id));\r\n  };\r\n\r\n  const updateWishlist = (product, quantity) => {\r\n    setWishlist(\r\n      wishlist.map((item) =>\r\n        item.id === product.id ? { ...item, quantity } : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const clearWishlist = () => {\r\n    setWishlist([]);\r\n  };\r\n\r\n  const isProductInCart = (product) => {\r\n    return cart.some((item) => item.id === product.id);\r\n  };\r\n\r\n  const isProductInWishlist = (product) => {\r\n    return wishlist.some((item) => item.id === product.id);\r\n  };\r\n\r\n  const getCartTotal = () => {\r\n    return cart.reduce(\r\n      (total, item) => total + (item.en_promo ? item.promo_price : item.list_price) * item.quantity,\r\n      0\r\n    );\r\n  };\r\n\r\n  const getVenteCherCartTotal = () => {\r\n    return venteCherCart.reduce(\r\n      (total, item) => total + (item.list_price || 0) * item.quantity,\r\n      0\r\n    );\r\n  };\r\n\r\n  const removeFromVenteCherCart = (product) => {\r\n    setVenteCherCart(venteCherCart.filter((item) => item.id !== product.id));\r\n  };\r\n\r\n  const updateVenteCherCart = (product, quantity) => {\r\n    setVenteCherCart(\r\n      venteCherCart.map((item) =>\r\n        item.id === product.id ? { ...item, quantity } : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const clearVenteCherCart = () => {\r\n    setVenteCherCart([]);\r\n  };\r\n\r\n  const getWishlistTotal = () => {\r\n    return wishlist.reduce(\r\n      (total, item) => total + (item.en_promo ? item.promo_price : item.list_price) * item.quantity,\r\n      0\r\n    );\r\n  };\r\n\r\n  const removeFromPreorder = (product) => {\r\n    setPreorder(preorder.filter((item) => item.id !== product.id));\r\n  };\r\n\r\n  const updatePreorder = (product, quantity) => {\r\n    setPreorder(\r\n      preorder.map((item) =>\r\n        item.id === product.id ? { ...item, quantity } : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const clearPreorder = () => {\r\n    setPreorder([]);\r\n  };\r\n\r\n  const isProductInPreorder = (product) => {\r\n    return preorder.some((item) => item.id === product.id);\r\n  };\r\n\r\n  const getPreorderTotal = () => {\r\n    const preorderTotal = preorder.reduce(\r\n      (total, item) => total + item.preorder_price * item.quantity,\r\n      0\r\n    );\r\n\r\n    return preorderTotal;\r\n  };\r\n\r\n  const getPremierTranche = () => {\r\n    const preorderTotal = preorder.reduce(\r\n      (total, item) => total + item.preorder_price * item.quantity,\r\n      0\r\n    );\r\n    const premierTranche = preorderTotal * 0.3;\r\n\r\n    return premierTranche;\r\n  };\r\n\r\n\r\n  const getDeuxiemeTranche = () => {\r\n    const preorderTotal = preorder.reduce(\r\n      (total, item) => total + item.preorder_price * item.quantity,\r\n      0\r\n    );\r\n    const deuxiemeTranche = preorderTotal * 0.3;\r\n\r\n    return deuxiemeTranche;\r\n  };\r\n\r\n  const getTroisiemeTranche = () => {\r\n    const preorderTotal = preorder.reduce(\r\n      (total, item) => total + item.preorder_price * item.quantity,\r\n      0\r\n    );\r\n    const troisiemeTranche = preorderTotal * 0.4;\r\n\r\n    return troisiemeTranche;\r\n  };\r\n\r\n  const saveDataToLocalStorage = () => {\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    localStorage.setItem(\"wishlist\", JSON.stringify(wishlist));\r\n    localStorage.setItem(\"preorder\", JSON.stringify(preorder));\r\n    localStorage.setItem(\"creditOrder\", JSON.stringify(creditOrder));\r\n    localStorage.setItem(\"venteCherCart\", JSON.stringify(venteCherCart));\r\n  };\r\n\r\n  const loadDataFromLocalStorage = () => {\r\n    const cartData = localStorage.getItem(\"cart\");\r\n    const wishlistData = localStorage.getItem(\"wishlist\");\r\n    const preorderData = localStorage.getItem(\"preorder\");\r\n    const creditorderData = localStorage.getItem(\"creditOrder\");\r\n    const venteCherCartData = localStorage.getItem(\"venteCherCart\");\r\n\r\n    if (cartData) {\r\n      setCart(JSON.parse(cartData));\r\n    }\r\n    if (wishlistData) {\r\n      setWishlist(JSON.parse(wishlistData));\r\n    }\r\n    if (preorderData) {\r\n      setPreorder(JSON.parse(preorderData));\r\n    }\r\n    if (creditorderData) {\r\n      setCreditOrder(JSON.parse(creditorderData));\r\n    }\r\n    if (venteCherCartData) {\r\n      setVenteCherCart(JSON.parse(venteCherCartData));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider\r\n      value={{\r\n        cart,\r\n        venteCherCart,\r\n        creditOrder,\r\n        addToCreditOrder,\r\n        removeFromCreditOrder,\r\n        updateCreditOrder,\r\n        clearCreditOrder,\r\n        getCreditOrderTotal,\r\n        setCart,\r\n        setWishlist,\r\n        wishlist,\r\n        preorder,\r\n        setPreorder,\r\n        addToCart,\r\n        removeFromCart,\r\n        updateCart,\r\n        clearCart,\r\n        addToWishlist,\r\n        addAllWhislistToCart,\r\n        removeFromWishlist,\r\n        updateWishlist,\r\n        clearWishlist,\r\n        isProductInCart,\r\n        isProductInWishlist,\r\n        addToPreorder,\r\n        removeFromPreorder,\r\n        updatePreorder,\r\n        clearPreorder,\r\n        isProductInPreorder,\r\n        getCartTotal,\r\n        addToVenteCherCart,\r\n        removeFromVenteCherCart,\r\n        updateVenteCherCart,\r\n        clearVenteCherCart,\r\n        getVenteCherCartTotal,\r\n        getWishlistTotal,\r\n        getPreorderTotal,\r\n        getPremierTranche,\r\n        getDeuxiemeTranche,\r\n        getTroisiemeTranche,\r\n      }}\r\n    >\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\n\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { useAuthContext } from \"./useAuthContext\";\r\nimport CrmService from \"../services/CrmService\";\r\nimport useGoogleAnalytics from \"../Hooks/useGoogleAnalytics\";\r\n\r\nfunction getOrCreateGuestId() {\r\n  let guestId = localStorage.getItem('guestId');\r\n  if (!guestId) {\r\n    guestId = uuidv4();\r\n    localStorage.setItem('guestId', guestId);\r\n  }\r\n  return guestId;\r\n}\r\n\r\n","import { Link } from \"react-router-dom\";\n\nexport default function BreadcrumbCom({\n  paths = [{ name: \"Accueil\", path: \"/\" }],\n}) {\n  return (\n    <>\n      {paths && paths.length > 0 && (\n        <div className=\"breadcrumb-wrapper font-400 text-[13px] text-qblack mb-[23px]\">\n          {paths.map((path) => (\n            <span key={path.name}>\n              <Link to={path.path}>\n                <span className=\"mx-1 capitalize\">{path.name}</span>\n              </Link>\n              <span className=\"sperator\">/</span>\n            </span>\n          ))}\n        </div>\n      )}\n    </>\n  );\n}\n","import BreadcrumbCom from \"../BreadcrumbCom\";\n\nexport default function PageTitle({ title, breadcrumb = [] }) {\n  return (\n    <div className=\"page-title-wrapper bg-[#FFFAEF] w-full h-[173px] py-10\">\n      <div className=\"container-x mx-auto\">\n        <div className=\"mb-5\">\n          <BreadcrumbCom paths={breadcrumb} />\n        </div>\n        <div className=\"flex justify-center\">\n          <h1 className=\"text-3xl font-semibold text-qblack\">{title}</h1>\n        </div>\n      </div>\n    </div>\n  );\n}\n","export default function ThinLove({ className }) {\n  return (\n    <svg\n      width=\"21\"\n      height=\"18\"\n      viewBox=\"0 0 21 18\"\n      fill=\"none\"\n      className={className}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M4.97214 0.0251923C3.71435 0.183434 2.6616 0.701674 1.7705 1.60365C0.970091 2.41068 0.489057 3.26519 0.213053 4.37683C-0.275867 6.30342 0.0789948 8.20232 1.25398 9.98649C2.00708 11.1298 2.98097 12.1781 4.76711 13.7764C5.90266 14.7931 9.36848 17.7601 9.53802 17.859C9.69574 17.954 9.75488 17.9658 10.09 17.9658C10.4252 17.9658 10.4843 17.954 10.642 17.859C10.8116 17.7601 14.2853 14.7891 15.413 13.7764C17.207 12.1702 18.173 11.1258 18.9261 9.98649C20.1011 8.20232 20.4559 6.30342 19.967 4.37683C19.691 3.26519 19.21 2.41068 18.4096 1.60365C17.6131 0.800575 16.7614 0.337719 15.6456 0.100357C15.0857 -0.0183239 14.0526 -0.0301933 13.5637 0.0805759C12.1995 0.377279 11.1546 1.06167 10.2004 2.28013L10.09 2.41859L9.98357 2.28013C9.04122 1.08541 8.01212 0.401016 6.69913 0.100357C6.30878 0.00936699 5.4098 -0.0301933 4.97214 0.0251923ZM6.28907 1.23178C7.40885 1.42958 8.37487 2.07837 9.13979 3.15046C9.26991 3.3364 9.43156 3.55793 9.49465 3.64892C9.78643 4.06035 10.3936 4.06035 10.6854 3.64892C10.7485 3.55793 10.9102 3.3364 11.0403 3.15046C12.0851 1.68673 13.5401 0.998377 15.1251 1.21596C16.8837 1.45728 18.2558 2.69156 18.7802 4.50738C19.1942 5.94342 19.0128 7.45067 18.2597 8.80759C17.6289 9.94298 16.5761 11.1337 14.7427 12.7834C13.8555 13.5786 10.1255 16.7988 10.09 16.7988C10.0506 16.7988 6.33638 13.5904 5.4374 12.7834C2.61823 10.2476 1.50633 8.66518 1.23821 6.8098C1.06472 5.61112 1.31312 4.32145 1.91639 3.30475C2.82326 1.77376 4.58968 0.935081 6.28907 1.23178Z\"\n        fill=\"black\"\n      />\n    </svg>\n  );\n}\n","// services/produitservice.js\nimport axiosInstance from \"../config/axiosConfig\";\n\nconst ProduitService = {\n  getProduits: async () => {\n    try {\n      const response = await axiosInstance.get(\"/api/produits\");\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la rcupration des produits\", error);\n      throw error;\n    }\n  },\n\n\n  getFilteredProducts: async (params) => {\n    try {\n      const query = new URLSearchParams(params);\n      const response = await axiosInstance.get(`/api/produits-filtrer?${query}`);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la rcupration des produits\", error);\n      throw error;\n    }\n  },\n  getFilteredProductsPromo: async (params) => {\n    try {\n      const query = new URLSearchParams(params);\n      const response = await axiosInstance.get(`/api/produits-filtrer-promo?${query}`);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la rcupration des produits\", error);\n      throw error;\n    }\n  },\n  getFilteredProductsFlash: async (params) => {\n    try {\n      const query = new URLSearchParams(params);\n      const response = await axiosInstance.get(`/api/produits-filtrer-ramadan?${query}`);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la rcupration des produits\", error);\n      throw error;\n    }\n  },\n  getFilteredProductsTabaski: async (params) => {\n    try {\n      const query = new URLSearchParams(params);\n      const response = await axiosInstance.get(`/api/produits-filtrer-tabaski?${query}`);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la rcupration des produits\", error);\n      throw error;\n    }\n  },\n  getFilteredProductsVenteCher: async (params) => {\n    try {\n      const query = new URLSearchParams(params);\n      const response = await axiosInstance.get(`/api/produits-filtrer-vente-cher?${query}`);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la rcupration des produits en vente en cher\", error);\n      throw error;\n    }\n  },\n\n\n \n  getProduitsPrecommande: async () => {\n    try {\n      const response = await axiosInstance.get(\"/api/produits-precommande\");\n      return response.data;\n    } catch (error) {\n      console.error(\n        \"Erreur lors de la rcupration des produits precommande\",\n        error\n      );\n      throw error;\n    }\n  },\n\n  getProduitsCreditCommande: async () => {\n    try {\n      const response = await axiosInstance.get(\"/api/produits-creditcommande\");\n      return response.data;\n    } catch (error) {\n      console.error(\n        \"Erreur lors de la rcupration des produits credit commande\",\n        error\n      );\n      throw error;\n    }\n  },\n  getProduitById: async (id) => {\n    try {\n      const response = await axiosInstance.get(`/api/produits/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error(\n        `Erreur lors de la rcupration du modle avec l'ID ${id}`,\n        error\n      );\n      throw error;\n    }\n  },\n\n  getProduitByCategorie: async (name) => {\n    try {\n      const response = await axiosInstance.get(`/api/produits/categorie/${name}`);\n      return response.data;\n    } catch (error) {\n      console.error(\n        `Erreur lors de la slection des produits avec la catgorie ${name}`,\n        error\n      );\n      throw error;\n    }\n  },\n  createProduit: async (modelData) => {\n    try {\n      const response = await axiosInstance.post(\"/api/produits\", modelData);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la cration du modle\", error);\n      throw error;\n    }\n  },\n\n  updateProduit: async (id, modelData) => {\n    try {\n      const response = await axiosInstance.put(\n        `/api/produits/${id}`,\n        modelData\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\n        `Erreur lors de la mise  jour du modle avec l'ID ${id}`,\n        error\n      );\n      throw error;\n    }\n  },\n\n  deleteProduit: async (id) => {\n    try {\n      const response = await axiosInstance.delete(`/api/produits/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error(\n        `Erreur lors de la suppression du produit avec l'ID ${id}`,\n        error\n      );\n      throw error;\n    }\n  },\n\n\n\n\n\n};\n\nexport default ProduitService;\n","// /* eslint-disable react/prop-types */\r\n// import { createContext, useState, useEffect, useCallback, useMemo } from \"react\"\r\n// import ProduitService from \"../services/produitService\"\r\n\r\n// export const ProductContext = createContext()\r\n\r\n// export const ProductProvider = ({ children }) => {\r\n//     const [isLoadingProduct, setIsLoading] = useState(false)\r\n//     const [currentProducts, setCurrentProducts] = useState([])\r\n//     const [totalProducts, setTotalProducts] = useState(0)\r\n//     const [produitHome, setProduitHome] = useState([])\r\n\r\n//     const [filters, setFilters] = useState({\r\n//         category: \"All\",\r\n//         search: \"\",\r\n//         min: 1,\r\n//         max: 5000000,\r\n//         page: 1,\r\n//         limit: 9,\r\n//         productType: \"All\",\r\n//         tag: \"All\",\r\n//     })\r\n\r\n//     const priorityCategories = [\"CONGELATEUR\", \"TELEVISION\", \"REFRIGERATEUR\", \"CUISINIERE\"]\r\n\r\n//     // Fonction de tri personnalise\r\n//     const sortByCategoryPriority = (products) => {\r\n//         return products.sort((a, b) => {\r\n//             const indexA = priorityCategories.indexOf(a.categ_id?.toUpperCase())\r\n//             const indexB = priorityCategories.indexOf(b.categ_id?.toUpperCase())\r\n//             return (indexA === -1 ? Number.MAX_VALUE : indexA) - (indexB === -1 ? Number.MAX_VALUE : indexB)\r\n//         })\r\n//     }\r\n\r\n\r\n//     const fetchProduitsHome = useCallback(async () => {\r\n//         setIsLoading(true)\r\n//         try {\r\n//             const filtre = {\r\n//                 category: \"All\",\r\n//                 search: \"\",\r\n//                 min: 1,\r\n//                 max: 5000000,\r\n//                 page: 1,\r\n//                 limit: 6,\r\n//                 productType: \"All\",\r\n//                 tag: \"All\",\r\n//             }\r\n//             const response = await ProduitService.getFilteredProducts(filtre)\r\n//             let produits = response.products\r\n//             produits = sortByCategoryPriority(produits)\r\n\r\n//             // setProduitHome(produits)\r\n//             // je veux ranger par ordre de l'attribut rang\r\n//             const produitsRanged = produits.sort((a, b) => a.rang - b.rang)\r\n//             setProduitHome(produitsRanged)\r\n//         } catch (error) {\r\n//             console.error(\"Erreur lors de la rcupration des produits\", error)\r\n//         } finally {\r\n//             setIsLoading(false)\r\n//         }\r\n//     }, [])\r\n\r\n//     const fetchProducts = useCallback(async () => {\r\n//         setIsLoading(true)\r\n//         setCurrentProducts([])\r\n//         try {\r\n//             const response = await ProduitService.getFilteredProducts(filters)\r\n//             let produits = response.products\r\n\r\n//             produits = sortByCategoryPriority(produits)\r\n\r\n//             setCurrentProducts(produits)\r\n//             setTotalProducts(response.total)\r\n//         } catch (error) {\r\n//             console.error(\"Erreur lors de la rcupration des produits\", error)\r\n//         } finally {\r\n//             setIsLoading(false)\r\n//         }\r\n//     }, [filters])\r\n\r\n\r\n//     useEffect(() => {\r\n//         fetchProducts()\r\n//         fetchProduitsHome()\r\n//     }, [fetchProducts, fetchProduitsHome])\r\n\r\n//     const updateFilters = useCallback((newFilters) => {\r\n//         setFilters((prev) => ({\r\n//             ...prev,\r\n//             ...newFilters,\r\n//             category: newFilters.category || \"All\",\r\n//             search: newFilters.search !== undefined ? newFilters.search : prev.search,\r\n//         }))\r\n//     }, [])\r\n\r\n//     const resetFilters = useCallback(() => {\r\n//         setFilters({\r\n//             category: \"All\",\r\n//             search: \"\",\r\n//             min: 1000,\r\n//             max: 5000000,\r\n//             page: 1,\r\n//             limit: 9,\r\n//             productType: \"All\",\r\n//             tag: \"All\",\r\n//         })\r\n//     }, [])\r\n\r\n//     const contextValue = useMemo(\r\n//         () => ({\r\n//             currentProducts,\r\n//             totalProducts,\r\n//             isLoadingProduct,\r\n//             fetchProducts,\r\n//             updateFilters,\r\n//             resetFilters,\r\n//             filters,\r\n//             selectedCategory: filters.category,\r\n//             produitHome,\r\n//             fetchProduitsHome,\r\n//         }),\r\n//         [\r\n//             currentProducts,\r\n//             totalProducts,\r\n//             isLoadingProduct,\r\n//             fetchProducts,\r\n//             updateFilters,\r\n//             resetFilters,\r\n//             filters,\r\n//             produitHome,\r\n//             fetchProduitsHome,\r\n//         ],\r\n//     )\r\n\r\n//     return <ProductContext.Provider value={contextValue}>{children}</ProductContext.Provider>\r\n// }\r\n\r\n\r\n/* eslint-disable react/prop-types */\r\nimport { createContext, useState, useEffect, useCallback, useMemo, useRef } from \"react\";\r\nimport ProduitService from \"../services/produitService\";\r\n\r\nexport const ProductContext = createContext();\r\n\r\nexport const ProductProvider = ({ children }) => {\r\n  const [isLoadingProduct, setIsLoading] = useState(false);\r\n  const [currentProducts, setCurrentProducts] = useState([]);\r\n  const [totalProducts, setTotalProducts] = useState(0);\r\n  const [produitHome, setProduitHome] = useState([]);\r\n\r\n  const [errorList, setErrorList] = useState(null);\r\n  const [errorHome, setErrorHome] = useState(null);\r\n\r\n  // cohrence: min = 1 partout\r\n  const [filters, setFilters] = useState({\r\n    category: \"All\",\r\n    search: \"\",\r\n    min: 1,\r\n    max: 5_000_000,\r\n    page: 1,\r\n    limit: 9,\r\n    productType: \"All\",\r\n    tag: \"All\",\r\n  });\r\n\r\n  // viter setState aprs unmount\r\n  const aliveRef = useRef(true);\r\n  useEffect(() => {\r\n    aliveRef.current = true;\r\n    return () => {\r\n      aliveRef.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const priorityCategories = [\"CONGELATEUR\", \"TELEVISION\", \"REFRIGERATEUR\", \"CUISINIERE\"];\r\n\r\n  const asArray = (v) => (Array.isArray(v) ? v : []);\r\n  const safeUpper = (s) => (typeof s === \"string\" ? s.toUpperCase() : \"\");\r\n  const categoryIndex = (prod) => {\r\n    const idx = priorityCategories.indexOf(safeUpper(prod && prod.categ_id));\r\n    return idx === -1 ? Number.MAX_SAFE_INTEGER : idx;\r\n  };\r\n  const safeRang = (prod) => {\r\n    const r = Number(prod && prod.rang);\r\n    return Number.isFinite(r) ? r : Number.MAX_SAFE_INTEGER;\r\n  };\r\n\r\n  // tri non-mutant par priorit de catgorie (utilis pour les listes pagines)\r\n  const sortByCategoryPriority = (products) =>\r\n    [...products].sort((a, b) => categoryIndex(a) - categoryIndex(b));\r\n\r\n  // tri pour la home: rang asc puis fallback catgorie\r\n  const sortForHome = (products) =>\r\n    [...products].sort((a, b) => {\r\n      const r = safeRang(a) - safeRang(b);\r\n      if (r !== 0) return r;\r\n      return categoryIndex(a) - categoryIndex(b);\r\n    });\r\n\r\n  const fetchProduitsHome = useCallback(async () => {\r\n    setIsLoading(true);\r\n    setErrorHome(null);\r\n    try {\r\n      const filtre = {\r\n        category: \"All\",\r\n        search: \"\",\r\n        min: 1,\r\n        max: 5_000_000,\r\n        page: 1,\r\n        limit: 6,\r\n        productType: \"All\",\r\n        tag: \"All\",\r\n      };\r\n\r\n      const res = await ProduitService.getFilteredProducts(filtre);\r\n      const produits = asArray((res && res.products) || (res && res.data && res.data.products) || []);\r\n      const produitsRanged = sortForHome(produits);\r\n      if (aliveRef.current) setProduitHome(produitsRanged);\r\n    } catch (e) {\r\n      if (aliveRef.current) {\r\n        setProduitHome([]);\r\n        setErrorHome((e && e.message) || \"Erreur lors du chargement des produits Home\");\r\n      }\r\n    } finally {\r\n      if (aliveRef.current) setIsLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const fetchProducts = useCallback(async () => {\r\n    setIsLoading(true);\r\n    setErrorList(null);\r\n    // on vide juste avant fetch pour skeletons\r\n    if (aliveRef.current) setCurrentProducts([]);\r\n    try {\r\n      const res = await ProduitService.getFilteredProducts(filters);\r\n      const produits = sortByCategoryPriority(asArray((res && res.products) || (res && res.data && res.data.products) || []));\r\n      const total = Number((res && res.total) || (res && res.data && res.data.total) || produits.length) || 0;\r\n\r\n      if (aliveRef.current) {\r\n        setCurrentProducts(produits);\r\n        setTotalProducts(total);\r\n      }\r\n    } catch (e) {\r\n      if (aliveRef.current) {\r\n        setCurrentProducts([]);\r\n        setTotalProducts(0);\r\n        setErrorList((e && e.message) || \"Erreur lors du chargement de la liste des produits\");\r\n      }\r\n    } finally {\r\n      if (aliveRef.current) setIsLoading(false);\r\n    }\r\n  }, [filters]);\r\n\r\n  // lancements indpendants\r\n  useEffect(() => {\r\n    fetchProducts();\r\n    fetchProduitsHome();\r\n  }, [fetchProducts, fetchProduitsHome]);\r\n\r\n  const updateFilters = useCallback((newFilters) => {\r\n    setFilters((prev) => {\r\n      const merged = {\r\n        ...prev,\r\n        ...newFilters,\r\n      };\r\n      // normalisations\r\n      merged.category = newFilters.category || prev.category || \"All\";\r\n      merged.search =\r\n        newFilters.search !== undefined ? newFilters.search : prev.search ?? \"\";\r\n      // bornes numriques propres\r\n      const min = Number(merged.min ?? 1);\r\n      const max = Number(merged.max ?? 5_000_000);\r\n      merged.min = Number.isFinite(min) ? min : 1;\r\n      merged.max = Number.isFinite(max) ? max : 5_000_000;\r\n      if (merged.min > merged.max) {\r\n        // on swap si lutilisateur a invers\r\n        [merged.min, merged.max] = [merged.max, merged.min];\r\n      }\r\n      // page/limit srs\r\n      merged.page = Math.max(1, Number(merged.page ?? 1));\r\n      merged.limit = Math.max(1, Number(merged.limit ?? 9));\r\n      return merged;\r\n    });\r\n  }, []);\r\n\r\n  const resetFilters = useCallback(() => {\r\n    setFilters({\r\n      category: \"All\",\r\n      search: \"\",\r\n      min: 1,\r\n      max: 5_000_000,\r\n      page: 1,\r\n      limit: 9,\r\n      productType: \"All\",\r\n      tag: \"All\",\r\n    });\r\n  }, []);\r\n\r\n  const contextValue = useMemo(\r\n    () => ({\r\n      // data\r\n      currentProducts,\r\n      totalProducts,\r\n      produitHome,\r\n      // states\r\n      isLoadingProduct,\r\n      errorList,\r\n      errorHome,\r\n      // actions\r\n      fetchProducts,\r\n      fetchProduitsHome,\r\n      updateFilters,\r\n      resetFilters,\r\n      // filtres exposs\r\n      filters,\r\n      selectedCategory: filters.category,\r\n    }),\r\n    [\r\n      currentProducts,\r\n      totalProducts,\r\n      produitHome,\r\n      isLoadingProduct,\r\n      errorList,\r\n      errorHome,\r\n      fetchProducts,\r\n      fetchProduitsHome,\r\n      updateFilters,\r\n      resetFilters,\r\n      filters,\r\n    ]\r\n  );\r\n\r\n  return <ProductContext.Provider value={contextValue}>{children}</ProductContext.Provider>;\r\n};\r\n","// services/Categorieservice.js\nimport axiosInstance from \"../config/axiosConfig\";\n\nconst Categorieservice = {\n  getCategories: async () => {\n    try {\n      const response = await axiosInstance.get(\"/api/categories\");\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la rcupration des categories\", error);\n      throw error;\n    }\n  },\n\n\n  getTags: async () => {\n    try {\n      const response = await axiosInstance.get(\"/api/tags\");\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la rcupration des categories\", error);\n      throw error;\n    }\n  },\n\n  getCategorieById: async (id) => {\n    try {\n      const response = await axiosInstance.get(`/api/categories/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error(\n        `Erreur lors de la rcupration du modle avec l'ID ${id}`,\n        error\n      );\n      throw error;\n    }\n  },\n\n  createCategorie: async (modelData) => {\n    try {\n      const response = await axiosInstance.post(\"/api/categories\", modelData);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la cration du modle\", error);\n      throw error;\n    }\n  },\n\n  updateCategorie: async (id, modelData) => {\n    try {\n      const response = await axiosInstance.put(\n        `/api/categories/${id}`,\n        modelData\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\n        `Erreur lors de la mise  jour du modle avec l'ID ${id}`,\n        error\n      );\n      throw error;\n    }\n  },\n\n  deleteCategorie: async (id) => {\n    try {\n      const response = await axiosInstance.delete(`/api/categories/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error(\n        `Erreur lors de la suppression du Categorie avec l'ID ${id}`,\n        error\n      );\n      throw error;\n    }\n  },\n};\n\nexport default Categorieservice;\n","/* eslint-disable react/prop-types */\r\n\r\nimport { createContext, useState, useEffect, useContext } from \"react\"\r\nimport Categorieservice from \"../services/CategorieService\"\r\n\r\nexport const CategoryContext = createContext()\r\n\r\nexport const CategoryProvider = ({ children }) => {\r\n    const [categories, setCategories] = useState([])\r\n    const [isLoadingCategorie, setIsLoadingCategorie] = useState(false)\r\n    const [selectedCategory, setSelectedCategory] = useState(\"All\")\r\n    const [tags, setTags] = useState([])\r\n    const [isLoadingTags, setIsloadingTags] = useState(false)\r\n    // getTags\r\n\r\n    useEffect(() => {\r\n        const fetchTags = async () => {\r\n            setIsloadingTags(true)\r\n            try {\r\n                const data = await Categorieservice.getTags()\r\n                setTags(data)\r\n                console.log(data)\r\n                console.log(\"categorie\")\r\n            } catch (error) {\r\n                console.error(\"Erreur lors de la rcupration des catgories\", error)\r\n            } finally {\r\n                setIsloadingTags(false)\r\n            }\r\n        }\r\n        fetchTags()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const fetchCategories = async () => {\r\n            setIsLoadingCategorie(true)\r\n            try {\r\n                const data = await Categorieservice.getCategories()\r\n                const filtered = data.filter(\r\n                    (c) => ![\"Services\", \"Expenses\", \"Internal\",\r\n                        \"Office Furniture\", \"Consumable\", \"Deliveries\", \"Saleable\", \"Software\", \"All\"].includes(c.name),\r\n                )\r\n                setCategories([{ id: \"All\", name: \"All\" }, ...filtered])\r\n            } catch (error) {\r\n                console.error(\"Erreur lors de la rcupration des catgories\", error)\r\n            } finally {\r\n                setIsLoadingCategorie(false)\r\n            }\r\n        }\r\n        fetchCategories()\r\n    }, [])\r\n\r\n    const updateSelectedCategory = (category) => {\r\n        setSelectedCategory(category)\r\n    }\r\n\r\n    return (\r\n        <CategoryContext.Provider value={{ categories, isLoadingCategorie, selectedCategory, updateSelectedCategory, tags, isLoadingTags }}>\r\n            {children}\r\n        </CategoryContext.Provider>\r\n    )\r\n}\r\n\r\nexport const useCategory = () => useContext(CategoryContext)\r\n\r\n","\r\n// /* eslint-disable react/prop-types */\r\n// import { createContext, useState, useEffect, useCallback, useMemo } from \"react\"\r\n// import ProduitService from \"../services/produitService\"\r\n\r\n// export const PromoProductContext = createContext()\r\n\r\n// export const PromoProductProvider = ({ children }) => {\r\n//     const [isLoadingProductPromo, setIsLoadingProductPromo] = useState(false)\r\n//     const [currentProductsPromo, setCurrentProductsPromo] = useState([])\r\n//     const [totalProductsPromo, setTotalProductsPromo] = useState(0)\r\n//     const [produitHomePromo, setProduitHomePromo] = useState([])\r\n\r\n//     const [isLoadingProductFlash, setIsLoadingProductsFlash] = useState(false)\r\n//     const [currentProductsFlash, setCurrentProductsFlash] = useState([])\r\n//     const [totalProductsFlash, setTotalProductsFlash] = useState(0)\r\n//     const [produitHomeFlash, setProduitHomeFlash] = useState([])\r\n\r\n//     const [produitHomeTabaski, setProduitHomeTabaski] = useState([])\r\n//     const [isLoadingProductTabaski, setIsLoadingProductTabaski] = useState(false)\r\n//     const [currentProductsTabaski, setCurrentProductsTabaski] = useState([])\r\n//     const [totalProductsTabaski, setTotalProductsTabaski] = useState(0)\r\n\r\n//     const [filters, setFilters] = useState({\r\n//         category: \"All\",\r\n//         search: \"\",\r\n//         min: 1,\r\n//         max: 5000000,\r\n//         page: 1,\r\n//         limit: 9,\r\n//         productType: \"All\",\r\n//         tag: \"All\",\r\n//     })\r\n\r\n//     // Catgories prioritaires\r\n//     const priorityCategories = [\"CONGELATEUR\", \"TELEVISION\", \"REFRIGERATEUR\", \"CUISINIERE\"]\r\n\r\n//     // Fonction de tri personnalise\r\n//     const sortByCategoryPriority = (products) => {\r\n//         return products.sort((a, b) => {\r\n//             const indexA = priorityCategories.indexOf(a.categ_id?.toUpperCase())\r\n//             const indexB = priorityCategories.indexOf(b.categ_id?.toUpperCase())\r\n//             return (indexA === -1 ? Number.MAX_VALUE : indexA) - (indexB === -1 ? Number.MAX_VALUE : indexB)\r\n//         })\r\n//     }\r\n\r\n//     const fetchProductsHomeTabaski = useCallback(async () => {\r\n//         setIsLoadingProductTabaski(true)\r\n//         try {\r\n//             const response = await ProduitService.getFilteredProductsTabaski({})\r\n//             let produits = response.products\r\n//             produits = sortByCategoryPriority(produits)\r\n//             setProduitHomeTabaski(produits)\r\n//         } catch (error) {\r\n//             console.error(\"Erreur lors de la rcupration des produits tabaski\", error)\r\n//         } finally {\r\n//             setIsLoadingProductTabaski(false)\r\n//         }\r\n//     }, [])\r\n\r\n//     const fetchProductsHomeFlash = useCallback(async () => {\r\n//         setIsLoadingProductsFlash(true)\r\n//         try {\r\n//             const response = await ProduitService.getFilteredProductsFlash({ tag: \"Ramadan\" })\r\n//             let produits = response.products\r\n//             produits = sortByCategoryPriority(produits)\r\n//             setProduitHomeFlash(produits)\r\n//         } catch (error) {\r\n//             console.error(\"Erreur lors de la rcupration des produits flash\", error)\r\n//         } finally {\r\n//             setIsLoadingProductsFlash(false)\r\n//         }\r\n//     }, [])\r\n\r\n//     const fetchProduitsHomePromo = useCallback(async () => {\r\n//         setIsLoadingProductPromo(true)\r\n//         console.log(filters)\r\n//         try {\r\n//             const response = await ProduitService.getFilteredProductsPromo(filters)\r\n//             let produits = response.products\r\n//             produits = sortByCategoryPriority(produits)\r\n//             setProduitHomePromo(produits)\r\n//         } catch (error) {\r\n//             console.error(\"Erreur lors de la rcupration des produits promo\", error)\r\n//         } finally {\r\n//             setIsLoadingProductPromo(false)\r\n//         }\r\n//     }, [])\r\n\r\n//     const fetchProdcutsFlash = useCallback(async () => {\r\n//         setIsLoadingProductsFlash(true)\r\n//         setCurrentProductsFlash([])\r\n//         try {\r\n//             const response = await ProduitService.getFilteredProductsFlash(filters)\r\n//             let produits = response.products\r\n//             produits = sortByCategoryPriority(produits)\r\n//             setCurrentProductsFlash(produits)\r\n//             setTotalProductsFlash(response.total)\r\n//         } catch (error) {\r\n//             console.error(\"Erreur lors de la rcupration des produits flash\", error)\r\n//         } finally {\r\n//             setIsLoadingProductsFlash(false)\r\n//         }\r\n//     }, [filters])\r\n\r\n//     const fetchProdcutsPromo = useCallback(async () => {\r\n//         setIsLoadingProductPromo(true)\r\n//         setCurrentProductsPromo([])\r\n//         try {\r\n//             const response = await ProduitService.getFilteredProductsPromo(filters)\r\n//             let produits = response.products\r\n//             produits = sortByCategoryPriority(produits)\r\n//             setCurrentProductsPromo(produits)\r\n//             setTotalProductsPromo(response.total)\r\n//         } catch (error) {\r\n//             console.error(\"Erreur lors de la rcupration des produits promo\", error)\r\n//         } finally {\r\n//             setIsLoadingProductPromo(false)\r\n//         }\r\n//     }, [filters])\r\n\r\n//     const fetchProdcutsTabaski = useCallback(async () => {\r\n//         setIsLoadingProductTabaski(true)\r\n//         setCurrentProductsTabaski([])\r\n//         try {\r\n//             const response = await ProduitService.getFilteredProductsTabaski(filters)\r\n//             let produits = response.products\r\n//             produits = sortByCategoryPriority(produits)\r\n//             setCurrentProductsTabaski(produits)\r\n//             setTotalProductsTabaski(response.total)\r\n//         } catch (error) {\r\n//             console.error(\"Erreur lors de la rcupration des produits tabaski\", error)\r\n//         } finally {\r\n//             setIsLoadingProductTabaski(false)\r\n//         }\r\n//     }, [filters])\r\n\r\n//     useEffect(() => {\r\n//         fetchProdcutsPromo()\r\n//         fetchProduitsHomePromo()\r\n//         fetchProdcutsFlash()\r\n//         fetchProductsHomeFlash()\r\n//         fetchProdcutsTabaski()\r\n//         fetchProductsHomeTabaski()\r\n//     }, [\r\n//         fetchProdcutsFlash,\r\n//         fetchProdcutsTabaski,\r\n//         fetchProdcutsPromo,\r\n//         fetchProductsHomeFlash,\r\n//         fetchProductsHomeTabaski,\r\n//         fetchProduitsHomePromo\r\n//     ])\r\n\r\n//     const updateFilters = useCallback((newFilters) => {\r\n//         setFilters((prev) => ({\r\n//             ...prev,\r\n//             ...newFilters,\r\n//             category: newFilters.category || \"All\",\r\n//             search: newFilters.search !== undefined ? newFilters.search : prev.search,\r\n//         }))\r\n//     }, [])\r\n\r\n//     const resetFilters = useCallback(() => {\r\n//         setFilters({\r\n//             category: \"All\",\r\n//             search: \"\",\r\n//             min: 1000,\r\n//             max: 5000000,\r\n//             page: 1,\r\n//             limit: 9,\r\n//             productType: \"All\",\r\n//             tag: \"All\",\r\n//         })\r\n//     }, [])\r\n\r\n//     const contextValue = useMemo(\r\n//         () => ({\r\n//             currentProductsPromo,\r\n//             totalProductsPromo,\r\n//             isLoadingProductPromo,\r\n//             fetchProdcutsPromo,\r\n//             updateFilters,\r\n//             resetFilters,\r\n//             filters,\r\n//             selectedCategory: filters.category,\r\n//             produitHomePromo,\r\n//             fetchProduitsHomePromo,\r\n\r\n//             fetchProdcutsFlash,\r\n//             fetchProductsHomeFlash,\r\n//             isLoadingProductFlash,\r\n//             currentProductsFlash,\r\n//             totalProductsFlash,\r\n//             produitHomeFlash,\r\n\r\n//             currentProductsTabaski,\r\n//             produitHomeTabaski,\r\n//             totalProductsTabaski,\r\n//             isLoadingProductTabaski,\r\n//             fetchProdcutsTabaski,\r\n//             fetchProductsHomeTabaski\r\n//         }),\r\n//         [\r\n//             currentProductsPromo,\r\n//             totalProductsPromo,\r\n//             isLoadingProductPromo,\r\n//             produitHomeTabaski,\r\n//             fetchProdcutsPromo,\r\n//             updateFilters,\r\n//             resetFilters,\r\n//             filters,\r\n//             produitHomePromo,\r\n//             fetchProduitsHomePromo,\r\n//             fetchProdcutsFlash,\r\n//             fetchProductsHomeFlash,\r\n//             isLoadingProductFlash,\r\n//             currentProductsFlash,\r\n//             totalProductsFlash,\r\n//             produitHomeFlash,\r\n//             currentProductsTabaski,\r\n//             totalProductsTabaski,\r\n//             isLoadingProductTabaski,\r\n//             fetchProdcutsTabaski,\r\n//             fetchProductsHomeTabaski\r\n//         ]\r\n//     )\r\n\r\n//     return <PromoProductContext.Provider value={contextValue}>{children}</PromoProductContext.Provider>\r\n// }\r\n\r\n/* eslint-disable react/prop-types */\r\nimport { createContext, useState, useEffect, useCallback, useMemo, useRef } from \"react\";\r\nimport ProduitService from \"../services/produitService\";\r\n\r\nexport const PromoProductContext = createContext();\r\n\r\nexport const PromoProductProvider = ({ children }) => {\r\n  // ===== States Promo\r\n  const [isLoadingProductPromo, setIsLoadingProductPromo] = useState(false);\r\n  const [currentProductsPromo, setCurrentProductsPromo] = useState([]);\r\n  const [totalProductsPromo, setTotalProductsPromo] = useState(0);\r\n  const [produitHomePromo, setProduitHomePromo] = useState([]);\r\n  const [errorPromoList, setErrorPromoList] = useState(null);\r\n  const [errorPromoHome, setErrorPromoHome] = useState(null);\r\n\r\n  // ===== States Flash (Ramadan)\r\n  const [isLoadingProductFlash, setIsLoadingProductsFlash] = useState(false);\r\n  const [currentProductsFlash, setCurrentProductsFlash] = useState([]);\r\n  const [totalProductsFlash, setTotalProductsFlash] = useState(0);\r\n  const [produitHomeFlash, setProduitHomeFlash] = useState([]);\r\n  const [errorFlashList, setErrorFlashList] = useState(null);\r\n  const [errorFlashHome, setErrorFlashHome] = useState(null);\r\n\r\n  // ===== States Tabaski\r\n  const [isLoadingProductTabaski, setIsLoadingProductTabaski] = useState(false);\r\n  const [currentProductsTabaski, setCurrentProductsTabaski] = useState([]);\r\n  const [totalProductsTabaski, setTotalProductsTabaski] = useState(0);\r\n  const [produitHomeTabaski, setProduitHomeTabaski] = useState([]);\r\n  const [errorTabaskiList, setErrorTabaskiList] = useState(null);\r\n  const [errorTabaskiHome, setErrorTabaskiHome] = useState(null);\r\n\r\n  // ===== Filtres (pour les listings seulement)\r\n  const [filters, setFilters] = useState({\r\n    category: \"All\",\r\n    search: \"\",\r\n    min: 1,\r\n    max: 5_000_000,\r\n    page: 1,\r\n    limit: 9,\r\n    productType: \"All\",\r\n    tag: \"All\",\r\n  });\r\n\r\n  // empcher setState aprs unmount\r\n  const aliveRef = useRef(true);\r\n  useEffect(() => {\r\n    aliveRef.current = true;\r\n    return () => {\r\n      aliveRef.current = false;\r\n    };\r\n  }, []);\r\n\r\n  // ===== Helpers srs\r\n  const priorityCategories = [\"CONGELATEUR\", \"TELEVISION\", \"REFRIGERATEUR\", \"CUISINIERE\"];\r\n  const asArray = (v) => (Array.isArray(v) ? v : []);\r\n  const safeUpper = (s) => (typeof s === \"string\" ? s.toUpperCase() : \"\");\r\n  const categoryIndex = (prod) => {\r\n    const idx = priorityCategories.indexOf(safeUpper(prod && prod.categ_id));\r\n    return idx === -1 ? Number.MAX_SAFE_INTEGER : idx;\r\n  };\r\n  const safeRang = (prod) => {\r\n    const r = Number(prod && prod.rang);\r\n    return Number.isFinite(r) ? r : Number.MAX_SAFE_INTEGER;\r\n  };\r\n  const sortByCategoryPriority = (products) => [...products].sort((a, b) => categoryIndex(a) - categoryIndex(b));\r\n  const sortForHome = (products) =>\r\n    [...products].sort((a, b) => {\r\n      const r = safeRang(a) - safeRang(b);\r\n      if (r !== 0) return r;\r\n      return categoryIndex(a) - categoryIndex(b);\r\n    });\r\n\r\n  // ====== HOME FETCHES (indpendants des filtres) ======\r\n  const fetchProductsHomeTabaski = useCallback(async () => {\r\n    setIsLoadingProductTabaski(true);\r\n    setErrorTabaskiHome(null);\r\n    try {\r\n      const res = await ProduitService.getFilteredProductsTabaski({\r\n        page: 1,\r\n        limit: 12,\r\n      });\r\n      const produits = sortForHome(asArray((res && res.products) || (res && res.data && res.data.products) || []));\r\n      if (aliveRef.current) setProduitHomeTabaski(produits);\r\n    } catch (e) {\r\n      if (aliveRef.current) {\r\n        setProduitHomeTabaski([]);\r\n        setErrorTabaskiHome((e && e.message) || \"Erreur lors de la rcupration des produits Tabaski (home)\");\r\n      }\r\n    } finally {\r\n      if (aliveRef.current) setIsLoadingProductTabaski(false);\r\n    }\r\n  }, []);\r\n\r\n  const fetchProductsHomeFlash = useCallback(async () => {\r\n    setIsLoadingProductsFlash(true);\r\n    setErrorFlashHome(null);\r\n    try {\r\n      const res = await ProduitService.getFilteredProductsFlash({\r\n        tag: \"Ramadan\",\r\n        page: 1,\r\n        limit: 12,\r\n      });\r\n      const produits = sortForHome(asArray((res && res.products) || (res && res.data && res.data.products) || []));\r\n      if (aliveRef.current) setProduitHomeFlash(produits);\r\n    } catch (e) {\r\n      if (aliveRef.current) {\r\n        setProduitHomeFlash([]);\r\n        setErrorFlashHome((e && e.message) || \"Erreur lors de la rcupration des produits Flash (home)\");\r\n      }\r\n    } finally {\r\n      if (aliveRef.current) setIsLoadingProductsFlash(false);\r\n    }\r\n  }, []);\r\n\r\n  const fetchProduitsHomePromo = useCallback(async () => {\r\n    setIsLoadingProductPromo(true);\r\n    setErrorPromoHome(null);\r\n    try {\r\n      // Dcoupl des filtres de listing\r\n      const res = await ProduitService.getFilteredProductsPromo({\r\n        page: 1,\r\n        limit: 12,\r\n      });\r\n      const produits = sortForHome(asArray((res && res.products) || (res && res.data && res.data.products) || []));\r\n      if (aliveRef.current) setProduitHomePromo(produits);\r\n    } catch (e) {\r\n      if (aliveRef.current) {\r\n        setProduitHomePromo([]);\r\n        setErrorPromoHome((e && e.message) || \"Erreur lors de la rcupration des produits Promo (home)\");\r\n      }\r\n    } finally {\r\n      if (aliveRef.current) setIsLoadingProductPromo(false);\r\n    }\r\n  }, []);\r\n\r\n  // ====== LIST FETCHES (dpendants des filtres) ======\r\n  const fetchProdcutsFlash = useCallback(async () => {\r\n    setIsLoadingProductsFlash(true);\r\n    setErrorFlashList(null);\r\n    if (aliveRef.current) setCurrentProductsFlash([]);\r\n    try {\r\n      const res = await ProduitService.getFilteredProductsFlash(filters);\r\n      const produits = sortByCategoryPriority(asArray((res && res.products) || (res && res.data && res.data.products) || []));\r\n      const total = Number((res && res.total) || (res && res.data && res.data.total) || produits.length) || 0;\r\n      if (aliveRef.current) {\r\n        setCurrentProductsFlash(produits);\r\n        setTotalProductsFlash(total);\r\n      }\r\n    } catch (e) {\r\n      if (aliveRef.current) {\r\n        setCurrentProductsFlash([]);\r\n        setTotalProductsFlash(0);\r\n        setErrorFlashList((e && e.message) || \"Erreur lors du chargement des produits Flash (listing)\");\r\n      }\r\n    } finally {\r\n      if (aliveRef.current) setIsLoadingProductsFlash(false);\r\n    }\r\n  }, [filters]);\r\n\r\n  const fetchProdcutsPromo = useCallback(async () => {\r\n    setIsLoadingProductPromo(true);\r\n    setErrorPromoList(null);\r\n    if (aliveRef.current) setCurrentProductsPromo([]);\r\n    try {\r\n      const res = await ProduitService.getFilteredProductsPromo(filters);\r\n      const produits = sortByCategoryPriority(asArray((res && res.products) || (res && res.data && res.data.products) || []));\r\n      const total = Number((res && res.total) || (res && res.data && res.data.total) || produits.length) || 0;\r\n      if (aliveRef.current) {\r\n        setCurrentProductsPromo(produits);\r\n        setTotalProductsPromo(total);\r\n      }\r\n    } catch (e) {\r\n      if (aliveRef.current) {\r\n        setCurrentProductsPromo([]);\r\n        setTotalProductsPromo(0);\r\n        setErrorPromoList((e && e.message) || \"Erreur lors du chargement des produits Promo (listing)\");\r\n      }\r\n    } finally {\r\n      if (aliveRef.current) setIsLoadingProductPromo(false);\r\n    }\r\n  }, [filters]);\r\n\r\n  const fetchProdcutsTabaski = useCallback(async () => {\r\n    setIsLoadingProductTabaski(true);\r\n    setErrorTabaskiList(null);\r\n    if (aliveRef.current) setCurrentProductsTabaski([]);\r\n    try {\r\n      const res = await ProduitService.getFilteredProductsTabaski(filters);\r\n      const produits = sortByCategoryPriority(asArray((res && res.products) || (res && res.data && res.data.products) || []));\r\n      const total = Number((res && res.total) || (res && res.data && res.data.total) || produits.length) || 0;\r\n      if (aliveRef.current) {\r\n        setCurrentProductsTabaski(produits);\r\n        setTotalProductsTabaski(total);\r\n      }\r\n    } catch (e) {\r\n      if (aliveRef.current) {\r\n        setCurrentProductsTabaski([]);\r\n        setTotalProductsTabaski(0);\r\n        setErrorTabaskiList((e && e.message) || \"Erreur lors du chargement des produits Tabaski (listing)\");\r\n      }\r\n    } finally {\r\n      if (aliveRef.current) setIsLoadingProductTabaski(false);\r\n    }\r\n  }, [filters]);\r\n\r\n  // Lancements indpendants\r\n  useEffect(() => {\r\n    // listings  suivent les filtres\r\n    fetchProdcutsPromo();\r\n    fetchProdcutsFlash();\r\n    fetchProdcutsTabaski();\r\n    // home  indpendants des filtres\r\n    fetchProduitsHomePromo();\r\n    fetchProductsHomeFlash();\r\n    fetchProductsHomeTabaski();\r\n  }, [\r\n    fetchProdcutsPromo,\r\n    fetchProdcutsFlash,\r\n    fetchProdcutsTabaski,\r\n    fetchProduitsHomePromo,\r\n    fetchProductsHomeFlash,\r\n    fetchProductsHomeTabaski,\r\n  ]);\r\n\r\n  const updateFilters = useCallback((newFilters) => {\r\n    setFilters((prev) => {\r\n      const merged = { ...prev, ...newFilters };\r\n      merged.category = newFilters.category || prev.category || \"All\";\r\n      merged.search =\r\n        newFilters.search !== undefined ? newFilters.search : prev.search ?? \"\";\r\n      // bornes numriques\r\n      const min = Number(merged.min ?? 1);\r\n      const max = Number(merged.max ?? 5_000_000);\r\n      merged.min = Number.isFinite(min) ? min : 1;\r\n      merged.max = Number.isFinite(max) ? max : 5_000_000;\r\n      if (merged.min > merged.max) [merged.min, merged.max] = [merged.max, merged.min];\r\n      // pagination sre\r\n      merged.page = Math.max(1, Number(merged.page ?? 1));\r\n      merged.limit = Math.max(1, Number(merged.limit ?? 9));\r\n      return merged;\r\n    });\r\n  }, []);\r\n\r\n  const resetFilters = useCallback(() => {\r\n    setFilters({\r\n      category: \"All\",\r\n      search: \"\",\r\n      min: 1,\r\n      max: 5_000_000,\r\n      page: 1,\r\n      limit: 9,\r\n      productType: \"All\",\r\n      tag: \"All\",\r\n    });\r\n  }, []);\r\n\r\n  const contextValue = useMemo(\r\n    () => ({\r\n      // ===== Promo\r\n      currentProductsPromo,\r\n      totalProductsPromo,\r\n      produitHomePromo,\r\n      isLoadingProductPromo,\r\n      errorPromoList,\r\n      errorPromoHome,\r\n      fetchProdcutsPromo,\r\n      fetchProduitsHomePromo,\r\n\r\n      // ===== Flash\r\n      currentProductsFlash,\r\n      totalProductsFlash,\r\n      produitHomeFlash,\r\n      isLoadingProductFlash,\r\n      errorFlashList,\r\n      errorFlashHome,\r\n      fetchProdcutsFlash,\r\n      fetchProductsHomeFlash,\r\n\r\n      // ===== Tabaski\r\n      currentProductsTabaski,\r\n      totalProductsTabaski,\r\n      produitHomeTabaski,\r\n      isLoadingProductTabaski,\r\n      errorTabaskiList,\r\n      errorTabaskiHome,\r\n      fetchProdcutsTabaski,\r\n      fetchProductsHomeTabaski,\r\n\r\n      // ===== Filtres\r\n      filters,\r\n      selectedCategory: filters.category,\r\n      updateFilters,\r\n      resetFilters,\r\n    }),\r\n    [\r\n      // Promo\r\n      currentProductsPromo,\r\n      totalProductsPromo,\r\n      produitHomePromo,\r\n      isLoadingProductPromo,\r\n      errorPromoList,\r\n      errorPromoHome,\r\n      fetchProdcutsPromo,\r\n      fetchProduitsHomePromo,\r\n      // Flash\r\n      currentProductsFlash,\r\n      totalProductsFlash,\r\n      produitHomeFlash,\r\n      isLoadingProductFlash,\r\n      errorFlashList,\r\n      errorFlashHome,\r\n      fetchProdcutsFlash,\r\n      fetchProductsHomeFlash,\r\n      // Tabaski\r\n      currentProductsTabaski,\r\n      totalProductsTabaski,\r\n      produitHomeTabaski,\r\n      isLoadingProductTabaski,\r\n      errorTabaskiList,\r\n      errorTabaskiHome,\r\n      fetchProdcutsTabaski,\r\n      fetchProductsHomeTabaski,\r\n      // Filtres\r\n      filters,\r\n      updateFilters,\r\n      resetFilters,\r\n    ]\r\n  );\r\n\r\n  return <PromoProductContext.Provider value={contextValue}>{children}</PromoProductContext.Provider>;\r\n};\r\n","/* eslint-disable react/prop-types */\r\nimport { createContext, useState, useEffect, useCallback, useMemo, useRef } from \"react\";\r\nimport ProduitService from \"../services/produitService\";\r\n\r\nexport const VenteCherContext = createContext();\r\n\r\nexport const VenteCherProvider = ({ children }) => {\r\n  // ===== States\r\n  const [isLoadingProductVenteCher, setIsLoadingProductVenteCher] = useState(false);\r\n  const [currentProductsVenteCher, setCurrentProductsVenteCher] = useState([]);\r\n  const [totalProductsVenteCher, setTotalProductsVenteCher] = useState(0);\r\n  const [produitHomeVenteCher, setProduitHomeVenteCher] = useState([]);\r\n  const [errorVenteCherList, setErrorVenteCherList] = useState(null);\r\n  const [errorVenteCherHome, setErrorVenteCherHome] = useState(null);\r\n\r\n  // ===== Filtres (pour les listings seulement)\r\n  const [filters, setFilters] = useState({\r\n    category: \"All\",\r\n    search: \"\",\r\n    min: 1,\r\n    max: 5_000_000,\r\n    page: 1,\r\n    limit: 9,\r\n    productType: \"All\",\r\n    tag: \"All\",\r\n  });\r\n\r\n  // empcher setState aprs unmount\r\n  const aliveRef = useRef(true);\r\n  useEffect(() => {\r\n    aliveRef.current = true;\r\n    return () => {\r\n      aliveRef.current = false;\r\n    };\r\n  }, []);\r\n\r\n  // ===== Helpers srs\r\n  const priorityCategories = [\"CONGELATEUR\", \"TELEVISION\", \"REFRIGERATEUR\", \"CUISINIERE\"];\r\n  const asArray = (v) => (Array.isArray(v) ? v : []);\r\n  const safeUpper = (s) => (typeof s === \"string\" ? s.toUpperCase() : \"\");\r\n  const categoryIndex = (prod) => {\r\n    const idx = priorityCategories.indexOf(safeUpper(prod && prod.categ_id));\r\n    return idx === -1 ? Number.MAX_SAFE_INTEGER : idx;\r\n  };\r\n  const safeRang = (prod) => {\r\n    const r = Number(prod && prod.rang);\r\n    return Number.isFinite(r) ? r : Number.MAX_SAFE_INTEGER;\r\n  };\r\n  const sortByCategoryPriority = (products) => [...products].sort((a, b) => categoryIndex(a) - categoryIndex(b));\r\n  const sortForHome = (products) =>\r\n    [...products].sort((a, b) => {\r\n      const r = safeRang(a) - safeRang(b);\r\n      if (r !== 0) return r;\r\n      return categoryIndex(a) - categoryIndex(b);\r\n    });\r\n\r\n  // ====== HOME FETCH (indpendant des filtres)\r\n  const fetchProduitsHomeVenteCher = useCallback(async () => {\r\n    setIsLoadingProductVenteCher(true);\r\n    setErrorVenteCherHome(null);\r\n    try {\r\n      const res = await ProduitService.getFilteredProductsVenteCher({\r\n        page: 1,\r\n        limit: 12,\r\n      });\r\n      const produits = sortForHome(asArray((res && res.products) || (res && res.data && res.data.products) || []));\r\n      if (aliveRef.current) setProduitHomeVenteCher(produits);\r\n    } catch (e) {\r\n      if (aliveRef.current) {\r\n        setProduitHomeVenteCher([]);\r\n        setErrorVenteCherHome((e && e.message) || \"Erreur lors de la rcupration des produits en vente en cher (home)\");\r\n      }\r\n    } finally {\r\n      if (aliveRef.current) setIsLoadingProductVenteCher(false);\r\n    }\r\n  }, []);\r\n\r\n  // ====== LIST FETCH (dpendant des filtres)\r\n  const fetchProductsVenteCher = useCallback(async () => {\r\n    setIsLoadingProductVenteCher(true);\r\n    setErrorVenteCherList(null);\r\n    if (aliveRef.current) setCurrentProductsVenteCher([]);\r\n    try {\r\n      const res = await ProduitService.getFilteredProductsVenteCher(filters);\r\n      const produits = sortByCategoryPriority(asArray((res && res.products) || (res && res.data && res.data.products) || []));\r\n      const total = Number((res && res.total) || (res && res.data && res.data.total) || produits.length) || 0;\r\n      if (aliveRef.current) {\r\n        setCurrentProductsVenteCher(produits);\r\n        setTotalProductsVenteCher(total);\r\n      }\r\n    } catch (e) {\r\n      if (aliveRef.current) {\r\n        setCurrentProductsVenteCher([]);\r\n        setTotalProductsVenteCher(0);\r\n        setErrorVenteCherList((e && e.message) || \"Erreur lors du chargement des produits en vente en cher (listing)\");\r\n      }\r\n    } finally {\r\n      if (aliveRef.current) setIsLoadingProductVenteCher(false);\r\n    }\r\n  }, [filters]);\r\n\r\n  // Lancements indpendants\r\n  useEffect(() => {\r\n    fetchProductsVenteCher();\r\n    fetchProduitsHomeVenteCher();\r\n  }, [fetchProductsVenteCher, fetchProduitsHomeVenteCher]);\r\n\r\n  const updateFilters = useCallback((newFilters) => {\r\n    setFilters((prev) => {\r\n      const merged = { ...prev, ...newFilters };\r\n      merged.category = newFilters.category || prev.category || \"All\";\r\n      merged.search =\r\n        newFilters.search !== undefined ? newFilters.search : prev.search ?? \"\";\r\n      // bornes numriques\r\n      const min = Number(merged.min ?? 1);\r\n      const max = Number(merged.max ?? 5_000_000);\r\n      merged.min = Number.isFinite(min) ? min : 1;\r\n      merged.max = Number.isFinite(max) ? max : 5_000_000;\r\n      if (merged.min > merged.max) [merged.min, merged.max] = [merged.max, merged.min];\r\n      // pagination sre\r\n      merged.page = Math.max(1, Number(merged.page ?? 1));\r\n      merged.limit = Math.max(1, Number(merged.limit ?? 9));\r\n      return merged;\r\n    });\r\n  }, []);\r\n\r\n  const resetFilters = useCallback(() => {\r\n    setFilters({\r\n      category: \"All\",\r\n      search: \"\",\r\n      min: 1,\r\n      max: 5_000_000,\r\n      page: 1,\r\n      limit: 9,\r\n      productType: \"All\",\r\n      tag: \"All\",\r\n    });\r\n  }, []);\r\n\r\n  const contextValue = useMemo(\r\n    () => ({\r\n      // ===== Vente en cher\r\n      currentProductsVenteCher,\r\n      totalProductsVenteCher,\r\n      produitHomeVenteCher,\r\n      isLoadingProductVenteCher,\r\n      errorVenteCherList,\r\n      errorVenteCherHome,\r\n      fetchProductsVenteCher,\r\n      fetchProduitsHomeVenteCher,\r\n\r\n      // ===== Filtres\r\n      filters,\r\n      selectedCategory: filters.category,\r\n      updateFilters,\r\n      resetFilters,\r\n    }),\r\n    [\r\n      // Vente en cher\r\n      currentProductsVenteCher,\r\n      totalProductsVenteCher,\r\n      produitHomeVenteCher,\r\n      isLoadingProductVenteCher,\r\n      errorVenteCherList,\r\n      errorVenteCherHome,\r\n      fetchProductsVenteCher,\r\n      fetchProduitsHomeVenteCher,\r\n      // Filtres\r\n      filters,\r\n      updateFilters,\r\n      resetFilters,\r\n    ]\r\n  );\r\n\r\n  return <VenteCherContext.Provider value={contextValue}>{children}</VenteCherContext.Provider>;\r\n};\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react/prop-types */\r\nimport { useContext, useEffect, useState } from \"react\";\r\n\r\nimport ThinLove from \"../../Helpers/icons/ThinLove\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { ChevronRight, CircleX, Dot, HeartHandshake, Search, ShoppingBag, ShoppingCart } from \"lucide-react\";\r\nimport { ProductContext } from \"../../../Provider/ProductContext\";\r\nimport { useAuthContext } from \"../../../contexts/useAuthContext\";\r\nimport { CartContext } from \"../../../contexts/CartContext\";\r\nimport { CategoryContext, useCategory } from \"../../../Provider/CategoryContext\";\r\nimport { PromoProductContext } from \"../../../Provider/PromoProductContext\";\r\nimport { VenteCherContext } from \"../../../Provider/VenteCherContext\";\r\n\r\nexport default function Drawer({ className, open, action }) {\r\n  const navigate = useNavigate();\r\n\r\n  const { user, logout } = useAuthContext()\r\n  const [tab, setTab] = useState(\"menu\");\r\n  const { cart, wishlist, creditOrder, preorder, venteCherCart } = useContext(CartContext);\r\n\r\n\r\n  const { updateFilters: updateProductFilters, resetFilters: resetProductFilters, filters: productFilters } = useContext(ProductContext)\r\n\r\n  const { updateFilters: updatePromoFilters, resetFilters: resetPromoFilters, filters: promoFilters, produitHomeTabaski, produitHomeFlash, produitHomePromo } = useContext(PromoProductContext)\r\n  const { produitHomeVenteCher } = useContext(VenteCherContext);\r\n  const { categories, selectedCategory, updateSelectedCategory } = useCategory()\r\n\r\n\r\n  const handleCategoryChange = (e, category) => {\r\n    e.preventDefault()\r\n    const params = new URLSearchParams(location.search)\r\n\r\n    if (category.name !== \"All\") {\r\n      params.set(\"category\", category.name)\r\n    } else {\r\n      params.delete(\"category\")\r\n    }\r\n    params.set(\"page\", \"1\")\r\n\r\n    action()\r\n    updateSelectedCategory(category.name)\r\n\r\n    const newFilters = {\r\n      category: category.name,\r\n      page: 1,\r\n      search: \"\",\r\n      min: 1000,\r\n      max: 5000000,\r\n      limit: 9,\r\n      productType: \"All\",\r\n      tag: \"All\"\r\n    }\r\n\r\n    if (location.pathname === \"/en-promo\") {\r\n      updatePromoFilters(newFilters)\r\n      navigate(`/en-promo?${params.toString()}`)\r\n    } else if (location.pathname === \"/promo-ramadan\") {\r\n      updatePromoFilters(newFilters)\r\n      navigate(`/promo-ramadan?${params.toString()}`)\r\n    }\r\n    else if (location.pathname === \"/promo-tabaski\") {\r\n      updatePromoFilters(newFilters)\r\n      navigate(`/promo-tabaski?${params.toString()}`)\r\n    }\r\n    else {\r\n      updateProductFilters(newFilters)\r\n      navigate(`/boutique?${params.toString()}`)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (location.pathname === \"/boutique\" || location.pathname === \"/en-promo\" || location.pathname === \"/promo-ramadan\" || location.pathname === \"/promo-tabaski\") {\r\n      const params = new URLSearchParams(location.search)\r\n      const categoryFromURL = params.get(\"category\") || \"All\"\r\n      const newFilters = {\r\n        page: Number(params.get(\"page\")) || 1,\r\n        category: categoryFromURL,\r\n        search: params.get(\"search\") || \"\",\r\n        min: Number(params.get(\"min\")) || 1000,\r\n        max: Number(params.get(\"max\")) || 5000000,\r\n        limit: 9,\r\n        productType: params.get(\"productType\") || \"All\",\r\n        tag: params.get(\"tag\") || \"All\"\r\n      }\r\n\r\n      if (location.pathname === \"/en-promo\" || location.pathname === \"/promo-ramadan\" || location.pathname === \"/promo-tabaski\") {\r\n        updatePromoFilters(newFilters)\r\n      } else {\r\n        updateProductFilters(newFilters)\r\n      }\r\n      updateSelectedCategory(categoryFromURL)\r\n    }\r\n  }, [location.search, location.pathname, updateProductFilters, updatePromoFilters, updateSelectedCategory])\r\n\r\n\r\n\r\n  function HandleLogout() {\r\n    logout();\r\n    navigate(\"/login\");\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={`w-[280px] transition-all duration-300 ease-in-out h-screen overflow-y-auto overflow-x-hidden bg-white fixed top-0 z-[100] ${open ? \"left-0\" : \"-left-[280px]\"\r\n          }`}\r\n      >\r\n        {open && (\r\n          <div\r\n            onClick={action}\r\n            className=\"w-full h-screen bg-black bg-opacity-40 z-40 left-0 top-0 fixed\"\r\n          ></div>\r\n        )}\r\n        <div\r\n          className={`w-[280px] transition-all duration-300 ease-in-out h-screen overflow-y-auto overflow-x-hidden overflow-style-none bg-white fixed top-0 z-50 ${open ? \"left-0\" : \"-left-[280px]\"\r\n            }`}\r\n        >\r\n          <div className=\"w-full px-5 mt-5 mb-4\">\r\n            <div className=\"flex justify-between items-center\">\r\n\r\n              <div className=\"text-center h-auto rounded overflow-hidden my-5 lg:my-0\">\r\n                <Link to=\"/\" >\r\n                  <img src={`logo.png`} alt=\"about\" className=\"w-10 \" />\r\n                </Link>\r\n              </div>\r\n\r\n              <div className=\"flex space-x-5 items-center\">\r\n\r\n                {cart && cart.length > 0 && <>\r\n\r\n                  <div className=\"compaire relative\">\r\n                    <Link to=\"/cart\">\r\n                      <span>\r\n                        <ShoppingCart />\r\n                      </span>\r\n                    </Link>\r\n                    <span className=\"w-[18px] h-[18px] bg-bleu-logo rounded-full absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px]\">\r\n                      {cart ? cart.length : 0}\r\n                    </span>\r\n                  </div>\r\n                </>}\r\n\r\n                {preorder && preorder.length > 0 && <>\r\n\r\n                  <div className=\"compaire relative\">\r\n                    <Link to=\"/pre-cart\">\r\n                      <span>\r\n                        <ShoppingBag />\r\n                      </span>\r\n                    </Link>\r\n                    <span className=\"w-[18px] h-[18px] bg-bleu-logo rounded-full absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px]\">\r\n                      {preorder ? preorder.length : 0}\r\n                    </span>\r\n                  </div>\r\n                </>}\r\n\r\n\r\n                {creditOrder && creditOrder.length > 0 && <>\r\n\r\n                  <div className=\"compaire relative\">\r\n                    <Link to=\"/credit-cart\">\r\n                      <span>\r\n                        <HeartHandshake />\r\n                      </span>\r\n                    </Link>\r\n                    <span className=\"w-[18px] h-[18px] bg-bleu-logo rounded-full absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px]\">\r\n                      {creditOrder ? creditOrder.length : 0}\r\n                    </span>\r\n                  </div>\r\n                </>}\r\n\r\n                {venteCherCart && venteCherCart.length > 0 && <>\r\n                  <div className=\"compaire relative\">\r\n                    <Link to=\"/vente-cher-cart\">\r\n                      <span>\r\n                        <ShoppingBag />\r\n                      </span>\r\n                    </Link>\r\n                    <span className=\"w-[18px] h-[18px] bg-bleu-logo rounded-full absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px]\">\r\n                      {venteCherCart ? venteCherCart.length : 0}\r\n                    </span>\r\n                  </div>\r\n                </>}\r\n\r\n                {wishlist && wishlist.length > 0 && <>\r\n                  <div className=\"favorite relative\">\r\n                    <Link to=\"/wishlist\">\r\n                      <span>\r\n                        <ThinLove />\r\n                      </span>\r\n                    </Link>\r\n                    <span className=\"  bg-bleu-logo  w-[18px] h-[18px] rounded-full  absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px]\">\r\n                      {wishlist.length > 0 ? wishlist.length : 0}\r\n                    </span>\r\n                  </div>\r\n                </>}\r\n\r\n              </div>\r\n              <button onClick={action} type=\"button\">\r\n                <CircleX className=\"text-red-500\"></CircleX>\r\n              </button>\r\n            </div>\r\n\r\n          </div>\r\n\r\n\r\n          <div className=\"w-full mt-5 px-5 flex items-center space-x-3\">\r\n\r\n\r\n            <span\r\n              onClick={() => setTab(\"menu\")}\r\n              className={`text-base font-semibold ${tab === \"menu\" ? \"text-qblack\" : \"text-qgray \"\r\n                }`}\r\n            >\r\n              Menu\r\n            </span>\r\n            <span className=\"w-[1px] h-[14px] bg-qgray\"></span>\r\n            <span\r\n              onClick={() => setTab(\"category\")}\r\n              className={`text-base font-semibold  ${tab === \"category\" ? \"text-qblack\" : \"text-qgray\"\r\n                }`}\r\n            >\r\n\r\n              {!selectedCategory ? <> Catgories </> : <> {selectedCategory == \"All\" ? \"Catgories\" : selectedCategory.toUpperCase()} </>}\r\n\r\n            </span>\r\n\r\n\r\n          </div>\r\n\r\n          {tab === \"category\" ? (\r\n            <div className=\"category-item mt-5 w-full h-[calc(97vh-150px)] overflow-y-auto\">\r\n              <ul className=\"categories-list\">\r\n                {categories.map((category) => (\r\n                  <li key={category.id} className=\"category-item\">\r\n                    <a href=\"#\" onClick={(e) => handleCategoryChange(e, category)}>\r\n                      <div\r\n                        className=\"flex justify-between items-center px-5 h-12 bg-white transition-all duration-300 ease-in-out cursor-pointer\"\r\n                        style={{ \"--hover-bg-color\": \"var(--bleu-logo)\" }}\r\n                        onMouseEnter={(e) => e.currentTarget.style.backgroundColor = \"var(--hover-bg-color)\"}\r\n                        onMouseLeave={(e) => e.currentTarget.style.backgroundColor = \"white\"}\r\n                      >\r\n                        <div className=\"flex items-center space-x-6\">\r\n                          <Dot />\r\n                          <span className=\"text-sm font-400\">\r\n                            {category.name === \"All\" ? \"Tout\" : category.name.toUpperCase()}\r\n                          </span>\r\n                        </div>\r\n                        <div>\r\n                          <ChevronRight />\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          ) : (\r\n            <div className=\"menu-item mt-5 w-full\">\r\n              <ul className=\"categories-list\">\r\n\r\n\r\n                <li className=\"category-item\">\r\n                  <Link to=\"/\">\r\n                    <div\r\n                      className=\"flex justify-between items-center px-5 h-12 bg-white transition-all duration-300 ease-in-out cursor-pointer\"\r\n                      style={{ \"--hover-bg-color\": \"var(--bleu-logo)\" }}\r\n                      onMouseEnter={(e) =>\r\n                      (e.currentTarget.style.backgroundColor =\r\n                        \"var(--hover-bg-color)\")\r\n                      }\r\n                      onMouseLeave={(e) =>\r\n                        (e.currentTarget.style.backgroundColor = \"white\")\r\n                      }\r\n                    >\r\n                      <div className=\"flex items-center space-x-6\">\r\n                        <span className=\"text-sm font-400\">Accueil</span>\r\n                      </div>\r\n                      <div>\r\n                        <ChevronRight></ChevronRight>\r\n                      </div>\r\n                    </div>\r\n                  </Link>\r\n                </li>\r\n\r\n\r\n                <li className=\"category-item\">\r\n                  <Link to=\"/boutique\">\r\n                    <div\r\n                      className=\"flex justify-between items-center px-5 h-12 bg-white transition-all duration-300 ease-in-out cursor-pointer\"\r\n                      style={{ \"--hover-bg-color\": \"var(--bleu-logo)\" }}\r\n                      onMouseEnter={(e) =>\r\n                      (e.currentTarget.style.backgroundColor =\r\n                        \"var(--hover-bg-color)\")\r\n                      }\r\n                      onMouseLeave={(e) =>\r\n                        (e.currentTarget.style.backgroundColor = \"white\")\r\n                      }\r\n                    >\r\n                      <div className=\"flex items-center space-x-6\">\r\n                        <span className=\"text-sm font-400\">Boutique</span>\r\n                      </div>\r\n                      <div>\r\n                        <ChevronRight></ChevronRight>\r\n                      </div>\r\n                    </div>\r\n                  </Link>\r\n                </li>\r\n\r\n                {produitHomePromo && produitHomePromo.length > 0 && (\r\n                  <li className=\"category-item\">\r\n                    <Link to=\"/en-promo\">\r\n                      <div\r\n                        className=\"flex justify-between items-center px-5 h-12 bg-white transition-all duration-300 ease-in-out cursor-pointer\"\r\n                        style={{ \"--hover-bg-color\": \"var(--bleu-logo)\" }}\r\n                        onMouseEnter={(e) =>\r\n                        (e.currentTarget.style.backgroundColor =\r\n                          \"var(--hover-bg-color)\")\r\n                        }\r\n                        onMouseLeave={(e) =>\r\n                          (e.currentTarget.style.backgroundColor = \"white\")\r\n                        }\r\n                      >\r\n                        <div className=\"flex items-center space-x-6\">\r\n                          <span className=\"text-sm font-400\">En promo</span>\r\n                        </div>\r\n                        <div>\r\n                          <ChevronRight></ChevronRight>\r\n                        </div>\r\n                      </div>\r\n                    </Link>\r\n                  </li>\r\n                )}\r\n\r\n\r\n\r\n                {produitHomeTabaski && produitHomeTabaski.length > 0 && (\r\n                  <li className=\"category-item\">\r\n                    <Link to=\"/promo-tabaski\">\r\n                      <div\r\n                        className=\"flex justify-between items-center px-5 h-12 bg-white transition-all duration-300 ease-in-out cursor-pointer\"\r\n                        style={{ \"--hover-bg-color\": \"var(--bleu-logo)\" }}\r\n                        onMouseEnter={(e) =>\r\n                        (e.currentTarget.style.backgroundColor =\r\n                          \"var(--hover-bg-color)\")\r\n                        }\r\n                        onMouseLeave={(e) =>\r\n                          (e.currentTarget.style.backgroundColor = \"white\")\r\n                        }\r\n                      >\r\n                        <div className=\"flex items-center space-x-6\">\r\n                          <span className=\"text-sm font-400\">Promo Tabaski</span>\r\n                        </div>\r\n                        <div>\r\n                          <ChevronRight></ChevronRight>\r\n                        </div>\r\n                      </div>\r\n                    </Link>\r\n                  </li>\r\n                )}\r\n\r\n                {produitHomeVenteCher && produitHomeVenteCher.length > 0 && (\r\n                  <li className=\"category-item\">\r\n                    <Link to=\"/vente-en-cher\">\r\n                      <div\r\n                        className=\"flex justify-between items-center px-5 h-12 bg-white transition-all duration-300 ease-in-out cursor-pointer\"\r\n                        style={{ \"--hover-bg-color\": \"var(--bleu-logo)\" }}\r\n                        onMouseEnter={(e) =>\r\n                        (e.currentTarget.style.backgroundColor =\r\n                          \"var(--hover-bg-color)\")\r\n                        }\r\n                        onMouseLeave={(e) =>\r\n                          (e.currentTarget.style.backgroundColor = \"white\")\r\n                        }\r\n                      >\r\n                        <div className=\"flex items-center space-x-6\">\r\n                          <span className=\"text-sm font-400\">Vente en cher</span>\r\n                        </div>\r\n                        <div>\r\n                          <ChevronRight></ChevronRight>\r\n                        </div>\r\n                      </div>\r\n                    </Link>\r\n                  </li>\r\n                )}\r\n\r\n                {/* {produitHomeFlash && produitHomeFlash.length > 0 && (\r\n                  <li className=\"category-item\">\r\n                    <Link to=\"/promo-ramadan\">\r\n                      <div\r\n                        className=\"flex justify-between items-center px-5 h-12 bg-white transition-all duration-300 ease-in-out cursor-pointer\"\r\n                        style={{ \"--hover-bg-color\": \"var(--bleu-logo)\" }}\r\n                        onMouseEnter={(e) =>\r\n                        (e.currentTarget.style.backgroundColor =\r\n                          \"var(--hover-bg-color)\")\r\n                        }\r\n                        onMouseLeave={(e) =>\r\n                          (e.currentTarget.style.backgroundColor = \"white\")\r\n                        }\r\n                      >\r\n                        <div className=\"flex items-center space-x-6\">\r\n                          <span className=\"text-sm font-400\">Promo Ramadan</span>\r\n                        </div>\r\n                        <div>\r\n                          <ChevronRight></ChevronRight>\r\n                        </div>\r\n                      </div>\r\n                    </Link>\r\n                  </li>\r\n                )} */}\r\n\r\n                <li className=\"category-item\">\r\n                  <Link to=\"/credit-commandes\">\r\n                    <div\r\n                      className=\"flex justify-between items-center px-5 h-12 bg-white transition-all duration-300 ease-in-out cursor-pointer\"\r\n                      style={{ \"--hover-bg-color\": \"var(--bleu-logo)\" }}\r\n                      onMouseEnter={(e) =>\r\n                      (e.currentTarget.style.backgroundColor =\r\n                        \"var(--hover-bg-color)\")\r\n                      }\r\n                      onMouseLeave={(e) =>\r\n                        (e.currentTarget.style.backgroundColor = \"white\")\r\n                      }\r\n                    >\r\n                      <div className=\"flex items-center space-x-6\">\r\n                        <span className=\"text-sm font-400\"> crdit</span>\r\n                      </div>\r\n                      <div>\r\n                        <ChevronRight></ChevronRight>\r\n                      </div>\r\n                    </div>\r\n                  </Link>\r\n                </li>\r\n\r\n\r\n                <li className=\"category-item\">\r\n                  <Link to=\"/informations\">\r\n                    <div\r\n                      className=\"flex justify-between items-center px-5 h-12 bg-white transition-all duration-300 ease-in-out cursor-pointer\"\r\n                      style={{ \"--hover-bg-color\": \"var(--bleu-logo)\" }}\r\n                      onMouseEnter={(e) =>\r\n                      (e.currentTarget.style.backgroundColor =\r\n                        \"var(--hover-bg-color)\")\r\n                      }\r\n                      onMouseLeave={(e) =>\r\n                        (e.currentTarget.style.backgroundColor = \"white\")\r\n                      }\r\n                    >\r\n                      <div className=\"flex items-center space-x-6\">\r\n                        <span className=\"text-sm font-400\">Informations</span>\r\n                      </div>\r\n                      <div>\r\n                        <ChevronRight></ChevronRight>\r\n                      </div>\r\n                    </div>\r\n                  </Link>\r\n                </li>\r\n\r\n                {/* <li className=\"category-item\">\r\n                  <Link to=\"/about\">\r\n                    <div\r\n                      className=\"flex justify-between items-center px-5 h-12 bg-white transition-all duration-300 ease-in-out cursor-pointer\"\r\n                      style={{ \"--hover-bg-color\": \"var(--bleu-logo)\" }}\r\n                      onMouseEnter={(e) =>\r\n                      (e.currentTarget.style.backgroundColor =\r\n                        \"var(--hover-bg-color)\")\r\n                      }\r\n                      onMouseLeave={(e) =>\r\n                        (e.currentTarget.style.backgroundColor = \"white\")\r\n                      }\r\n                    >\r\n                      <div className=\"flex items-center space-x-6\">\r\n                        <span className=\"text-sm font-400\">A propos</span>\r\n                      </div>\r\n                      <div>\r\n                        <ChevronRight></ChevronRight>\r\n                      </div>\r\n                    </div>\r\n                  </Link>\r\n                </li> */}\r\n\r\n\r\n                {/* <li className=\"category-item\">\r\n                  <Link to=\"/contact\">\r\n                    <div\r\n                      className=\"flex justify-between items-center px-5 h-12 bg-white transition-all duration-300 ease-in-out cursor-pointer\"\r\n                      style={{ \"--hover-bg-color\": \"var(--bleu-logo)\" }}\r\n                      onMouseEnter={(e) =>\r\n                      (e.currentTarget.style.backgroundColor =\r\n                        \"var(--hover-bg-color)\")\r\n                      }\r\n                      onMouseLeave={(e) =>\r\n                        (e.currentTarget.style.backgroundColor = \"white\")\r\n                      }\r\n                    >\r\n                      <div className=\"flex items-center space-x-6\">\r\n                        <span className=\"text-sm font-400\">Contact</span>\r\n                      </div>\r\n                      <div>\r\n                        <ChevronRight></ChevronRight>\r\n                      </div>\r\n                    </div>\r\n                  </Link>\r\n                </li> */}\r\n\r\n\r\n                {user && (\r\n\r\n                  <li className=\"category-item\">\r\n                    <Link onClick={HandleLogout} >\r\n                      <div\r\n                        className=\"flex justify-between items-center px-5 h-12 bg-white transition-all duration-300 ease-in-out cursor-pointer\"\r\n                        style={{ \"--hover-bg-color\": \"var(--bleu-logo)\" }}\r\n                        onMouseEnter={(e) =>\r\n                        (e.currentTarget.style.backgroundColor =\r\n                          \"var(--hover-bg-color)\")\r\n                        }\r\n                        onMouseLeave={(e) =>\r\n                          (e.currentTarget.style.backgroundColor = \"white\")\r\n                        }\r\n                      >\r\n                        <div className=\"flex items-center space-x-6\">\r\n                          <span className=\"text-sm font-400\">Deconnexion</span>\r\n                        </div>\r\n                        <div>\r\n                          <ChevronRight></ChevronRight>\r\n                        </div>\r\n                      </div>\r\n                    </Link>\r\n                  </li>\r\n\r\n                )}\r\n              </ul>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","export default function Facebook({ className }) {\n  return (\n    <svg\n      width=\"10\"\n      height=\"16\"\n      viewBox=\"0 0 10 16\"\n      fill=\"none\"\n      className={className}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M3 16V9H0V6H3V4C3 1.3 4.7 0 7.1 0C8.3 0 9.2 0.1 9.5 0.1V2.9H7.8C6.5 2.9 6.2 3.5 6.2 4.4V6H10L9 9H6.3V16H3Z\" />\n    </svg>\n  );\n}\n","export default function Instagram({ className }) {\n  return (\n    <svg\n      width=\"16\"\n      height=\"16\"\n      viewBox=\"0 0 16 16\"\n      fill=\"none\"\n      className={className}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M12.1016 4.90039C12.6538 4.90039 13.1016 4.45268 13.1016 3.90039C13.1016 3.34811 12.6538 2.90039 12.1016 2.90039C11.5493 2.90039 11.1016 3.34811 11.1016 3.90039C11.1016 4.45268 11.5493 4.90039 12.1016 4.90039Z\" />\n      <path d=\"M8 12C5.8 12 4 10.2 4 8C4 5.8 5.8 4 8 4C10.2 4 12 5.8 12 8C12 10.2 10.2 12 8 12ZM8 6C6.9 6 6 6.9 6 8C6 9.1 6.9 10 8 10C9.1 10 10 9.1 10 8C10 6.9 9.1 6 8 6Z\" />\n      <path d=\"M12 16H4C1.9 16 0 14.1 0 12V4C0 1.9 1.9 0 4 0H12C14.1 0 16 1.9 16 4V12C16 14.1 14.1 16 12 16ZM4 2C3.1 2 2 3.1 2 4V12C2 13 3 14 4 14H12C12.9 14 14 12.9 14 12V4C14 3.1 12.9 2 12 2H4Z\" />\n    </svg>\n  );\n}\n","export default function Youtube({ className }) {\n  return (\n    <svg\n      width=\"16\"\n      height=\"12\"\n      viewBox=\"0 0 16 12\"\n      fill=\"none\"\n      className={className}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M15.8 2.8C15.6 1.5 15 0.6 13.6 0.4C11.4 8.9407e-08 8 0 8 0C8 0 4.6 8.9407e-08 2.4 0.4C1 0.6 0.3 1.5 0.2 2.8C0 4.1 0 6 0 6C0 6 0 7.9 0.2 9.2C0.4 10.5 1 11.4 2.4 11.6C4.6 12 8 12 8 12C8 12 11.4 12 13.6 11.6C15 11.3 15.6 10.5 15.8 9.2C16 7.9 16 6 16 6C16 6 16 4.1 15.8 2.8ZM6 9V3L11 6L6 9Z\" />\n    </svg>\n  );\n}\n","/* eslint-disable react/prop-types */\r\nimport { Link } from \"react-router-dom\";\r\nimport Facebook from \"../../../Helpers/icons/Facebook\";\r\nimport Instagram from \"../../../Helpers/icons/Instagram\";\r\nimport Youtube from \"../../../Helpers/icons/Youtube\";\r\nimport { FaPhone } from \"react-icons/fa\";\r\n\r\nexport default function Footer({ type = 3 }) {\r\n  return <>\r\n    <footer className=\"footer-section-wrapper bg-white print:hidden\">\r\n      <div className=\"container-x block mx-auto pt-[56px]\">\r\n        <div className=\"w-full flex flex-col items-center mb-[50px]\">\r\n          {/* logo area */}\r\n          <div className=\"mb-[40px]\">\r\n            {type === 3 ? (\r\n              <Link to=\"/\">\r\n                <img width=\"160\" height=\"40\" src=\"/logo.png\" alt=\"logo\" />\r\n              </Link>\r\n            ) : (\r\n              <Link to=\"/\">\r\n                <img width=\"120\" height=\"30\" src=\"/logo.png\" alt=\"logo\" />\r\n              </Link>\r\n            )}\r\n          </div>\r\n          <div className=\"w-full h-[1px] bg-[#E9E9E9]\"></div>\r\n        </div>\r\n        <div className=\"lg:flex justify-between mb-[50px]\">\r\n          <div className=\"lg:w-[424px]  ml-0 w-full mb-10 lg:mb-0\">\r\n            <h1 className=\"text-[18] font-500 text-[#2F2F2F] mb-5\">\r\n               propos de nous\r\n            </h1>\r\n            <p className=\"text-[#9A9A9A] text-[15px] w-[247px] leading-[28px] text-justify \">\r\n              CCBM Shop, la plateforme de vente du groupe CCBM, propose une\r\n              vaste slection de produits et un service aprs-vente avec des\r\n              options de garantie tendues.\r\n            </p>\r\n          </div>\r\n          <div className=\"flex-1 lg:flex\">\r\n            <div className=\"lg:w-1/2 w-full mb-10 lg:mb-0\">\r\n              <div className=\"mb-5\">\r\n                <h6 className=\"text-[18] font-500 text-[#2F2F2F]\">\r\n                  Liens Utiles\r\n                </h6>\r\n              </div>\r\n              <div>\r\n                <ul className=\"flex flex-col space-y-4 \">\r\n                  <li>\r\n                    <Link to=\"/informations\">\r\n                      <span className=\"text-[#9A9A9A] text-[15px] hover:text-qblack border-b border-transparent hover:border-qblack cursor-pointer capitalize\">\r\n                         propos de nous\r\n                      </span>\r\n                    </Link>\r\n                  </li>\r\n                  <li>\r\n                    <Link to=\"/processus-de-commande-de-credit\">\r\n                      <span className=\"text-[#9A9A9A] text-[15px] hover:text-qblack border-b border-transparent hover:border-qblack cursor-pointer capitalize\">\r\n                        Commandes  crdit\r\n                      </span>\r\n                    </Link>\r\n                  </li>\r\n                  <li>\r\n                    <Link to=\"/tracking-order\">\r\n                      <span className=\"text-[#9A9A9A] text-[15px] hover:text-qblack border-b border-transparent hover:border-qblack cursor-pointer capitalize\">\r\n                        Suivre Commande\r\n                      </span>\r\n                    </Link>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"lg:w-1/2 lg:flex lg:flex-col items-center w-full mb-10 lg:mb-0\">\r\n              <div>\r\n                <div className=\"mb-5\">\r\n                  <h6 className=\"text-[18] font-500 text-[#2F2F2F]\">\r\n                    Nos Services\r\n                  </h6>\r\n                </div>\r\n                <div>\r\n                  <ul className=\"flex flex-col space-y-4 \">\r\n\r\n                    <li>\r\n                      <Link to=\"/faq\">\r\n                        <span className=\"text-[#9A9A9A] text-[15px] hover:text-qblack border-b border-transparent hover:border-qblack cursor-pointer capitalize\">\r\n                          FAQ\r\n                        </span>\r\n                      </Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"/politique-de-confidentialite\">\r\n                        <span className=\"text-[#9A9A9A] text-[15px] hover:text-qblack border-b border-transparent hover:border-qblack cursor-pointer capitalize\">\r\n                          Politique de confidentialit\r\n                        </span>\r\n                      </Link>\r\n                    </li>\r\n\r\n\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"lg:w-1/2 lg:flex lg:flex-col items-center w-full mb-10 lg:mb-0\">\r\n              <div>\r\n                <div className=\"mb-5\">\r\n                  <h6 className=\"text-[18] font-500 text-[#2F2F2F]\">\r\n                    Nos Coordonnes\r\n                  </h6>\r\n                </div>\r\n                <div>\r\n                  <ul className=\"flex flex-col space-y-4 \">\r\n\r\n\r\n\r\n                    <li className=\"text-[#9A9A9A] text-[15px] hover:text-qblack \">\r\n                      <a\r\n                        href=\"https://wa.me/221709221775\" target=\"_blank\" rel=\"noreferrer\"\r\n                      >\r\n                        +221 70 92 21 775\r\n                      </a>\r\n                    </li>\r\n                    <li className=\"text-[#9A9A9A] text-[15px] hover:text-qblack \">\r\n                      <a\r\n                        href=\"https://wa.me/221708430436\" target=\"_blank\" rel=\"noreferrer\"\r\n                      >\r\n                        +221 70 843 04 36\r\n                      </a>\r\n                    </li>\r\n                    <li className=\"text-[#9A9A9A] text-[15px] hover:text-qblack \">\r\n                      <span> Dakar, Avenue Lamine Gueye</span>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"bottom-bar border-t border-qgray-border lg:h-[82px] lg:flex justify-between items-center\">\r\n          <div className=\"flex lg:space-x-5 justify-between items-center mb-3\">\r\n            <div className=\"flex space-x-5 items-center\">\r\n              <Link to=\"https://www.instagram.com/ccbmshop/\">\r\n                <Instagram className=\"fill-current text-qgray hover:text-qblack\" />\r\n              </Link>\r\n              <Link to=\"https://www.facebook.com/Orbitcityccbm?locale=fr_FR\">\r\n                <Facebook className=\"fill-current text-qgray hover:text-qblack\" />\r\n              </Link>\r\n              <Link to=\"https://www.youtube.com/@orbitcitybyccbm2908\">\r\n                <Youtube className=\"fill-current text-qgray hover:text-qblack\" />\r\n              </Link>\r\n            </div>\r\n            <span className=\"sm:text-base text-[10px] text-qgray font-300\">\r\n              2024\r\n              <a\r\n                href=\"https://www.ccbmshop.com/\"\r\n                target=\"_blank\"\r\n                rel=\"noreferrer\"\r\n                className=\"font-500 text-qblack mx-1\"\r\n              >\r\n                CCBM-Shop\r\n              </a>\r\n              Tous droits rservs\r\n            </span>\r\n          </div>\r\n          <div className=\"\">\r\n            <Link tp=\"/\">\r\n              <img\r\n                width=\"318\"\r\n                height=\"28\"\r\n                src={`/paydunya.png`}\r\n                alt=\"CCBM SHOP payment getways\"\r\n              />\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n\r\n    <div className=\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-3 lg:hidden z-50\">\r\n      <a\r\n        href=\"tel:+221709221775\"\r\n        className=\"flex items-center justify-center space-x-2 text-green-600\"\r\n      >\r\n        <FaPhone className=\"h-5 w-5 animate-pulse\" />\r\n        <span className=\"font-medium\">+221 70 922 17 75</span>\r\n      </a>\r\n    </div>\r\n\r\n  </>\r\n}\r\n","const formatPrice = (prix) => {\n  return new Intl.NumberFormat(\"fr-FR\", {\n    style: \"currency\",\n    currency: \"XOF\",\n  }).format(prix);\n};\n\nexport default formatPrice;\n","/* eslint-disable react/prop-types */\n/* eslint-disable no-unused-vars */\nimport { Link } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { CircleX, Trash } from \"lucide-react\";\nimport formatPrice from \"../../utils/formatPrice\";\nimport { CartContext } from \"../../contexts/CartContext\";\nexport default function Cart({ className, type = 3 }) {\n  const { cart, getCartTotal, removeFromCart } = useContext(CartContext);\n\n  const handleRemoveToCart = (e, produit) => {\n    e.preventDefault();\n    removeFromCart(produit);\n  };\n  return (\n    <>\n      {cart && cart.length > 0 && (\n        <div\n          style={{ boxShadow: \" 0px 15px 50px 0px rgba(0, 0, 0, 0.14)\" }}\n          className={`w-[300px] bg-white border-t-[3px] ${type === 3 ? \"border-qh3-blue\" : \"cart-wrappwer\"\n            }  ${className || \"\"}`}\n        >\n          <div className=\"w-full h-full\">\n            <div className=\"product-items h-[310px] overflow-y-scroll\">\n              <ul>\n                {cart.map((produit) => (\n                  <li key={produit.id} className=\"w-full h-full flex\">\n                    <div className=\"flex space-x-[6px] justify-center items-center px-4 my-[20px]\">\n                      <div className=\"w-[65px] h-full\">\n                        <img\n                          src={`${produit.image_256\n                            ? \"data:image/png;base64,\" + produit.image_256\n                            : \"https://readymadeui.com/images/coffee1.webp\"\n                            }`}\n                          alt=\"image produit ccbm shop\"\n                          className=\"w-full h-full object-contain\"\n                        />\n                      </div>\n                      <div className=\"flex-1 h-full flex flex-col justify-center \">\n                        <p className=\"title mb-2 text-[13px] font-600 text-qblack leading-4 line-clamp-2 hover:text-blue-600\">\n                          {produit.name}\n                        </p>\n\n                        <p className=\"price\">\n                          <span className=\"offer-price text-qred font-600 text-[15px] ml-2\">\n                            Prix : {formatPrice(produit.en_promo ? produit.promo_price : produit.list_price)} X{\" \"}\n                            {produit.quantity}\n                          </span>\n                        </p>\n                      </div>\n                    </div>\n                    <span className=\"mt-[20px] mr-[15px] inline-flex cursor-pointer \">\n                      <div\n                        onClick={(e) => handleRemoveToCart(e, produit)}\n                        className=\"duration-200 hover:red-150\"\n                      >\n                        <Trash className=\"hover:text-red-500\" />\n                      </div>\n                    </span>\n                  </li>\n                ))}\n              </ul>\n            </div>\n\n            <div className=\"w-full px-4 mt-[20px] mb-[12px]\">\n              <div className=\"h-[1px] bg-[#F0F1F3]\"></div>\n            </div>\n            <div className=\"product-actions px-4 mb-[30px]\">\n              <div className=\"total-equation flex justify-between items-center mb-[28px]\">\n                <span className=\"text-[15px] font-500 text-qblack\">\n                  Sou Total\n                </span>\n                <span className=\"text-[15px] font-500 text-qred \">\n                  {\" \"}\n                  {formatPrice(getCartTotal())}\n                </span>\n              </div>\n              <div className=\"product-action-btn\">\n                <Link to=\"/cart\">\n                  <div className=\"gray-btn w-full h-[50px] mb-[10px] \">\n                    <span>Panier Commande</span>\n                  </div>\n                </Link>\n\n                {/* <Link>\n                  <div className=\"w-full h-[50px]\">\n                    <div\n                      className={type === 3 ? \"blue-logo-btn\" : \"yellow-btn\"}\n                    >\n                      <span className=\"text-sm\">Passer  la caisse</span>\n                    </div>\n                  </div>\n                </Link> */}\n              </div>\n            </div>\n\n            {/* <div className=\"w-full px-4 mt-[20px]\">\n            <div className=\"h-[1px] bg-[#F0F1F3]\"></div>\n          </div> */}\n\n            {/* <div className=\"flex justify-center py-[15px]\">\n            <p className=\"text-[13px] font-500 text-qgray\">\n              Get Return within <span className=\"text-qblack\">30 days</span>\n            </p>\n          </div> */}\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n","/* eslint-disable react/prop-types */\nimport { Link } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { Trash } from \"lucide-react\";\nimport formatPrice from \"../../utils/formatPrice\";\nimport { CartContext } from \"../../contexts/CartContext\";\nexport default function PreCart({ className, type }) {\n  const { preorder, getPreorderTotal, removeFromPreorder } = useContext(CartContext);\n\n  const handleRemoveToPreCart = (e, produit) => {\n    e.preventDefault();\n    removeFromPreorder(produit);\n  };\n\n\n  return (\n    <>\n      {preorder && preorder.length > 0 && (\n        <div\n          style={{ boxShadow: \" 0px 15px 50px 0px rgba(0, 0, 0, 0.14)\" }}\n          className={`w-[300px] bg-white border-t-[3px] ${type === 3 ? \"border-qh3-blue\" : \"cart-wrappwer\"\n            }  ${className || \"\"}`}\n        >\n          <div className=\"w-full h-full\">\n            <div className=\"product-items h-[310px] overflow-y-scroll\">\n              <ul>\n                {preorder && preorder.map((produit) => (\n                  <li key={produit.id} className=\"w-full h-full flex\">\n                    <div className=\"flex space-x-[6px] justify-center items-center px-4 my-[20px]\">\n                      <div className=\"w-[65px] h-full\">\n                        {/* <img\n                            src={`${produit.image_1920}`}\n                            alt=\"image produit ccbm shop\"\n                            className=\"w-full h-full object-contain\"\n                          /> */}\n                        <img\n                          src={`${produit.image_256\n                            ? \"data:image/png;base64,\" + produit.image_256\n                            : \"https://readymadeui.com/images/coffee1.webp\"\n                            }`}\n                          alt=\"image produit ccbm shop\"\n                          className=\"w-full h-full object-contain\"\n                        />\n                      </div>\n                      <div className=\"flex-1 h-full flex flex-col justify-center \">\n                        <p className=\"title mb-2 text-[13px] font-600 text-qblack leading-4 line-clamp-2 hover:text-blue-600\">\n                          {produit.name}\n                        </p>\n\n                        <p className=\"price\">\n                          <span className=\"offer-price text-qred font-600 text-[15px] ml-2\">\n                            Prix : {formatPrice(produit.preorder_price)} X{\" \"}\n                            {produit.quantity}\n                          </span>\n                        </p>\n                      </div>\n                    </div>\n                    <span className=\"mt-[20px] mr-[15px] inline-flex cursor-pointer \">\n                      <button\n                        onClick={(e) => handleRemoveToPreCart(e, produit)}\n                        className=\"duration-200 hover:red-150\"\n                      >\n                        <Trash className=\"hover:text-red-500\" />\n                      </button>\n                    </span>\n                  </li>\n                ))}\n              </ul>\n            </div>\n\n            <div className=\"w-full px-4 mt-[20px] mb-[12px]\">\n              <div className=\"h-[1px] bg-[#F0F1F3]\"></div>\n            </div>\n            <div className=\"product-actions px-4 mb-[30px]\">\n              <div className=\"total-equation flex justify-between items-center mb-[28px]\">\n                <span className=\"text-[15px] font-500 text-qblack\">\n                  Sous Total\n                </span>\n                <span className=\"text-[15px] font-500 text-qred \">\n                  {\" \"}\n                  {formatPrice(getPreorderTotal())}\n                </span>\n              </div>\n              <div className=\"product-action-btn\">\n                <Link to=\"/pre-cart\">\n                  <div className=\"gray-btn w-full h-[50px] mb-[10px] \">\n                    <span>Panier Prcommande</span>\n                  </div>\n                </Link>\n\n                {/* <div className=\"w-full h-[50px]\">\n                    <div className={type === 3 ? \"blue-logo-btn\" : \"yellow-btn\"}>\n                      <span className=\"text-sm\">Passer  la caisse</span>\n                    </div>\n                  </div> */}\n              </div>\n            </div>\n\n            {/* <div className=\"w-full px-4 mt-[20px]\">\n              <div className=\"h-[1px] bg-[#F0F1F3]\"></div>\n            </div> */}\n\n            {/* <div className=\"flex justify-center py-[15px]\">\n              <p className=\"text-[13px] font-500 text-qgray\">\n                Get Return within <span className=\"text-qblack\">30 days</span>\n              </p>\n            </div> */}\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n","export default function ThinPeople({ className }) {\n  return (\n    <svg\n      width=\"21\"\n      height=\"20\"\n      viewBox=\"0 0 21 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={className}\n    >\n      <path\n        d=\"M19.992 19.729C19.9004 18.043 19.438 16.4886 18.617 15.1176C17.6046 13.4237 16.2096 12.1244 14.4679 11.2475C14.0773 11.0522 13.878 10.9645 13.3878 10.7772L12.9334 10.6138L13.4954 10.1833C14.5476 9.38621 15.3408 8.08689 15.6118 6.70387C15.6955 6.28936 15.7035 5.22918 15.6317 4.78278C15.4643 3.77043 14.9582 2.70227 14.2766 1.92507C13.4356 0.976485 12.2439 0.30291 11.0084 0.079713C10.7971 0.0398565 10.1515 0 9.75289 0C9.60542 0 9.55361 0.00398565 9.53766 0.0079713H9.53368C9.49781 0.011957 9.42607 0.0239139 9.33838 0.0358709H9.32642C9.25468 0.0438422 9.17896 0.0557991 9.10323 0.0677561C8.1666 0.195297 7.01873 0.73336 6.25349 1.41092C5.27302 2.27581 4.59147 3.50339 4.38023 4.78278C4.3045 5.22918 4.31646 6.28936 4.40016 6.70387C4.67118 8.08689 5.46433 9.38621 6.51654 10.1833L7.07852 10.6138L6.62415 10.7772C6.13392 10.9645 5.93464 11.0522 5.54404 11.2475C3.80231 12.1244 2.40335 13.4237 1.39498 15.1176C0.569948 16.4926 0.107613 18.043 0.0159426 19.729L0 20H0.255082H1.1957H18.8123H19.4938H20.008L19.992 19.729ZM5.56397 4.98605C5.73934 3.92188 6.28537 2.95735 7.10642 2.25986C7.91949 1.57035 8.94779 1.19171 10 1.19171C10.2352 1.19171 10.4743 1.21164 10.7094 1.24751C13.1606 1.64607 14.8386 3.95775 14.444 6.39299C14.2686 7.45715 13.7226 8.42168 12.9016 9.11917C12.0885 9.80869 11.0602 10.1873 10.008 10.1873C9.77282 10.1873 9.53368 10.1674 9.29852 10.1315C6.84735 9.72898 5.16939 7.42128 5.56397 4.98605ZM2.54285 15.5281C3.73057 13.7146 5.31287 12.4751 7.25389 11.8414C8.17059 11.5424 9.09526 11.391 10.004 11.391C10.9127 11.391 11.8374 11.5424 12.7541 11.8414C14.6951 12.4751 16.2814 13.7146 17.4651 15.5281C18.047 16.4169 18.5134 17.6963 18.7086 18.8721H1.29932C1.49462 17.6963 1.96094 16.4169 2.54285 15.5281Z\"\n        fill=\"black\"\n      />\n    </svg>\n  );\n}\n","/* eslint-disable react/prop-types */\n/* eslint-disable no-unused-vars */\nimport { Link } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { CircleX, Trash } from \"lucide-react\";\nimport formatPrice from \"../../utils/formatPrice\";\nimport { CartContext } from \"../../contexts/CartContext\";\nexport default function CreditCart({ className, type = 3 }) {\n  const { creditOrder, getCreditOrderTotal, removeFromCreditOrder } = useContext(CartContext);\n\n  const handleRemoveToCart = (e, produit) => {\n    e.preventDefault();\n    removeFromCreditOrder(produit);\n  };\n\n  return (\n    <>\n      {creditOrder && creditOrder.length > 0 && (\n        <div\n          style={{ boxShadow: \" 0px 15px 50px 0px rgba(0, 0, 0, 0.14)\" }}\n          className={`w-[300px] bg-white border-t-[3px] ${type === 3 ? \"border-qh3-blue\" : \"cart-wrappwer\"\n            }  ${className || \"\"}`}\n        >\n          <div className=\"w-full h-full\">\n            <div className=\"product-items h-[310px] overflow-y-scroll\">\n              <ul>\n                {creditOrder.map((produit) => (\n                  <li key={produit.id} className=\"w-full h-full flex\">\n                    <div className=\"flex space-x-[6px] justify-center items-center px-4 my-[20px]\">\n                      <div className=\"w-[65px] h-full\">\n                        <img\n                          src={`${produit.image_256\n                            ? \"data:image/png;base64,\" + produit.image_256\n                            : \"https://readymadeui.com/images/coffee1.webp\"\n                            }`}\n                          alt=\"image produit ccbm shop\"\n                          className=\"w-full h-full object-contain\"\n                        />\n                      </div>\n                      <div className=\"flex-1 h-full flex flex-col justify-center \">\n                        <p className=\"title mb-2 text-[13px] font-600 text-qblack leading-4 line-clamp-2 hover:text-blue-600\">\n                          {produit.name}\n                        </p>\n\n                        <p className=\"price\">\n                          <span className=\"offer-price text-qred font-600 text-[15px] ml-2\">\n                            Prix : {formatPrice(produit.creditorder_price)} X{\" \"}\n                            {produit.quantity}\n                          </span>\n                        </p>\n                      </div>\n                    </div>\n                    <span className=\"mt-[20px] mr-[15px] inline-flex cursor-pointer \">\n                      <div\n                        onClick={(e) => handleRemoveToCart(e, produit)}\n                        className=\"duration-200 hover:red-150\"\n                      >\n                        <Trash className=\"hover:text-red-500\" />\n                      </div>\n                    </span>\n                  </li>\n                ))}\n              </ul>\n            </div>\n\n            <div className=\"w-full px-4 mt-[20px] mb-[12px]\">\n              <div className=\"h-[1px] bg-[#F0F1F3]\"></div>\n            </div>\n            <div className=\"product-actions px-4 mb-[30px]\">\n              <div className=\"total-equation flex justify-between items-center mb-[28px]\">\n                <span className=\"text-[15px] font-500 text-qblack\">\n                  Sou Total\n                </span>\n                <span className=\"text-[15px] font-500 text-qred \">\n                  {\" \"}\n                  {formatPrice(getCreditOrderTotal())}\n                </span>\n              </div>\n              <div className=\"product-action-btn\">\n                <Link to=\"/credit-cart\">\n                  <div className=\"gray-btn w-full h-[50px] mb-[10px] \">\n                    <span>Panier Crdit commande</span>\n                  </div>\n                </Link>\n\n              </div>\n            </div>\n\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n","/* eslint-disable react/prop-types */\r\nimport { Link } from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport { Trash } from \"lucide-react\";\r\nimport formatPrice from \"../../utils/formatPrice\";\r\nimport { CartContext } from \"../../contexts/CartContext\";\r\nexport default function VenteCherCart({ className, type }) {\r\n  const { venteCherCart, getVenteCherCartTotal, removeFromVenteCherCart } = useContext(CartContext);\r\n\r\n  const handleRemoveToVenteCherCart = (e, produit) => {\r\n    e.preventDefault();\r\n    removeFromVenteCherCart(produit);\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n      {venteCherCart && venteCherCart.length > 0 && (\r\n        <div\r\n          style={{ boxShadow: \" 0px 15px 50px 0px rgba(0, 0, 0, 0.14)\" }}\r\n          className={`w-[300px] bg-white border-t-[3px] ${type === 3 ? \"border-qh3-blue\" : \"cart-wrappwer\"\r\n            }  ${className || \"\"}`}\r\n        >\r\n          <div className=\"w-full h-full\">\r\n            <div className=\"product-items h-[310px] overflow-y-scroll\">\r\n              <ul>\r\n                {venteCherCart && venteCherCart.map((produit) => (\r\n                  <li key={produit.id} className=\"w-full h-full flex\">\r\n                    <div className=\"flex space-x-[6px] justify-center items-center px-4 my-[20px]\">\r\n                      <div className=\"w-[65px] h-full\">\r\n                        <img\r\n                          src={`${produit.image_256\r\n                            ? \"data:image/png;base64,\" + produit.image_256\r\n                            : \"https://readymadeui.com/images/coffee1.webp\"\r\n                            }`}\r\n                          alt=\"image produit ccbm shop\"\r\n                          className=\"w-full h-full object-contain\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"flex-1 h-full flex flex-col justify-center \">\r\n                        <p className=\"title mb-2 text-[13px] font-600 text-qblack leading-4 line-clamp-2 hover:text-blue-600\">\r\n                          {produit.name}\r\n                        </p>\r\n\r\n                        <p className=\"price\">\r\n                          <span className=\"offer-price text-qred font-600 text-[15px] ml-2\">\r\n                            Prix : {formatPrice(produit.list_price)} X{\" \"}\r\n                            {produit.quantity}\r\n                          </span>\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                    <span className=\"mt-[20px] mr-[15px] inline-flex cursor-pointer \">\r\n                      <button\r\n                        onClick={(e) => handleRemoveToVenteCherCart(e, produit)}\r\n                        className=\"duration-200 hover:red-150\"\r\n                      >\r\n                        <Trash className=\"hover:text-red-500\" />\r\n                      </button>\r\n                    </span>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n\r\n            <div className=\"w-full px-4 mt-[20px] mb-[12px]\">\r\n              <div className=\"h-[1px] bg-[#F0F1F3]\"></div>\r\n            </div>\r\n            <div className=\"product-actions px-4 mb-[30px]\">\r\n              <div className=\"total-equation flex justify-between items-center mb-[28px]\">\r\n                <span className=\"text-[15px] font-500 text-qblack\">\r\n                  Sous Total\r\n                </span>\r\n                <span className=\"text-[15px] font-500 text-qred \">\r\n                  {\" \"}\r\n                  {formatPrice(getVenteCherCartTotal())}\r\n                </span>\r\n              </div>\r\n              <div className=\"product-action-btn\">\r\n                <Link to=\"/vente-cher-cart\">\r\n                  <div className=\"gray-btn w-full h-[50px] mb-[10px] \">\r\n                    <span>Panier Vente en cher</span>\r\n                  </div>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import axiosInstance from '../config/axiosConfig';\r\n\r\n\r\n\r\nexport async function addTermeRecherche(data) {\r\n    try {\r\n        const response = await axiosInstance.post(`/api/termeRecherche`, data);\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Erreur lors de la cration du commentaire\", error);\r\n        throw error;\r\n    }\r\n}","// \"use client\"\r\n// /* eslint-disable no-unused-vars */\r\n// /* eslint-disable react/prop-types */\r\n\r\n// import { useState, useCallback, useEffect, useRef } from \"react\"\r\n// import { useNavigate, useLocation } from \"react-router-dom\"\r\n// import { Search } from \"lucide-react\"\r\n// import { useContext } from \"react\"\r\n// import { ProductContext } from \"../../../Provider/ProductContext\"\r\n// import { PromoProductContext } from \"../../../Provider/PromoProductContext\"\r\n// import { useCategory } from \"../../../Provider/CategoryContext\"\r\n// import useGoogleAnalytics from \"../../../Hooks/useGoogleAnalytics\"\r\n// import { addTermeRecherche } from \"../../../services/TermeRecherche\"\r\n\r\n// export default function SearchBox({ className, type = 3, isMobile = false }) {\r\n//   const navigate = useNavigate()\r\n//   const location = useLocation()\r\n//   const { trackEvent, trackPageView } = useGoogleAnalytics()\r\n//   const dropdownRef = useRef(null)\r\n\r\n//   const { updateFilters: updateProductFilters, filters: filtreProduit, products } = useContext(ProductContext)\r\n//   const { updateFilters: updatePromoFilters, filters: filtrePromo } = useContext(PromoProductContext)\r\n//   const { categories, isLoadingCategorie, selectedCategory, updateSelectedCategory } = useCategory()\r\n\r\n//   const searchParams = new URLSearchParams(location.search)\r\n//   const initialQuery = searchParams.get(\"search\") || \"\"\r\n//   const initialCategory = searchParams.get(\"category\") || \"All\"\r\n\r\n//   const [query, setQuery] = useState(initialQuery)\r\n//   const [isDropdownOpen, setIsDropdownOpen] = useState(false)\r\n//   const [searchDebounceTimeout, setSearchDebounceTimeout] = useState(null)\r\n//   const [searchResults, setSearchResults] = useState([])\r\n\r\n//   useEffect(() => {\r\n//     setQuery(initialQuery)\r\n//     updateSelectedCategory(initialCategory)\r\n//   }, [initialQuery, initialCategory, updateSelectedCategory])\r\n\r\n//   // Close dropdown when clicking outside\r\n//   useEffect(() => {\r\n//     function handleClickOutside(event) {\r\n//       if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n//         setIsDropdownOpen(false)\r\n//       }\r\n//     }\r\n\r\n//     document.addEventListener(\"mousedown\", handleClickOutside)\r\n//     return () => {\r\n//       document.removeEventListener(\"mousedown\", handleClickOutside)\r\n//     }\r\n//   }, [])\r\n\r\n//   const updateUrlParams = useCallback(\r\n//     (newFilters) => {\r\n//       const params = new URLSearchParams(location.search)\r\n//       Object.entries(newFilters).forEach(([key, value]) => {\r\n//         if (value !== undefined && value !== null && value !== \"\") {\r\n//           params.set(key, value.toString())\r\n//         } else {\r\n//           params.delete(key)\r\n//         }\r\n//       })\r\n//       return params.toString()\r\n//     },\r\n//     [location.search],\r\n//   )\r\n\r\n//   const performSearch = useCallback(\r\n//     (searchQuery) => {\r\n//       trackEvent(\"Recherche\", \"barre_de_recherche\", `Search: ${searchQuery}`, 1)\r\n\r\n//       const newFilters = { ...filtreProduit, search: searchQuery, category: selectedCategory, page: 1 }\r\n\r\n//       if (location.pathname === \"/en-promo\") {\r\n//         updatePromoFilters(newFilters)\r\n//         navigate(`/en-promo?${updateUrlParams(newFilters)}`)\r\n//       } else if (location.pathname === \"/promo-ramadan\") {\r\n//         updatePromoFilters(newFilters)\r\n//         navigate(`/promo-ramadan?${updateUrlParams(newFilters)}`)\r\n//       } else if (location.pathname === \"/promo-tabaski\") {\r\n//         updatePromoFilters(newFilters)\r\n//         navigate(`/promo-tabaski?${updateUrlParams(newFilters)}`)\r\n//       } else {\r\n//         updateProductFilters(newFilters)\r\n//         navigate(`/boutique?${updateUrlParams(newFilters)}`)\r\n//       }\r\n\r\n//       const data = {\r\n//         terme: searchQuery,\r\n//         source:\r\n//           location.pathname === \"/en-promo\"\r\n//             ? \"en-promo\"\r\n//             : location.pathname === \"/promo-ramadan\"\r\n//               ? \"promo-ramadan\"\r\n//               : location.pathname === \"/promo-tabaski\"\r\n//                 ? \"promo-korite\"\r\n//                 : \"boutique\",\r\n//       }\r\n\r\n//       TermeRecherche(data)\r\n\r\n//       window.scrollTo({\r\n//         top: 0,\r\n//         behavior: \"smooth\",\r\n//       })\r\n//     },\r\n//     [\r\n//       filtreProduit,\r\n//       selectedCategory,\r\n//       location.pathname,\r\n//       updatePromoFilters,\r\n//       updateProductFilters,\r\n//       navigate,\r\n//       updateUrlParams,\r\n//       trackEvent,\r\n//     ],\r\n//   )\r\n\r\n//   // Function to filter products based on search query\r\n//   const filterProducts = useCallback(\r\n//     (searchQuery) => {\r\n//       if (!searchQuery || searchQuery.length < 2) {\r\n//         setSearchResults([])\r\n//         setIsDropdownOpen(false)\r\n//         return\r\n//       }\r\n\r\n//       // Assuming products is an array of product objects from ProductContext\r\n//       // If you need to get products from a different source, adjust this accordingly\r\n//       const filteredProducts = products\r\n//         ? products\r\n//           .filter(\r\n//             (product) =>\r\n//               product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n//               (product.description && product.description.toLowerCase().includes(searchQuery.toLowerCase())),\r\n//           )\r\n//           .slice(0, 5)\r\n//         : [] // Limit to 5 results for dropdown\r\n\r\n//       setSearchResults(filteredProducts)\r\n//       setIsDropdownOpen(filteredProducts.length > 0)\r\n//     },\r\n//     [products],\r\n//   )\r\n\r\n//   const handleSearch = (e) => {\r\n//     e.preventDefault()\r\n//     performSearch(query)\r\n//     setIsDropdownOpen(false)\r\n//   }\r\n\r\n//   const handleSearchChange = (e) => {\r\n//     const newQuery = e.target.value\r\n//     setQuery(newQuery)\r\n\r\n//     // Debounce search to avoid too many requests\r\n//     if (searchDebounceTimeout) clearTimeout(searchDebounceTimeout)\r\n\r\n//     setSearchDebounceTimeout(\r\n//       setTimeout(() => {\r\n//         // Filter products for dropdown\r\n//         filterProducts(newQuery)\r\n\r\n//         // Only trigger full search if query has at least 2 characters or is empty\r\n//         if (newQuery.length >= 2 || newQuery === \"\") {\r\n//           performSearch(newQuery)\r\n//         }\r\n//       }, 300),\r\n//     ) // 300ms debounce\r\n//   }\r\n\r\n//   const TermeRecherche = async (data) => {\r\n//     console.log(data)\r\n//     try {\r\n//       const res = await addTermeRecherche(data)\r\n//       return res\r\n//     } catch (error) {\r\n//       console.error(error)\r\n//     }\r\n//   }\r\n\r\n//   const handleCategoryChange = (category) => {\r\n//     updateSelectedCategory(category)\r\n//     setIsDropdownOpen(false)\r\n//   }\r\n\r\n//   const handleResultClick = (productName) => {\r\n//     setQuery(productName)\r\n//     performSearch(productName)\r\n//     setIsDropdownOpen(false)\r\n//   }\r\n\r\n//   return (\r\n//     <div\r\n//       className={`w-full flex items-center rounded-md overflow-visible shadow-md ${className || \"\"} ${isMobile ? \"flex-col\" : \"\"}`}\r\n//       ref={dropdownRef}\r\n//     >\r\n//       <form\r\n//         onSubmit={handleSearch}\r\n//         className={`flex-1 flex items-center relative ${isMobile ? \"w-full flex-col\" : \"\"}`}\r\n//       >\r\n//         <input\r\n//           type=\"search\"\r\n//           className={`flex-1 px-4 py-2 text-sm focus:outline-none ${isMobile ? \"w-full\" : \"\"} pr-12`}\r\n//           placeholder=\"Rechercher un produit...\"\r\n//           value={query}\r\n//           onChange={handleSearchChange}\r\n//           onFocus={() => query.length >= 2 && setIsDropdownOpen(searchResults.length > 0)}\r\n//         />\r\n//         <button\r\n//           type=\"submit\"\r\n//           className=\"absolute right-0 top-0 h-full px-4 text-white bg-bleu-logo flex items-center justify-center focus:outline-none\"\r\n//         >\r\n//           <Search className=\"h-4 w-4\" />\r\n//         </button>\r\n\r\n//         {/* Dropdown for search results */}\r\n//         {isDropdownOpen && (\r\n//           <div className=\"absolute top-full left-0 w-full bg-white shadow-lg rounded-b-md z-10 mt-1 max-h-60 overflow-y-auto\">\r\n//             {searchResults.length > 0 ? (\r\n//               <ul className=\"py-1\">\r\n//                 {searchResults.map((product, index) => (\r\n//                   <li\r\n//                     key={index}\r\n//                     className=\"px-4 py-2 hover:bg-gray-100 cursor-pointer text-sm\"\r\n//                     onClick={() => handleResultClick(product.name)}\r\n//                   >\r\n//                     {product.name}\r\n//                   </li>\r\n//                 ))}\r\n//               </ul>\r\n//             ) : (\r\n//               <div className=\"px-4 py-2 text-sm text-gray-500\">Aucun rsultat trouv</div>\r\n//             )}\r\n//           </div>\r\n//         )}\r\n//       </form>\r\n//     </div>\r\n//   )\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\"use client\"\r\n/* eslint-disable no-unused-vars */\r\n/* eslint-disable react/prop-types */\r\n\r\nimport { useState, useCallback, useEffect, useRef } from \"react\"\r\nimport { useNavigate, useLocation } from \"react-router-dom\"\r\nimport { Search } from \"lucide-react\"\r\nimport { useContext } from \"react\"\r\nimport { ProductContext } from \"../../../Provider/ProductContext\"\r\nimport { PromoProductContext } from \"../../../Provider/PromoProductContext\"\r\nimport { useCategory } from \"../../../Provider/CategoryContext\"\r\nimport useGoogleAnalytics from \"../../../Hooks/useGoogleAnalytics\"\r\nimport { addTermeRecherche } from \"../../../services/TermeRecherche\"\r\n\r\nexport default function SearchBox({ className, type = 3, isMobile = false }) {\r\n  const navigate = useNavigate()\r\n  const location = useLocation()\r\n  const { trackEvent, trackPageView } = useGoogleAnalytics()\r\n  const dropdownRef = useRef(null)\r\n\r\n  const { updateFilters: updateProductFilters, filters: filtreProduit, products } = useContext(ProductContext)\r\n  const { updateFilters: updatePromoFilters, filters: filtrePromo } = useContext(PromoProductContext)\r\n  const { categories, isLoadingCategorie, selectedCategory, updateSelectedCategory } = useCategory()\r\n\r\n  const searchParams = new URLSearchParams(location.search)\r\n  const initialQuery = searchParams.get(\"search\") || \"\"\r\n  const initialCategory = searchParams.get(\"category\") || \"All\"\r\n\r\n  const [query, setQuery] = useState(initialQuery)\r\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false)\r\n  const [searchDebounceTimeout, setSearchDebounceTimeout] = useState(null)\r\n  const [searchResults, setSearchResults] = useState([])\r\n\r\n  useEffect(() => {\r\n    setQuery(initialQuery)\r\n    updateSelectedCategory(initialCategory)\r\n  }, [initialQuery, initialCategory, updateSelectedCategory])\r\n\r\n  // Close dropdown when clicking outside\r\n  useEffect(() => {\r\n    function handleClickOutside(event) {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n        setIsDropdownOpen(false)\r\n      }\r\n    }\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside)\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside)\r\n    }\r\n  }, [])\r\n\r\n  const updateUrlParams = useCallback(\r\n    (newFilters) => {\r\n      const params = new URLSearchParams(location.search)\r\n      Object.entries(newFilters).forEach(([key, value]) => {\r\n        if (value !== undefined && value !== null && value !== \"\") {\r\n          params.set(key, value.toString())\r\n        } else {\r\n          params.delete(key)\r\n        }\r\n      })\r\n      return params.toString()\r\n    },\r\n    [location.search],\r\n  )\r\n\r\n  const performSearch = useCallback(\r\n    (searchQuery) => {\r\n      trackEvent(\"Recherche\", \"barre_de_recherche\", `Search: ${searchQuery}`, 1)\r\n\r\n      const newFilters = { ...filtreProduit, search: searchQuery, category: selectedCategory, page: 1 }\r\n\r\n      if (location.pathname === \"/en-promo\") {\r\n        updatePromoFilters(newFilters)\r\n        navigate(`/en-promo?${updateUrlParams(newFilters)}`)\r\n      } else if (location.pathname === \"/promo-ramadan\") {\r\n        updatePromoFilters(newFilters)\r\n        navigate(`/promo-ramadan?${updateUrlParams(newFilters)}`)\r\n      } else if (location.pathname === \"/promo-tabaski\") {\r\n        updatePromoFilters(newFilters)\r\n        navigate(`/promo-tabaski?${updateUrlParams(newFilters)}`)\r\n      } else {\r\n        updateProductFilters(newFilters)\r\n        navigate(`/boutique?${updateUrlParams(newFilters)}`)\r\n      }\r\n\r\n      const data = {\r\n        terme: searchQuery,\r\n        source:\r\n          location.pathname === \"/en-promo\"\r\n            ? \"en-promo\"\r\n            : location.pathname === \"/promo-ramadan\"\r\n              ? \"promo-ramadan\"\r\n              : location.pathname === \"/promo-tabaski\"\r\n                ? \"promo-korite\"\r\n                : \"boutique\",\r\n      }\r\n\r\n      TermeRecherche(data)\r\n\r\n      window.scrollTo({\r\n        top: 0,\r\n        behavior: \"smooth\",\r\n      })\r\n    },\r\n    [\r\n      filtreProduit,\r\n      selectedCategory,\r\n      location.pathname,\r\n      updatePromoFilters,\r\n      updateProductFilters,\r\n      navigate,\r\n      updateUrlParams,\r\n      trackEvent,\r\n    ],\r\n  )\r\n\r\n  // Function to filter products based on search query\r\n  const filterProducts = useCallback(\r\n    (searchQuery) => {\r\n      if (!searchQuery || searchQuery.length < 2) {\r\n        setSearchResults([])\r\n        setIsDropdownOpen(false)\r\n        return\r\n      }\r\n\r\n      // Assuming products is an array of product objects from ProductContext\r\n      // If you need to get products from a different source, adjust this accordingly\r\n      const filteredProducts = products\r\n        ? products\r\n          .filter(\r\n            (product) =>\r\n              product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n              (product.description && product.description.toLowerCase().includes(searchQuery.toLowerCase())),\r\n          )\r\n          .slice(0, 5)\r\n        : [] // Limit to 5 results for dropdown\r\n\r\n      setSearchResults(filteredProducts)\r\n      setIsDropdownOpen(filteredProducts.length > 0)\r\n    },\r\n    [products],\r\n  )\r\n\r\n  const handleSearch = (e) => {\r\n    e.preventDefault()\r\n    performSearch(query)\r\n    setIsDropdownOpen(false)\r\n  }\r\n\r\n  const handleSearchChange = (e) => {\r\n    const newQuery = e.target.value\r\n    setQuery(newQuery)\r\n\r\n    // Debounce pour filtrer les produits dans le dropdown uniquement\r\n    if (searchDebounceTimeout) clearTimeout(searchDebounceTimeout)\r\n\r\n    setSearchDebounceTimeout(\r\n      setTimeout(() => {\r\n        // Filtrer les produits uniquement pour le dropdown (suggestion)\r\n        filterProducts(newQuery)\r\n      }, 300),\r\n    ) // 300ms debounce pour le dropdown\r\n  }\r\n\r\n  const TermeRecherche = async (data) => {\r\n    console.log(data)\r\n    try {\r\n      const res = await addTermeRecherche(data)\r\n      return res\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  }\r\n\r\n  const handleCategoryChange = (category) => {\r\n    updateSelectedCategory(category)\r\n    setIsDropdownOpen(false)\r\n  }\r\n\r\n  const handleResultClick = (productName) => {\r\n    setQuery(productName)\r\n    performSearch(productName)\r\n    setIsDropdownOpen(false)\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`w-full flex items-center rounded-md overflow-visible shadow-md ${className || \"\"} ${isMobile ? \"flex-col\" : \"\"}`}\r\n      ref={dropdownRef}\r\n    >\r\n      <form\r\n        onSubmit={handleSearch}\r\n        className={`flex-1 flex items-center relative ${isMobile ? \"w-full flex-col\" : \"\"}`}\r\n      >\r\n        <input\r\n          type=\"search\"\r\n          className={`flex-1 px-4 py-2 text-sm focus:outline-none ${isMobile ? \"w-full\" : \"\"} pr-12`}\r\n          placeholder=\"Rechercher un produit...\"\r\n          value={query}\r\n          onChange={handleSearchChange}\r\n          onFocus={() => query.length >= 2 && setIsDropdownOpen(searchResults.length > 0)}\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          className=\"absolute right-0 top-0 h-full px-4 text-white bg-bleu-logo flex items-center justify-center focus:outline-none\"\r\n        >\r\n          <Search className=\"h-4 w-4\" />\r\n        </button>\r\n\r\n        {/* Dropdown for search results */}\r\n        {isDropdownOpen && (\r\n          <div className=\"absolute top-full left-0 w-full bg-white shadow-lg rounded-b-md z-10 mt-1 max-h-60 overflow-y-auto\">\r\n            {searchResults.length > 0 ? (\r\n              <ul className=\"py-1\">\r\n                {searchResults.map((product, index) => (\r\n                  <li\r\n                    key={index}\r\n                    className=\"px-4 py-2 hover:bg-gray-100 cursor-pointer text-sm\"\r\n                    onClick={() => handleResultClick(product.name)}\r\n                  >\r\n                    {product.name}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            ) : (\r\n              <div className=\"px-4 py-2 text-sm text-gray-500\">Aucun rsultat trouv</div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","\n\"use client\"\n\n/* eslint-disable no-unused-vars */\n/* eslint-disable react/prop-types */\nimport { useContext, useEffect } from \"react\"\nimport Cart from \"../../../Cart\"\n\nimport { Link, useNavigate } from \"react-router-dom\"\nimport { Heart, HeartHandshake, ShoppingBag, ShoppingCart } from \"lucide-react\"\nimport PreCart from \"../../../PreCart\"\n\nimport ThinPeople from \"../../../Helpers/icons/ThinPeople\"\nimport { useAuthContext } from \"../../../../contexts/useAuthContext\"\nimport CreditCart from \"../../../CreditCart\"\nimport VenteCherCart from \"../../../VenteCherCart\"\nimport { CartContext } from \"../../../../contexts/CartContext\"\nimport SearchBox from \"../../../Helpers/SearchBox\"\nimport { useCategory } from \"../../../../Provider/CategoryContext\"\nimport { ProductContext } from \"../../../../Provider/ProductContext\"\nimport { PromoProductContext } from \"../../../../Provider/PromoProductContext\"\n\nexport default function Middlebar({ className, type = 3 }) {\n  // const user = JSON.parse(localStorage.getItem(\"user\"));\n\n  const { user } = useAuthContext()\n  const { updateFilters: updateProductFilters, resetFilters: resetProductFilters } = useContext(ProductContext)\n  const { updateFilters: updatePromoFilters, resetFilters: resetPromoFilters } = useContext(PromoProductContext)\n  const { updateSelectedCategory } = useCategory()\n\n  const backgroundColor = type === 3 ? \"var(--bleu-logo)\" : \"var(--qyellow)\"\n  const textColor = type === 3 ? \"white\" : \"var(--qblack)\"\n  const { cart, wishlist, preorder, creditOrder, venteCherCart } = useContext(CartContext)\n\n  const navigate = useNavigate()\n  const handleCart = (e) => {\n    e.preventDefault()\n    navigate(\"/cart\")\n    console.log(cart)\n  }\n  const handlePreCart = (e) => {\n    e.preventDefault()\n    navigate(\"/pre-cart\")\n    console.log(cart)\n  }\n  const handleCreditCart = (e) => {\n    e.preventDefault()\n    navigate(\"/credit-cart\")\n  }\n  const handleVenteCherCart = (e) => {\n    e.preventDefault()\n    navigate(\"/vente-cher-cart\")\n  }\n\n  useEffect(() => {\n    if (\n      location.pathname === \"/boutique\" ||\n      location.pathname === \"/en-promo\" ||\n      location.pathname == \"/promo-ramadan\" ||\n      location.pathname == \"/promo-tabaski\"\n    ) {\n      const params = new URLSearchParams(location.search)\n      const categoryFromURL = params.get(\"category\") || \"All\"\n      const newFilters = {\n        page: Number(params.get(\"page\")) || 1,\n        category: categoryFromURL,\n        search: params.get(\"search\") || \"\",\n        min: Number(params.get(\"min\")) || 1000,\n        max: Number(params.get(\"max\")) || 5000000,\n        limit: 9,\n        productType: params.get(\"productType\") || \"All\",\n        tag: params.get(\"tag\") || \"All\",\n      }\n\n      if (location.pathname === \"/en-promo\" || location.pathname == \"/promo-tabaski\") {\n        updatePromoFilters(newFilters)\n      } else {\n        updateProductFilters(newFilters)\n      }\n      updateSelectedCategory(categoryFromURL)\n    }\n  }, [location.search, location.pathname, updateProductFilters, updatePromoFilters, updateSelectedCategory])\n\n  const onSearch = (query, category) => {\n    console.log(query, category)\n\n    const params = new URLSearchParams(location.search)\n    params.set(\"page\", \"1\")\n\n    if (category.name !== \"All\") {\n      params.set(\"category\", category.name)\n    } else {\n      params.delete(\"category\")\n    }\n\n    const newFilters = {\n      category: category.name,\n      page: 1,\n      search: query,\n    }\n\n    console.log(newFilters)\n    console.log(location.pathname)\n    console.log(params.toString())\n    // if (location.pathname === \"/en-promo\") {\n    //   updatePromoFilters(newFilters)\n    //   navigate(`/en-promo?${params.toString()}`)\n    // } else if (location.pathname == \"/promo-ramadan\") {\n    //   updatePromoFilters(newFilters)\n    //   navigate(`/promo-ramadan?${params.toString()}`)\n    // }\n    // else if (location.pathname == \"/promo-korite\") {\n    //   updatePromoFilters(newFilters)\n    //   navigate(`/promo-korite?${params.toString()}`)\n    // }\n    // else {\n    //   updateProductFilters(newFilters)\n    //   navigate(`/boutique?${params.toString()}`)\n    // }\n  }\n  return (\n    <div className={`w-full h-[86px] bg-white  ${className}`}>\n      <div className=\"container-x mx-auto h-full\">\n        <div className=\"relative h-full\">\n          <div className=\"flex justify-between items-center h-full\">\n            <div>\n              {type === 3 ? (\n                <Link to=\"/\">\n                  <img width=\"120\" height=\"36\" src=\"/logo.png\" alt=\"logo\" />\n                </Link>\n              ) : type === 4 ? (\n                <Link to=\"/\">\n                  <img width=\"80\" height=\"36\" src=\"/logo.png\" alt=\"logo\" />\n                </Link>\n              ) : (\n                <Link to=\"/\">\n                  <img width=\"80\" height=\"36\" src=\"/logo.png\" alt=\"logo\" />\n                </Link>\n              )}\n            </div>\n            <div className=\"w-[517px] h-[44px]\">\n              <SearchBox type={type} className=\"search-com\" onSearch={onSearch} searchOnInput={true} />\n            </div>\n            <div className=\"flex space-x-6 items-center\">\n              {wishlist.length > 0 && (\n                <>\n                  <div className=\"favorite relative\">\n                    <Link to=\"/wishlist\">\n                      <span>\n                        <Heart />\n                      </span>\n                    </Link>\n                    <span\n                      className={`w-[18px] h-[18px] rounded-full  absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px]`}\n                      style={{ backgroundColor, color: textColor }}\n                    >\n                      {wishlist.length > 0 ? wishlist.length : 0}\n                    </span>\n                  </div>\n                </>\n              )}\n\n              {cart.length > 0 && (\n                <>\n                  <div className=\"cart-wrapper group relative py-4\">\n                    <div className=\"cart relative cursor-pointer\">\n                      <button onClick={handleCart}>\n                        <ShoppingCart />\n                        <span\n                          className={`w-[18px] h-[18px] rounded-full  absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px] `}\n                          style={{ backgroundColor, color: textColor }}\n                        >\n                          {cart && cart.length > 0 ? cart.length : 0}\n                        </span>\n                        <Cart type={type} className=\"absolute -right-[45px] top-11 z-50 hidden group-hover:block\" />\n                      </button>\n                    </div>\n                  </div>\n                </>\n              )}\n\n              {preorder.length > 0 && (\n                <>\n                  <div className=\"cart-wrapper group relative py-4\">\n                    <div className=\"cart relative cursor-pointer\">\n                      <button onClick={handlePreCart}>\n                        <span>\n                          <ShoppingBag />\n                        </span>\n                        <span\n                          className={`w-[18px] h-[18px] rounded-full  absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px] `}\n                          style={{ backgroundColor, color: textColor }}\n                        >\n                          {preorder.length > 0 ? preorder.length : 0}\n                        </span>\n                        <PreCart type={type} className=\"absolute -right-[45px] top-11 z-50 hidden group-hover:block\" />\n                      </button>\n                    </div>\n                  </div>\n                </>\n              )}\n              {user && (\n                <>\n                  {creditOrder.length > 0 && (\n                    <>\n                      <div className=\"cart-wrapper group relative py-4\">\n                        <div className=\"cart relative cursor-pointer\">\n                          <button onClick={handleCreditCart}>\n                            <span>\n                              <HeartHandshake />\n                            </span>\n                            <span\n                              className={`w-[18px] h-[18px] rounded-full  absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px] `}\n                              style={{ backgroundColor, color: textColor }}\n                            >\n                              {creditOrder && creditOrder.length > 0 ? creditOrder.length : 0}\n                            </span>\n                            <CreditCart\n                              type={type}\n                              className=\"absolute -right-[45px] top-11 z-50 hidden group-hover:block\"\n                            />\n                          </button>\n                        </div>\n                      </div>\n                    </>\n                  )}\n                </>\n              )}\n\n              {venteCherCart.length > 0 && (\n                <>\n                  <div className=\"cart-wrapper group relative py-4\">\n                    <div className=\"cart relative cursor-pointer\">\n                      <button onClick={handleVenteCherCart}>\n                        <span>\n                          <ShoppingBag />\n                        </span>\n                        <span\n                          className={`w-[18px] h-[18px] rounded-full  absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px] `}\n                          style={{ backgroundColor, color: textColor }}\n                        >\n                          {venteCherCart && venteCherCart.length > 0 ? venteCherCart.length : 0}\n                        </span>\n                        <VenteCherCart\n                          type={type}\n                          className=\"absolute -right-[45px] top-11 z-50 hidden group-hover:block\"\n                        />\n                      </button>\n                    </div>\n                  </div>\n                </>\n              )}\n\n              <div>\n                {!user ? (\n                  <>\n                    {\" \"}\n                    <Link to=\"/login\">\n                      <span>\n                        <ThinPeople />\n                      </span>\n                    </Link>\n                  </>\n                ) : (\n                  <>\n                    <Link to=\"/profile\">\n                      <span>\n                        <ThinPeople />\n                      </span>\n                    </Link>\n                  </>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n","export default function Arrow({\n  className,\n  width = \"5.78538\",\n  height = \"1.28564\",\n}) {\n  return (\n    <svg\n      width=\"10\"\n      height=\"5\"\n      viewBox=\"0 0 10 5\"\n      fill=\"none\"\n      className={className}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <rect\n        x=\"9.18359\"\n        y=\"0.90918\"\n        width={width}\n        height={height}\n        transform=\"rotate(135 9.18359 0.90918)\"\n      />\n      <rect\n        x=\"5.08984\"\n        y=\"5\"\n        width={width}\n        height={height}\n        transform=\"rotate(-135 5.08984 5)\"\n      />\n    </svg>\n  );\n}\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react/prop-types */\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport Arrow from \"../../../Helpers/icons/Arrow\";\r\nimport { Asterisk, Loader, Loader2, Menu, MoveRight, User } from \"lucide-react\";\r\n\r\n// import { ProductContext } from \"../../../../contexts/ProductContext\";\r\nimport { useAuthContext } from \"../../../../contexts/useAuthContext\";\r\nimport { CategoryContext, useCategory } from \"../../../../Provider/CategoryContext\";\r\nimport { ProductContext } from \"../../../../Provider/ProductContext\";\r\nimport { PromoProductContext } from \"../../../../Provider/PromoProductContext\";\r\nimport { VenteCherContext } from \"../../../../Provider/VenteCherContext\";\r\n\r\n\r\nexport default function Navbar({ className, type = 3 }) {\r\n  const navigate = useNavigate();\r\n\r\n  const [categoryToggle, setToggle] = useState(false);\r\n  const [elementsSize, setSize] = useState(\"0px\");\r\n\r\n  // const { updateFilters, filters, resetFilters } = useContext(ProductContext)\r\n  // const { isLoadingCategorie, categories } = useContext(CategoryContext)\r\n  const location = useLocation()\r\n  const { user, logout } = useAuthContext();\r\n  const [categorieSelected, setCategorieSelected] = useState(null)\r\n\r\n  const { updateFilters: updateProductFilters, resetFilters: resetProductFilters } = useContext(ProductContext)\r\n  const { updateFilters: updatePromoFilters, resetFilters: resetPromoFilters, produitHomeTabaski, produitHomeFlash, produitHomePromo } = useContext(PromoProductContext)\r\n  const { produitHomeVenteCher } = useContext(VenteCherContext)\r\n  const { categories, isLoadingCategorie, selectedCategory, updateSelectedCategory } = useCategory()\r\n\r\n  \r\n\r\n  const handler = () => {\r\n    setToggle(!categoryToggle);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (categoryToggle) {\r\n      const getItems = document.querySelectorAll(`.categories-list li`).length;\r\n      if (categoryToggle && getItems > 0) {\r\n        setSize(`${42 * getItems}px`);\r\n      }\r\n    } else {\r\n      setSize(`0px`);\r\n    }\r\n  }, [categoryToggle]);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    if (location.pathname === \"/boutique\" || location.pathname === \"/en-promo\" || location.pathname === \"/promo-ramadan\" || location.pathname === \"/promo-tabaski\") {\r\n      const params = new URLSearchParams(location.search)\r\n      const categoryFromURL = params.get(\"category\") || \"All\"\r\n      const newFilters = {\r\n        page: Number(params.get(\"page\")) || 1,\r\n        category: categoryFromURL,\r\n        search: params.get(\"search\") || \"\",\r\n        min: Number(params.get(\"min\")) || 1000,\r\n        max: Number(params.get(\"max\")) || 5000000,\r\n        limit: 9,\r\n        productType: \"All\",\r\n        tag: \"All\"\r\n      }\r\n\r\n      if (location.pathname === \"/en-promo\" || location.pathname === \"/promo-ramadan\" || location.pathname === \"/promo-tabaski\") {\r\n        updatePromoFilters(newFilters)\r\n      } else {\r\n        updateProductFilters(newFilters)\r\n      }\r\n      updateSelectedCategory(categoryFromURL)\r\n    }\r\n  }, [location.search, location.pathname, updateProductFilters, updatePromoFilters, updateSelectedCategory])\r\n\r\n  const handleCategoryChange = (e, category) => {\r\n    e.preventDefault()\r\n    setToggle(false)\r\n\r\n    const params = new URLSearchParams(location.search)\r\n    params.set(\"page\", \"1\")\r\n\r\n    if (category.name !== \"All\") {\r\n      params.set(\"category\", category.name)\r\n    } else {\r\n      params.delete(\"category\")\r\n    }\r\n\r\n    const newFilters = {\r\n      category: category.name,\r\n      page: 1,\r\n      search: \"\",\r\n    }\r\n\r\n    updateSelectedCategory(category.name)\r\n\r\n    console.log(location.pathname)\r\n    if (location.pathname === \"/en-promo\") {\r\n      updatePromoFilters(newFilters)\r\n      navigate(`/en-promo?${params.toString()}`)\r\n    } else if (location.pathname === \"/promo-ramadan\") {\r\n      updatePromoFilters(newFilters)\r\n      navigate(`/promo-ramadan?${params.toString()}`)\r\n    } else if (location.pathname === \"/promo-tabaski\") {\r\n      updatePromoFilters(newFilters)\r\n      navigate(`/promo-tabaski?${params.toString()}`)\r\n    }\r\n    else {\r\n      updateProductFilters(newFilters)\r\n      navigate(`/boutique?${params.toString()}`)\r\n    }\r\n  }\r\n\r\n\r\n  function HandleLout() {\r\n    logout();\r\n    navigate(\"/login\");\r\n  }\r\n\r\n\r\n  return (\r\n    <div\r\n      className={`fixed nav-widget-wrapper w-full h-[60px]  z-30 bg-bleu-logo ${className || \"\"\r\n        }`}\r\n    >\r\n      <div className=\"container-x mx-auto h-full\">\r\n        <div className=\"w-full h-full relative\">\r\n          <div className=\"w-full h-full flex justify-between items-center\">\r\n            <div className=\"category-and-nav flex xl:space-x-7 space-x-3 items-center\">\r\n              <div className=\"category w-[270px] h-[53px] bg-white px-5 rounded-t-md mt-[6px] relative\">\r\n                <button\r\n                  onClick={handler}\r\n                  type=\"button\"\r\n                  className=\"w-full h-full flex justify-between items-center\"\r\n                >\r\n                  <div className=\"flex space-x-3 items-center\">\r\n                    <span>\r\n                      <Menu></Menu>\r\n                    </span>\r\n\r\n                    <span className=\"text-sm font-600 text-qblacktext\">\r\n                      {selectedCategory === \"All\" ? \"Nos Catgories\" : selectedCategory.toUpperCase()}\r\n                      {isLoadingCategorie && <Loader className=\"animate-spin\" />}\r\n                    </span>\r\n                  </div>\r\n                  <div>\r\n                    <Arrow\r\n                      width=\"5.78538\"\r\n                      height=\"1.28564\"\r\n                      className=\"fill-current text-qblacktext\"\r\n                    />\r\n                  </div>\r\n                </button>\r\n                {categoryToggle && (\r\n                  <div\r\n                    className=\"fixed top-0 left-0 w-full h-full -z-10\"\r\n                    onClick={handler}\r\n                  ></div>\r\n                )}\r\n                <div\r\n                  className=\"category-dropdown w-full absolute left-0 top-[53px] overflow-hidden\"\r\n                  style={{ height: `${elementsSize}` }}\r\n                >\r\n                  {isLoadingCategorie ? (\r\n                    <>\r\n                      {\" \"}\r\n                      <div className=\"flex justify-center\">\r\n                        <Loader2\r\n                          size={100}\r\n                          className=\"mr-2 h-4 text-center w-4 animate-spin\"\r\n                        />\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      {\" \"}\r\n                      <ul className=\"categories-list h-[calc(97vh-150px)] overflow-y-auto\">\r\n                        {categories.map((category) => (\r\n                          <li key={category.id}>\r\n                            <Link\r\n                              onClick={(e) => handleCategoryChange(e, category)}\r\n                            >\r\n                              <div\r\n                                className={`flex justify-between items-center px-5 h-10 bg-white  transition-all duration-300 ease-in-out cursor-pointer text-qblack ${type === 3\r\n                                  ? \"hover:bg-bleu-logo hover:text-white\"\r\n                                  : \"hover:bg-qyellow\"\r\n                                  }`}\r\n                              >\r\n                                <div className=\"flex items-center space-x-6\">\r\n                                  <span>\r\n                                    <Asterisk></Asterisk>\r\n                                  </span>\r\n                                  <span className=\"text-xs font-400  uppercase \">\r\n                                    {category.name == \"All\"\r\n                                      ? \"Tout\"\r\n                                      : category.name}\r\n                                  </span>\r\n                                </div>\r\n                                <div>\r\n                                  <span>\r\n                                    <MoveRight></MoveRight>\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                            </Link>\r\n                          </li>\r\n                        ))}\r\n                      </ul>{\" \"}\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"nav\">\r\n                <ul className=\"nav-wrapper flex xl:space-x-10 space-x-5\">\r\n                  <li className=\"relative\">\r\n                    <Link to=\"/\">\r\n                      <span\r\n                        className={`flex items-center text-sm font-600 cursor-pointer ${type === 3 ? \"text-white\" : \"text-qblacktext\"\r\n                          }`}\r\n                      >\r\n                        <span>Accueil</span>\r\n                      </span>\r\n                    </Link>\r\n                  </li>\r\n\r\n                  <li>\r\n                    <Link to=\"/boutique\">\r\n                      <span\r\n                        className={`flex items-center text-sm font-600 cursor-pointer ${type === 3 ? \"text-white\" : \"text-qblacktext\"\r\n                          }`}\r\n                      >\r\n                        <span>Boutique</span>\r\n                      </span>\r\n                    </Link>\r\n                  </li>\r\n\r\n                  {produitHomePromo && produitHomePromo.length > 0 && (\r\n\r\n                    <li>\r\n                      <Link to=\"/en-promo\">\r\n                        <span\r\n                          className={`flex items-center text-sm font-600 cursor-pointer ${type === 3 ? \"text-white\" : \"text-qblacktext\"\r\n                            }`}\r\n                        >\r\n                          <span>En promo</span>\r\n                        </span>\r\n                      </Link>\r\n                    </li>\r\n                  )}\r\n\r\n                  {produitHomeTabaski && produitHomeTabaski.length > 0 && (\r\n                    <li>\r\n                      <Link to=\"/promo-tabaski\">\r\n                        <span\r\n                          className={`flex items-center text-sm font-600 cursor-pointer ${type === 3 ? \"text-white\" : \"text-qblacktext\"\r\n                            }`}\r\n                        >\r\n                          <span>Promo Tabaski</span>\r\n                        </span>\r\n                      </Link>\r\n                    </li>\r\n                  )}\r\n\r\n                  {produitHomeVenteCher && produitHomeVenteCher.length > 0 && (\r\n                    <li>\r\n                      <Link to=\"/vente-en-cher\">\r\n                        <span\r\n                          className={`flex items-center text-sm font-600 cursor-pointer ${type === 3 ? \"text-white\" : \"text-qblacktext\"\r\n                            }`}\r\n                        >\r\n                          <span>Vente en cher</span>\r\n                        </span>\r\n                      </Link>\r\n                    </li>\r\n                  )}\r\n                 \r\n                  <li>\r\n                    <Link to=\"/credit-commandes\">\r\n                      <span\r\n                        className={`flex items-center text-sm font-600 cursor-pointer ${type === 3 ? \"text-white\" : \"text-qblacktext\"\r\n                          }`}\r\n                      >\r\n                        <span>A Crdit</span>\r\n                      </span>\r\n                    </Link>\r\n                  </li>\r\n\r\n                 \r\n\r\n                  <li>\r\n                    <Link to=\"/informations\">\r\n                      <span\r\n                        className={`flex items-center text-sm font-600 cursor-pointer ${type === 3 ? \"text-white\" : \"text-qblacktext\"\r\n                          }`}\r\n                      >\r\n                        <span>Informations</span>\r\n                      </span>\r\n                    </Link>\r\n                  </li>\r\n\r\n                 \r\n                 \r\n\r\n\r\n\r\n                  {!user ? <>\r\n                    <li>\r\n                      <Link to=\"/login\">\r\n                        <span\r\n                          className={`flex items-center text-sm font-600 cursor-pointer ${type === 3 ? \"text-white\" : \"text-qblacktext\"\r\n                            }`}\r\n                        >\r\n                          <span>Connexion</span>\r\n                        </span>\r\n                      </Link>\r\n                    </li>\r\n                  </> : <>\r\n                    <li>\r\n                      <Link onClick={HandleLout}>\r\n                        <span\r\n                          className={`flex items-center text-sm font-600 cursor-pointer ${type === 3 ? \"text-white\" : \"text-qblacktext\"\r\n                            }`}\r\n                        >\r\n                          <span>Dconnexion</span>\r\n                        </span>\r\n                      </Link>\r\n                    </li>\r\n                  </>}\r\n\r\n                  {user && <>\r\n                    <li className=\"flex items-center\">\r\n                      <Link to=\"/profile\">\r\n                        <span\r\n                          className={`flex items-center text-sm font-600 cursor-pointer ${type === 3 ? \"text-white\" : \"text-qblacktext\"\r\n                            }`}\r\n                        >\r\n                          <span className=\"mr-2\">\r\n                            <User />\r\n                          </span>\r\n                          <span>Profil</span>\r\n                        </span>\r\n                      </Link>\r\n                    </li>\r\n                  </>}\r\n\r\n\r\n                </ul>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable no-unused-vars */\n/* eslint-disable react/prop-types */\nimport { Link } from \"react-router-dom\";\nimport Middlebar from \"./Middlebar\";\nimport Navbar from \"./Navbar\";\nimport { Heart, HeartHandshake, Menu, ShoppingBag, ShoppingCart } from \"lucide-react\";\nimport { useContext, useEffect, useState } from \"react\";\nimport ThinPeople from \"../../../Helpers/icons/ThinPeople\";\nimport { useAuthContext } from \"../../../../contexts/useAuthContext\";\nimport { CartContext } from \"../../../../contexts/CartContext\";\nimport SearchBox from \"../../../Helpers/SearchBox\";\n\n\nexport default function HeaderOne({ className, drawerAction, type = 3 }) {\n  const { user } = useAuthContext();\n  const { cart, wishlist, preorder, creditOrder } = useContext(CartContext);\n  const [headerHeight, setHeaderHeight] = useState(0);\n  const backgroundColor = type === 3 ? \"var(--bleu-logo)\" : \"var(--qyellow)\";\n  const textColor = type === 3 ? \"white\" : \"var(--qblack)\";\n\n\n\n  useEffect(() => {\n    const updateHeaderHeight = () => {\n      const header = document.getElementById(\"fixed-header\");\n      if (header) {\n        setHeaderHeight(header.offsetHeight);\n      }\n    };\n    updateHeaderHeight();\n    window.addEventListener(\"resize\", updateHeaderHeight);\n    return () => {\n      window.removeEventListener(\"resize\", updateHeaderHeight);\n    };\n  }, []);\n\n\n  return (\n    <>\n      <header id=\"fixed-header\" className={`${className || \"\"} fixed top-0 left-0 right-0 z-50  bg-white`}>\n        <Middlebar type={type} className=\"quomodo-shop-middle-bar lg:block hidden\" />\n        <Navbar type={type} className=\"quomodo-shop-nav-bar lg:block hidden\" />\n\n\n        <div className=\"quomodo-shop-drawer lg:hidden block w-full bg-white shadow-md fixed top-0 left-0 z-50 \">\n\n\n          <div className=\"w-full h-[60px] flex items-center px-5\">\n            <div className=\"flex items-center space-x-4\">\n\n              <div onClick={drawerAction} className=\"cursor-pointer\">\n                <Menu />\n              </div>\n\n\n              <div className=\"ml-4\">\n                <Link to=\"/\">\n                  <img\n                    width={type === 3 ? \"120\" : type === 4 ? \"152\" : \"70\"}\n                    height={type === 3 ? \"36\" : type === 4 ? \"36\" : \"26\"}\n                    src=\"/logo.png\"\n                    alt=\"logo\"\n                  />\n                </Link>\n              </div>\n            </div>\n\n\n            <div className=\"flex items-center space-x-4 ml-auto\">\n              {wishlist.length > 0 && (\n                <div className=\"cart relative cursor-pointer\">\n                  <Link to=\"/wishlist\">\n                    <Heart />\n                  </Link>\n                  <span\n                    className={`w-[18px] h-[18px] rounded-full absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px]`}\n                    style={{ backgroundColor, color: textColor }}\n                  >\n                    {wishlist.length}\n                  </span>\n                </div>\n              )}\n\n              {user && creditOrder.length > 0 && (\n                <div className=\"cart relative cursor-pointer\">\n                  <Link to=\"/credit-cart\">\n                    <HeartHandshake />\n                  </Link>\n                  <span\n                    className={`w-[18px] h-[18px] rounded-full absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px]`}\n                    style={{ backgroundColor, color: textColor }}\n                  >\n                    {creditOrder.length}\n                  </span>\n                </div>\n              )}\n\n              {cart.length > 0 && (\n                <div className=\"cart relative cursor-pointer\">\n                  <Link to=\"/cart\">\n                    <ShoppingCart />\n                  </Link>\n                  <span\n                    className={`w-[18px] h-[18px] rounded-full absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px]`}\n                    style={{ backgroundColor, color: textColor }}\n                  >\n                    {cart.length}\n                  </span>\n                </div>\n              )}\n\n              {/* <div>\n                {!user ? (\n                  <Link to=\"/login\">\n                    <ThinPeople />\n                  </Link>\n                ) : (\n                  <Link to=\"/profile\">\n                    <ThinPeople />\n                  </Link>\n                )}\n              </div> */}\n              <div className=\"flex items-center space-x-1\">\n                {!user ? (\n                  <Link to=\"/login\" className=\"flex items-center space-x-1\">\n                    <ThinPeople />\n                    <span>Profil</span>\n                  </Link>\n                ) : (\n                  <Link to=\"/profile\" className=\"flex items-center space-x-1\">\n                    <ThinPeople />\n                    <span>Profil</span>\n                  </Link>\n                )}\n              </div>\n            </div>\n          </div>\n\n\n          <div className={`px-5 pb-4 `}>\n            <SearchBox\n              type={type}\n              className=\"w-full\"\n              isMobile={true}\n              onSearch={(query, category) => {\n                console.log(`Searching for \"${query}\" in category \"${category}\"`);\n              }}\n            />\n          </div>\n\n        </div>\n\n      </header>\n\n    </>\n  );\n}\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react/no-unknown-property */\r\n// /* eslint-disable no-unused-vars */\r\n// \"use client\"\r\n\r\n// import { useState, useEffect, useCallback, useMemo, useRef } from \"react\"\r\n// import { MessageCircle, X, Send, Phone } from \"lucide-react\"\r\n// import { useAuthContext } from \"../../contexts/useAuthContext\"\r\n// import { createSimpleCommentaire, getSimpleCommentaire } from \"../../services/CommentaireService\"\r\n// import { FaWhatsapp } from \"react-icons/fa\";\r\n\r\n\r\n\r\n// const CommentSection = () => {\r\n//     const { user } = useAuthContext()\r\n\r\n//     const [isOpen, setIsOpen] = useState(false)\r\n//     const [formData, setFormData] = useState({\r\n//         name: \"\",\r\n//         text: \"\",\r\n//         tel: \"\",\r\n//     })\r\n//     useEffect(() => {\r\n//         if (user) {\r\n//             setFormData((prev) => ({\r\n//                 ...prev,\r\n//                 name: user.name || \"\",\r\n//                 tel: user.partner_phone || \"\",\r\n//             }))\r\n//         }\r\n//     }, [user])\r\n\r\n\r\n//     const [isSubmitting, setIsSubmitting] = useState(false)\r\n\r\n//     // eslint-disable-next-line no-unused-vars\r\n//     const [isSubmitted, setIsSubmitted] = useState(false)\r\n\r\n\r\n\r\n//     const handleInputChange = (e) => {\r\n//         const { name, value } = e.target\r\n//         setFormData((prev) => ({ ...prev, [name]: value }))\r\n//     }\r\n\r\n//     const handleSubmit = async (e) => {\r\n//         e.preventDefault()\r\n//         console.log(formData)\r\n//         if (!formData.name || !formData.text || !formData.tel) return\r\n//         setIsSubmitting(true)\r\n//         try {\r\n//             const data = {\r\n//                 author: formData.name,\r\n//                 text: formData.text,\r\n//                 tel: formData.tel,\r\n//                 date: new Date().toISOString(),\r\n//             }\r\n//             console.log(data)\r\n//             await createSimpleCommentaire(data)\r\n//             setIsSubmitted(true)\r\n//             setTimeout(() => {\r\n//                 setIsOpen(false)\r\n//                 setIsSubmitted(false)\r\n//                 setFormData({ name: user?.name || \"\", text: \"\" || \"\", tel: user?.partner_phone || \"\" })\r\n//             }, 3000)\r\n//         } catch (error) {\r\n//             console.error(\"Error posting comment:\", error)\r\n//         } finally {\r\n//             setIsSubmitting(false)\r\n//         }\r\n//     }\r\n\r\n//     const toggleForm = () => {\r\n//         setIsOpen((prev) => !prev)\r\n//         setIsSubmitted(false)\r\n//         if (user) {\r\n//             setFormData((prev) => ({\r\n//                 ...prev,\r\n//                 name: user.name || \"\",\r\n//                 tel: user.partner_phone || \"\",\r\n//             }))\r\n//         }\r\n//     }\r\n\r\n\r\n\r\n//     return <>\r\n\r\n//         <div className=\"fixed top-2/3 right-4 transform -translate-y-1/2 z-50\">\r\n//             <div className=\"fixed bottom-4 right-1 z-50 flex gap-4\">\r\n//                 <a\r\n//                     href=\"https://wa.me/221709221775\"\r\n//                     target=\"_blank\"\r\n//                     rel=\"noopener noreferrer\"\r\n//                     className=\"bg-green-500 hover:bg-green-600 text-white rounded-full px-4 py-2 shadow-lg flex items-center space-x-2 transition-all duration-300 ease-in-out transform hover:scale-110\"\r\n//                     aria-label=\"Contact WhatsApp\"\r\n//                 >\r\n\r\n//                     <FaWhatsapp\r\n//                         className=\"h-7 w-7\"\r\n//                         style={{\r\n//                             animation: 'shake 2s ease-in-out infinite'\r\n//                         }}\r\n//                     />\r\n//                 </a>\r\n//             </div>\r\n\r\n//         </div>\r\n\r\n\r\n//     </>\r\n// }\r\n\r\n// export default CommentSection\r\n\r\n\r\n\r\n\r\n// \"use client\"\r\n\r\n// import { useState, useEffect, useRef } from \"react\"\r\n// import { X, Phone, HeadphonesIcon, CheckCircle, Clock, UserCheck, Shield } from \"lucide-react\"\r\n// import { FaWhatsapp } from \"react-icons/fa\"\r\n\r\n// const CommentSection = () => {\r\n//     const [isSavOpen, setIsSavOpen] = useState(false)\r\n//     const [isMobile, setIsMobile] = useState(false)\r\n//     const savPanelRef = useRef(null)\r\n\r\n//     useEffect(() => {\r\n//         const checkMobile = () => {\r\n//             setIsMobile(window.innerWidth < 768)\r\n//         }\r\n\r\n//         checkMobile()\r\n\r\n//         window.addEventListener(\"resize\", checkMobile)\r\n\r\n//         return () => {\r\n//             window.removeEventListener(\"resize\", checkMobile)\r\n//         }\r\n//     }, [])\r\n\r\n//     const toggleSav = () => {\r\n//         setIsSavOpen(!isSavOpen)\r\n//     }\r\n\r\n//     return (\r\n//         <>\r\n//             <div className=\"fixed bottom-10 right-4 z-50 flex flex-col items-end gap-4\">\r\n//                 {/* SAV Panel */}\r\n//                 {isSavOpen && (\r\n//                     <div\r\n//                         ref={savPanelRef}\r\n//                         className={`bg-white rounded-lg shadow-xl p-4 mb-4 animate-popup\r\n//                             ${isMobile ? \"fixed inset-x-4 bottom-20 max-h-[70vh] overflow-y-auto\" : \"w-full max-w-sm\"}`}\r\n//                     >\r\n//                         <div className=\"flex justify-between items-center mb-4\">\r\n//                             <h3 className=\"text-lg font-bold text-primary\">Notre Service Aprs-Vente</h3>\r\n//                             <button\r\n//                                 onClick={() => setIsSavOpen(false)}\r\n//                                 className=\"text-gray-500 hover:text-gray-700\"\r\n//                                 aria-label=\"Fermer\"\r\n//                             >\r\n//                                 <X className=\"h-5 w-5\" />\r\n//                             </button>\r\n//                         </div>\r\n\r\n//                         <div className=\"space-y-4\">\r\n//                             <div className=\"flex items-start gap-3\">\r\n//                                 <CheckCircle className=\"h-5 w-5 text-green-500 mt-1 flex-shrink-0\" />\r\n//                                 <div>\r\n//                                     <h4 className=\"font-medium\">Suivi personnalis</h4>\r\n//                                     <p className=\"text-sm text-gray-600\">Un conseiller ddi vous accompagne aprs votre achat</p>\r\n//                                 </div>\r\n//                             </div>\r\n\r\n//                             <div className=\"flex items-start gap-3\">\r\n//                                 <Clock className=\"h-5 w-5 text-blue-500 mt-1 flex-shrink-0\" />\r\n//                                 <div>\r\n//                                     <h4 className=\"font-medium\">Assistance rapide</h4>\r\n//                                     <p className=\"text-sm text-gray-600\">Rponse garantie sous 24h  toutes vos questions</p>\r\n//                                 </div>\r\n//                             </div>\r\n\r\n//                             <div className=\"flex items-start gap-3\">\r\n//                                 <UserCheck className=\"h-5 w-5 text-purple-500 mt-1 flex-shrink-0\" />\r\n//                                 <div>\r\n//                                     <h4 className=\"font-medium\">Satisfaction client</h4>\r\n//                                     <p className=\"text-sm text-gray-600\">Nous nous assurons que vous tes pleinement satisfait</p>\r\n//                                 </div>\r\n//                             </div>\r\n\r\n//                             <div className=\"flex items-start gap-3\">\r\n//                                 <Shield className=\"h-5 w-5 text-amber-500 mt-1 flex-shrink-0\" />\r\n//                                 <div>\r\n//                                     <h4 className=\"font-medium\">Produits garantis</h4>\r\n//                                     <p className=\"text-sm text-gray-600\">\r\n//                                         Tous nos produits sont garantis et changeables selon nos conditions\r\n//                                     </p>\r\n//                                 </div>\r\n//                             </div>\r\n\r\n//                             <div className=\"mt-4 pt-3 border-t border-gray-100\">\r\n//                                 <h4 className=\"font-medium mb-2\">Contactez notre SAV</h4>\r\n//                                 <div className={`flex ${isMobile ? \"flex-col\" : \"flex-row\"} gap-3`}>\r\n//                                     <a\r\n//                                         href=\"tel:+221709221775\"\r\n//                                         className=\"flex items-center justify-center gap-1 bg-blue-50 hover:bg-blue-100 text-blue-700 px-3 py-2 rounded-md text-sm transition-colors\"\r\n//                                     >\r\n//                                         <Phone className=\"h-4 w-4\" />\r\n//                                         <span>Appeler</span>\r\n//                                     </a>\r\n//                                     <a\r\n//                                         href=\"https://wa.me/221709221775\"\r\n//                                         target=\"_blank\"\r\n//                                         rel=\"noopener noreferrer\"\r\n//                                         className=\"flex items-center justify-center gap-1 bg-green-50 hover:bg-green-100 text-green-700 px-3 py-2 rounded-md text-sm transition-colors\"\r\n//                                     >\r\n//                                         <FaWhatsapp className=\"h-4 w-4\" />\r\n//                                         <span>WhatsApp</span>\r\n//                                     </a>\r\n//                                 </div>\r\n//                             </div>\r\n//                         </div>\r\n//                     </div>\r\n//                 )}\r\n\r\n//                 {/* Action Buttons */}\r\n//                 <div className=\"flex gap-3 md:mb-5\">\r\n//                     {/* SAV Button */}\r\n//                     <button\r\n//                         id=\"sav-button\"\r\n//                         onClick={toggleSav}\r\n//                         className={`${isSavOpen && isMobile ? \"bg-gray-600\" : \"bg-bleu-logo hover:bg-bleu-claire\"}\r\n//                             text-white rounded-full p-3 shadow-lg flex items-center justify-center\r\n//                             transition-all duration-300 ease-in-out transform hover:scale-110`}\r\n//                         aria-label=\"Service Aprs-Vente\"\r\n//                     >\r\n//                         <HeadphonesIcon className=\"h-6 w-6\" />\r\n//                     </button>\r\n\r\n//                     {/* WhatsApp Button */}\r\n//                     <a\r\n//                         href=\"https://wa.me/221709221775\"\r\n//                         target=\"_blank\"\r\n//                         rel=\"noopener noreferrer\"\r\n//                         className=\"bg-green-500 hover:bg-green-600 text-white rounded-full p-3 shadow-lg flex items-center justify-center transition-all duration-300 ease-in-out transform hover:scale-110\"\r\n//                         aria-label=\"Contact WhatsApp\"\r\n//                     >\r\n//                         <FaWhatsapp\r\n//                             className=\"h-6 w-6\"\r\n//                             style={{\r\n//                                 animation: \"shake 2s ease-in-out infinite\",\r\n//                             }}\r\n//                         />\r\n//                     </a>\r\n//                 </div>\r\n//             </div>\r\n\r\n//             {/* Add this to your global CSS or in a style tag */}\r\n//             <style jsx>{`\r\n//                 @keyframes shake {\r\n//                     0% { transform: rotate(0deg); }\r\n//                     1% { transform: rotate(5deg); }\r\n//                     3% { transform: rotate(-5deg); }\r\n//                     5% { transform: rotate(5deg); }\r\n//                     7% { transform: rotate(-5deg); }\r\n//                     9% { transform: rotate(0deg); }\r\n//                     100% { transform: rotate(0deg); }\r\n//                 }\r\n\r\n//                 @keyframes fade-in-right {\r\n//                     from {\r\n//                         opacity: 0;\r\n//                         transform: translateX(20px);\r\n//                     }\r\n//                     to {\r\n//                         opacity: 1;\r\n//                         transform: translateX(0);\r\n//                     }\r\n//                 }\r\n\r\n//                 @keyframes zoom-in {\r\n//                     from {\r\n//                         transform: scale(0.8);\r\n//                     }\r\n//                     to {\r\n//                         transform: scale(1);\r\n//                     }\r\n//                 }\r\n\r\n//                 @keyframes rotate-in {\r\n//                     from {\r\n//                         transform: rotate(-5deg);\r\n//                     }\r\n//                     to {\r\n//                         transform: rotate(0deg);\r\n//                     }\r\n//                 }\r\n\r\n//                 @keyframes bounce {\r\n//                     0%, 20%, 50%, 80%, 100% {\r\n//                         transform: translateY(0);\r\n//                     }\r\n//                     40% {\r\n//                         transform: translateY(-10px);\r\n//                     }\r\n//                     60% {\r\n//                         transform: translateY(-5px);\r\n//                     }\r\n//                 }\r\n\r\n//                 .animate-popup {\r\n//                     animation: fade-in-right 0.3s ease-out forwards, zoom-in 0.3s ease-out forwards, rotate-in 0.3s ease-out forwards;\r\n//                 }\r\n\r\n//                 .animate-bounce {\r\n//                     animation: bounce 2s infinite;\r\n//                 }\r\n//             `}</style>\r\n//         </>\r\n//     )\r\n// }\r\n\r\n// export default CommentSection\r\n\r\n\r\n\r\n\r\n\r\n\r\n// // \"use client\"\r\n\r\n// // import { useState, useEffect, useRef } from \"react\"\r\n// // import { X, Phone, HeadphonesIcon, CheckCircle, Clock, UserCheck, Shield } from \"lucide-react\"\r\n// // import { FaWhatsapp } from \"react-icons/fa\"\r\n\r\n// // const CommentSection = () => {\r\n// //     const [isSavOpen, setIsSavOpen] = useState(false)\r\n// //     const [isMobile, setIsMobile] = useState(false)\r\n// //     const [isAnimating, setIsAnimating] = useState(false)\r\n// //     const savPanelRef = useRef(null)\r\n// //     const animationTimeoutRef = useRef(null)\r\n\r\n// //     useEffect(() => {\r\n// //         const checkMobile = () => {\r\n// //             setIsMobile(window.innerWidth < 768)\r\n// //         }\r\n\r\n// //         checkMobile()\r\n\r\n// //         window.addEventListener(\"resize\", checkMobile)\r\n\r\n// //         return () => {\r\n// //             window.removeEventListener(\"resize\", checkMobile)\r\n// //         }\r\n// //     }, [])\r\n\r\n// //     // Animation priodique des boutons pour attirer l'attention\r\n// //     useEffect(() => {\r\n// //         // Ne pas animer si le panel est ouvert\r\n// //         if (isSavOpen) {\r\n// //             clearTimeout(animationTimeoutRef.current)\r\n// //             setIsAnimating(false)\r\n// //             return\r\n// //         }\r\n\r\n// //         const startAnimation = () => {\r\n// //             // Activer l'animation\r\n// //             setIsAnimating(true)\r\n\r\n// //             // Dsactiver l'animation aprs 2 secondes\r\n// //             const animationDuration = setTimeout(() => {\r\n// //                 setIsAnimating(false)\r\n\r\n// //                 // Planifier la prochaine animation aprs un dlai alatoire entre 5 et 15 secondes\r\n// //                 animationTimeoutRef.current = setTimeout(\r\n// //                     () => {\r\n// //                         startAnimation()\r\n// //                     },\r\n// //                     Math.random() * 10000 + 5000,\r\n// //                 ) // Entre 5 et 15 secondes\r\n// //             }, 2000)\r\n\r\n// //             return animationDuration\r\n// //         }\r\n\r\n// //         // Dmarrer la premire animation aprs un dlai initial\r\n// //         const initialDelay = setTimeout(() => {\r\n// //             startAnimation()\r\n// //         }, 3000)\r\n\r\n// //         return () => {\r\n// //             clearTimeout(initialDelay)\r\n// //             clearTimeout(animationTimeoutRef.current)\r\n// //         }\r\n// //     }, [isSavOpen])\r\n\r\n// //     const toggleSav = () => {\r\n// //         setIsSavOpen(!isSavOpen)\r\n// //     }\r\n\r\n// //     return (\r\n// //         <>\r\n// //             <div className=\"fixed bottom-10 right-4 z-50 flex flex-col items-end gap-4\">\r\n// //                 {/* SAV Panel */}\r\n// //                 {isSavOpen && (\r\n// //                     <div\r\n// //                         ref={savPanelRef}\r\n// //                         className={`bg-white rounded-lg shadow-xl p-4 mb-4 animate-popup\r\n// //                             ${isMobile ? \"fixed inset-x-4 bottom-20 max-h-[70vh] overflow-y-auto\" : \"w-full max-w-sm\"}`}\r\n// //                     >\r\n// //                         <div className=\"flex justify-between items-center mb-4\">\r\n// //                             <h3 className=\"text-lg font-bold text-primary\">Notre Service Aprs-Vente</h3>\r\n// //                             <button\r\n// //                                 onClick={() => setIsSavOpen(false)}\r\n// //                                 className=\"text-gray-500 hover:text-gray-700\"\r\n// //                                 aria-label=\"Fermer\"\r\n// //                             >\r\n// //                                 <X className=\"h-5 w-5\" />\r\n// //                             </button>\r\n// //                         </div>\r\n\r\n// //                         <div className=\"space-y-4\">\r\n// //                             <div className=\"flex items-start gap-3\">\r\n// //                                 <CheckCircle className=\"h-5 w-5 text-green-500 mt-1 flex-shrink-0\" />\r\n// //                                 <div>\r\n// //                                     <h4 className=\"font-medium\">Suivi personnalis</h4>\r\n// //                                     <p className=\"text-sm text-gray-600\">Un conseiller ddi vous accompagne aprs votre achat</p>\r\n// //                                 </div>\r\n// //                             </div>\r\n\r\n// //                             <div className=\"flex items-start gap-3\">\r\n// //                                 <Clock className=\"h-5 w-5 text-blue-500 mt-1 flex-shrink-0\" />\r\n// //                                 <div>\r\n// //                                     <h4 className=\"font-medium\">Assistance rapide</h4>\r\n// //                                     <p className=\"text-sm text-gray-600\">Rponse garantie sous 24h  toutes vos questions</p>\r\n// //                                 </div>\r\n// //                             </div>\r\n\r\n// //                             <div className=\"flex items-start gap-3\">\r\n// //                                 <UserCheck className=\"h-5 w-5 text-purple-500 mt-1 flex-shrink-0\" />\r\n// //                                 <div>\r\n// //                                     <h4 className=\"font-medium\">Satisfaction client</h4>\r\n// //                                     <p className=\"text-sm text-gray-600\">Nous nous assurons que vous tes pleinement satisfait</p>\r\n// //                                 </div>\r\n// //                             </div>\r\n\r\n// //                             <div className=\"flex items-start gap-3\">\r\n// //                                 <Shield className=\"h-5 w-5 text-amber-500 mt-1 flex-shrink-0\" />\r\n// //                                 <div>\r\n// //                                     <h4 className=\"font-medium\">Produits garantis</h4>\r\n// //                                     <p className=\"text-sm text-gray-600\">\r\n// //                                         Tous nos produits sont garantis et changeables selon nos conditions\r\n// //                                     </p>\r\n// //                                 </div>\r\n// //                             </div>\r\n\r\n// //                             <div className=\"mt-4 pt-3 border-t border-gray-100\">\r\n// //                                 <h4 className=\"font-medium mb-2\">Contactez notre SAV</h4>\r\n// //                                 <div className={`flex ${isMobile ? \"flex-col\" : \"flex-row\"} gap-3`}>\r\n// //                                     <a\r\n// //                                         href=\"tel:+221709221775\"\r\n// //                                         className=\"flex items-center justify-center gap-1 bg-blue-50 hover:bg-blue-100 text-blue-700 px-3 py-2 rounded-md text-sm transition-colors\"\r\n// //                                     >\r\n// //                                         <Phone className=\"h-4 w-4\" />\r\n// //                                         <span>Appeler</span>\r\n// //                                     </a>\r\n// //                                     <a\r\n// //                                         href=\"https://wa.me/221709221775\"\r\n// //                                         target=\"_blank\"\r\n// //                                         rel=\"noopener noreferrer\"\r\n// //                                         className=\"flex items-center justify-center gap-1 bg-green-50 hover:bg-green-100 text-green-700 px-3 py-2 rounded-md text-sm transition-colors\"\r\n// //                                     >\r\n// //                                         <FaWhatsapp className=\"h-4 w-4\" />\r\n// //                                         <span>WhatsApp</span>\r\n// //                                     </a>\r\n// //                                 </div>\r\n// //                             </div>\r\n// //                         </div>\r\n// //                     </div>\r\n// //                 )}\r\n\r\n// //                 {/* Action Buttons */}\r\n// //                 <div className={`flex gap-3 md:mb-5 ${isAnimating ? \"animate-attention\" : \"\"}`}>\r\n// //                     {/* SAV Button */}\r\n// //                     <button\r\n// //                         id=\"sav-button\"\r\n// //                         onClick={toggleSav}\r\n// //                         className={`${isSavOpen ? \"bg-gray-600\" : \"bg-bleu-logo hover:bg-bleu-claire\"}\r\n// //                             text-white rounded-full p-3 shadow-lg flex items-center justify-center\r\n// //                             transition-all duration-300 ease-in-out transform hover:scale-110`}\r\n// //                         aria-label=\"Service Aprs-Vente\"\r\n// //                     >\r\n// //                         <HeadphonesIcon className=\"h-6 w-6\" />\r\n// //                     </button>\r\n\r\n// //                     {/* WhatsApp Button */}\r\n// //                     <a\r\n// //                         href=\"https://wa.me/221709221775\"\r\n// //                         target=\"_blank\"\r\n// //                         rel=\"noopener noreferrer\"\r\n// //                         className=\"bg-green-500 hover:bg-green-600 text-white rounded-full p-3 shadow-lg flex items-center justify-center transition-all duration-300 ease-in-out transform hover:scale-110\"\r\n// //                         aria-label=\"Contact WhatsApp\"\r\n// //                     >\r\n// //                         <FaWhatsapp\r\n// //                             className=\"h-6 w-6\"\r\n// //                             style={{\r\n// //                                 animation: \"shake 2s ease-in-out infinite\",\r\n// //                             }}\r\n// //                         />\r\n// //                     </a>\r\n// //                 </div>\r\n// //             </div>\r\n\r\n// //             {/* Add this to your global CSS or in a style tag */}\r\n// //             <style jsx>{`\r\n// //                 @keyframes shake {\r\n// //                     0% { transform: rotate(0deg); }\r\n// //                     1% { transform: rotate(5deg); }\r\n// //                     3% { transform: rotate(-5deg); }\r\n// //                     5% { transform: rotate(5deg); }\r\n// //                     7% { transform: rotate(-5deg); }\r\n// //                     9% { transform: rotate(0deg); }\r\n// //                     100% { transform: rotate(0deg); }\r\n// //                 }\r\n\r\n// //                 @keyframes attention {\r\n// //                     0% { transform: translateY(0) scale(1); }\r\n// //                     10% { transform: translateY(-5px) scale(1.05); }\r\n// //                     20% { transform: translateY(0) scale(1); }\r\n// //                     30% { transform: translateY(-5px) scale(1.05); }\r\n// //                     40% { transform: translateY(0) scale(1); }\r\n// //                     50% { transform: translateY(-5px) scale(1.05); }\r\n// //                     60% { transform: translateY(0) scale(1); }\r\n// //                     70% { transform: translateX(-5px); }\r\n// //                     80% { transform: translateX(5px); }\r\n// //                     90% { transform: translateX(-5px); }\r\n// //                     100% { transform: translateX(0); }\r\n// //                 }\r\n\r\n// //                 .animate-attention {\r\n// //                     animation: attention 2s ease-in-out;\r\n// //                 }\r\n\r\n// //                 @keyframes fade-in-right {\r\n// //                     from {\r\n// //                         opacity: 0;\r\n// //                         transform: translateX(20px);\r\n// //                     }\r\n// //                     to {\r\n// //                         opacity: 1;\r\n// //                         transform: translateX(0);\r\n// //                     }\r\n// //                 }\r\n\r\n// //                 @keyframes zoom-in {\r\n// //                     from {\r\n// //                         transform: scale(0.8);\r\n// //                     }\r\n// //                     to {\r\n// //                         transform: scale(1);\r\n// //                     }\r\n// //                 }\r\n\r\n// //                 @keyframes rotate-in {\r\n// //                     from {\r\n// //                         transform: rotate(-5deg);\r\n// //                     }\r\n// //                     to {\r\n// //                         transform: rotate(0deg);\r\n// //                     }\r\n// //                 }\r\n\r\n// //                 .animate-popup {\r\n// //                     animation: fade-in-right 0.3s ease-out forwards, zoom-in 0.3s ease-out forwards, rotate-in 0.3s ease-out forwards;\r\n// //                 }\r\n// //             `}</style>\r\n// //         </>\r\n// //     )\r\n// // }\r\n\r\n// // export default CommentSection\r\n\r\n\r\n\r\n// \"use client\"\r\n\r\n// import { useState, useEffect, useRef } from \"react\"\r\n// import { X, Phone, HeadphonesIcon, Clock, Shield, Lock, Award } from \"lucide-react\"\r\n// import { FaWhatsapp } from \"react-icons/fa\"\r\n\r\n// const CommentSection = () => {\r\n//     const [isSavOpen, setIsSavOpen] = useState(false)\r\n//     const [isMobile, setIsMobile] = useState(false)\r\n//     const [isAnimating, setIsAnimating] = useState(false)\r\n//     const savPanelRef = useRef(null)\r\n//     const animationTimeoutRef = useRef(null)\r\n//     const videoRef = useRef(null)\r\n\r\n//     useEffect(() => {\r\n//         const checkMobile = () => {\r\n//             setIsMobile(window.innerWidth < 768)\r\n//         }\r\n\r\n//         checkMobile()\r\n\r\n//         window.addEventListener(\"resize\", checkMobile)\r\n\r\n//         return () => {\r\n//             window.removeEventListener(\"resize\", checkMobile)\r\n//         }\r\n//     }, [])\r\n\r\n//     // Gestion de la vido lorsque le panel s'ouvre\r\n//     useEffect(() => {\r\n//         if (isSavOpen && videoRef.current) {\r\n//             // Jouer la vido quand le panel s'ouvre\r\n//             videoRef.current.play().catch((e) => console.log(\"Lecture automatique empche:\", e))\r\n//         } else if (!isSavOpen && videoRef.current) {\r\n//             // Mettre en pause la vido quand le panel se ferme\r\n//             videoRef.current.pause()\r\n//             videoRef.current.currentTime = 0\r\n//         }\r\n//     }, [isSavOpen])\r\n\r\n//     // Animation priodique des boutons pour attirer l'attention\r\n//     useEffect(() => {\r\n//         // Ne pas animer si le panel est ouvert\r\n//         if (isSavOpen) {\r\n//             clearTimeout(animationTimeoutRef.current)\r\n//             setIsAnimating(false)\r\n//             return\r\n//         }\r\n\r\n//         const startAnimation = () => {\r\n//             // Activer l'animation\r\n//             setIsAnimating(true)\r\n\r\n//             // Dsactiver l'animation aprs 2 secondes\r\n//             const animationDuration = setTimeout(() => {\r\n//                 setIsAnimating(false)\r\n\r\n//                 // Planifier la prochaine animation aprs un dlai alatoire entre 5 et 15 secondes\r\n//                 animationTimeoutRef.current = setTimeout(\r\n//                     () => {\r\n//                         startAnimation()\r\n//                     },\r\n//                     Math.random() * 10000 + 5000,\r\n//                 ) // Entre 5 et 15 secondes\r\n//             }, 2000)\r\n\r\n//             return animationDuration\r\n//         }\r\n\r\n//         // Dmarrer la premire animation aprs un dlai initial\r\n//         const initialDelay = setTimeout(() => {\r\n//             startAnimation()\r\n//         }, 3000)\r\n\r\n//         return () => {\r\n//             clearTimeout(initialDelay)\r\n//             clearTimeout(animationTimeoutRef.current)\r\n//         }\r\n//     }, [isSavOpen])\r\n\r\n//     const toggleSav = () => {\r\n//         setIsSavOpen(!isSavOpen)\r\n//     }\r\n\r\n//     return (\r\n//         <>\r\n//             <div className=\"fixed bottom-10 right-4 z-50 flex flex-col items-end gap-4\">\r\n//                 {/* SAV Panel */}\r\n//                 {isSavOpen && (\r\n//                     <div\r\n//                         ref={savPanelRef}\r\n//                         className={`bg-white rounded-lg shadow-xl p-0 mb-4 animate-popup\r\n//                             ${isMobile ? \"fixed inset-x-4 bottom-20 max-h-[80vh] overflow-y-auto\" : \"w-full max-w-sm\"}`}\r\n//                     >\r\n//                         {/* Vido en haut */}\r\n//                         <div className=\"relative w-full rounded-t-lg overflow-hidden\">\r\n//                             <video\r\n//                                 ref={videoRef}\r\n//                                 className=\"w-full aspect-video object-cover\"\r\n//                                 muted\r\n//                                 playsInline\r\n//                                 loop\r\n//                                 poster=\"/placeholder.svg?height=200&width=400\"\r\n//                             >\r\n//                                 <source src=\"https://example.com/votre-video.mp4\" type=\"video/mp4\" />\r\n//                                 Votre navigateur ne prend pas en charge les vidos HTML5.\r\n//                             </video>\r\n//                             <div className=\"absolute inset-0 bg-gradient-to-b from-transparent to-black/30 flex items-end\">\r\n//                                 <div className=\"p-4 text-white\">\r\n//                                     <h3 className=\"text-xl font-bold\">Votre scurit, notre priorit</h3>\r\n//                                 </div>\r\n//                             </div>\r\n//                         </div>\r\n\r\n//                         <div className=\"p-4\">\r\n//                             <div className=\"flex justify-between items-center mb-4\">\r\n//                                 <h3 className=\"text-lg font-bold text-primary\">Service client certifi</h3>\r\n//                                 <button\r\n//                                     onClick={() => setIsSavOpen(false)}\r\n//                                     className=\"text-gray-500 hover:text-gray-700\"\r\n//                                     aria-label=\"Fermer\"\r\n//                                 >\r\n//                                     <X className=\"h-5 w-5\" />\r\n//                                 </button>\r\n//                             </div>\r\n\r\n//                             <div className=\"space-y-4\">\r\n//                                 <div className=\"flex items-start gap-3\">\r\n//                                     <Shield className=\"h-5 w-5 text-blue-600 mt-1 flex-shrink-0\" />\r\n//                                     <div>\r\n//                                         <h4 className=\"font-medium\">Protection garantie</h4>\r\n//                                         <p className=\"text-sm text-gray-600\">Un conseiller ddi scurise votre exprience aprs achat</p>\r\n//                                     </div>\r\n//                                 </div>\r\n\r\n//                                 <div className=\"flex items-start gap-3\">\r\n//                                     <Clock className=\"h-5 w-5 text-blue-600 mt-1 flex-shrink-0\" />\r\n//                                     <div>\r\n//                                         <h4 className=\"font-medium\">Ractivit assure</h4>\r\n//                                         <p className=\"text-sm text-gray-600\">\r\n//                                             Rponse garantie sous 24h avec suivi scuris de vos demandes\r\n//                                         </p>\r\n//                                     </div>\r\n//                                 </div>\r\n\r\n//                                 <div className=\"flex items-start gap-3\">\r\n//                                     <Award className=\"h-5 w-5 text-blue-600 mt-1 flex-shrink-0\" />\r\n//                                     <div>\r\n//                                         <h4 className=\"font-medium\">Engagement qualit</h4>\r\n//                                         <p className=\"text-sm text-gray-600\">\r\n//                                             Nous garantissons votre satisfaction avec un service fiable et transparent\r\n//                                         </p>\r\n//                                     </div>\r\n//                                 </div>\r\n\r\n//                                 <div className=\"flex items-start gap-3\">\r\n//                                     <Lock className=\"h-5 w-5 text-blue-600 mt-1 flex-shrink-0\" />\r\n//                                     <div>\r\n//                                         <h4 className=\"font-medium\">Garantie scurise</h4>\r\n//                                         <p className=\"text-sm text-gray-600\">\r\n//                                             Tous nos produits sont certifis, garantis et changeables selon notre politique de scurit\r\n//                                         </p>\r\n//                                     </div>\r\n//                                 </div>\r\n\r\n//                                 <div className=\"mt-4 pt-3 border-t border-gray-100\">\r\n//                                     <div className=\"bg-blue-50 p-3 rounded-md mb-4 text-center\">\r\n//                                         <p className=\"text-sm font-medium text-blue-700\">Service client certifi et scuris</p>\r\n//                                     </div>\r\n//                                     <h4 className=\"font-medium mb-2\">Contactez notre quipe scurit</h4>\r\n//                                     <div className={`flex ${isMobile ? \"flex-col\" : \"flex-row\"} gap-3`}>\r\n//                                         <a\r\n//                                             href=\"tel:+221709221775\"\r\n//                                             className=\"flex items-center justify-center gap-1 bg-blue-50 hover:bg-blue-100 text-blue-700 px-3 py-2 rounded-md text-sm transition-colors\"\r\n//                                         >\r\n//                                             <Phone className=\"h-4 w-4\" />\r\n//                                             <span>Ligne scurise</span>\r\n//                                         </a>\r\n//                                         <a\r\n//                                             href=\"https://wa.me/221709221775\"\r\n//                                             target=\"_blank\"\r\n//                                             rel=\"noopener noreferrer\"\r\n//                                             className=\"flex items-center justify-center gap-1 bg-green-50 hover:bg-green-100 text-green-700 px-3 py-2 rounded-md text-sm transition-colors\"\r\n//                                         >\r\n//                                             <FaWhatsapp className=\"h-4 w-4\" />\r\n//                                             <span>WhatsApp vrifi</span>\r\n//                                         </a>\r\n//                                     </div>\r\n//                                 </div>\r\n//                             </div>\r\n//                         </div>\r\n//                     </div>\r\n//                 )}\r\n\r\n//                 {/* Action Buttons */}\r\n//                 <div className={`flex gap-3 md:mb-5 ${isAnimating ? \"animate-attention\" : \"\"}`}>\r\n//                     {/* SAV Button */}\r\n//                     <button\r\n//                         id=\"sav-button\"\r\n//                         onClick={toggleSav}\r\n//                         className={`${isSavOpen ? \"bg-gray-600\" : \"bg-blue-600 hover:bg-blue-700\"}\r\n//                             text-white rounded-full p-3 shadow-lg flex items-center justify-center\r\n//                             transition-all duration-300 ease-in-out transform hover:scale-110`}\r\n//                         aria-label=\"Service Aprs-Vente\"\r\n//                     >\r\n//                         <HeadphonesIcon className=\"h-6 w-6\" />\r\n//                     </button>\r\n\r\n//                     {/* WhatsApp Button */}\r\n//                     <a\r\n//                         href=\"https://wa.me/221709221775\"\r\n//                         target=\"_blank\"\r\n//                         rel=\"noopener noreferrer\"\r\n//                         className=\"bg-green-500 hover:bg-green-600 text-white rounded-full p-3 shadow-lg flex items-center justify-center transition-all duration-300 ease-in-out transform hover:scale-110\"\r\n//                         aria-label=\"Contact WhatsApp\"\r\n//                     >\r\n//                         <FaWhatsapp\r\n//                             className=\"h-6 w-6\"\r\n//                             style={{\r\n//                                 animation: \"shake 2s ease-in-out infinite\",\r\n//                             }}\r\n//                         />\r\n//                     </a>\r\n//                 </div>\r\n//             </div>\r\n\r\n//             {/* Add this to your global CSS or in a style tag */}\r\n//             <style jsx>{`\r\n//                 @keyframes shake {\r\n//                     0% { transform: rotate(0deg); }\r\n//                     1% { transform: rotate(5deg); }\r\n//                     3% { transform: rotate(-5deg); }\r\n//                     5% { transform: rotate(5deg); }\r\n//                     7% { transform: rotate(-5deg); }\r\n//                     9% { transform: rotate(0deg); }\r\n//                     100% { transform: rotate(0deg); }\r\n//                 }\r\n\r\n//                 @keyframes attention {\r\n//                     0% { transform: translateY(0) scale(1); }\r\n//                     10% { transform: translateY(-5px) scale(1.05); }\r\n//                     20% { transform: translateY(0) scale(1); }\r\n//                     30% { transform: translateY(-5px) scale(1.05); }\r\n//                     40% { transform: translateY(0) scale(1); }\r\n//                     50% { transform: translateY(-5px) scale(1.05); }\r\n//                     60% { transform: translateY(0) scale(1); }\r\n//                     70% { transform: translateX(-5px); }\r\n//                     80% { transform: translateX(5px); }\r\n//                     90% { transform: translateX(-5px); }\r\n//                     100% { transform: translateX(0); }\r\n//                 }\r\n\r\n//                 .animate-attention {\r\n//                     animation: attention 2s ease-in-out;\r\n//                 }\r\n\r\n//                 @keyframes fade-in-right {\r\n//                     from {\r\n//                         opacity: 0;\r\n//                         transform: translateX(20px);\r\n//                     }\r\n//                     to {\r\n//                         opacity: 1;\r\n//                         transform: translateX(0);\r\n//                     }\r\n//                 }\r\n\r\n//                 @keyframes zoom-in {\r\n//                     from {\r\n//                         transform: scale(0.8);\r\n//                     }\r\n//                     to {\r\n//                         transform: scale(1);\r\n//                     }\r\n//                 }\r\n\r\n//                 @keyframes rotate-in {\r\n//                     from {\r\n//                         transform: rotate(-5deg);\r\n//                     }\r\n//                     to {\r\n//                         transform: rotate(0deg);\r\n//                     }\r\n//                 }\r\n\r\n//                 .animate-popup {\r\n//                     animation: fade-in-right 0.3s ease-out forwards, zoom-in 0.3s ease-out forwards, rotate-in 0.3s ease-out forwards;\r\n//                 }\r\n//             `}</style>\r\n//         </>\r\n//     )\r\n// }\r\n\r\n// export default CommentSection\r\n\r\n\r\n\"use client\"\r\n\r\nimport { useState, useEffect, useRef } from \"react\"\r\nimport { X, Phone, HeadphonesIcon, CheckCircle, Clock, UserCheck, Shield } from \"lucide-react\"\r\nimport { FaWhatsapp } from \"react-icons/fa\"\r\n\r\nconst CommentSection = () => {\r\n    const [isSavOpen, setIsSavOpen] = useState(false)\r\n    const [isMobile, setIsMobile] = useState(false)\r\n    const [isAnimating, setIsAnimating] = useState(false)\r\n    const savPanelRef = useRef(null)\r\n    const animationTimeoutRef = useRef(null)\r\n    const videoRef = useRef(null)\r\n\r\n    useEffect(() => {\r\n        const checkMobile = () => {\r\n            setIsMobile(window.innerWidth < 768)\r\n        }\r\n\r\n        checkMobile()\r\n\r\n        window.addEventListener(\"resize\", checkMobile)\r\n\r\n        return () => {\r\n            window.removeEventListener(\"resize\", checkMobile)\r\n        }\r\n    }, [])\r\n\r\n    // Gestion de la vido lorsque le panel s'ouvre\r\n    useEffect(() => {\r\n        if (isSavOpen && videoRef.current) {\r\n            // Jouer la vido quand le panel s'ouvre\r\n            videoRef.current.play().catch((e) => console.log(\"Lecture automatique empche:\", e))\r\n        } else if (!isSavOpen && videoRef.current) {\r\n            // Mettre en pause la vido quand le panel se ferme\r\n            videoRef.current.pause()\r\n            videoRef.current.currentTime = 0\r\n        }\r\n    }, [isSavOpen])\r\n\r\n    // Animation priodique des boutons pour attirer l'attention\r\n    useEffect(() => {\r\n        // Ne pas animer si le panel est ouvert\r\n        if (isSavOpen) {\r\n            clearTimeout(animationTimeoutRef.current)\r\n            setIsAnimating(false)\r\n            return\r\n        }\r\n\r\n        const startAnimation = () => {\r\n            // Activer l'animation\r\n            setIsAnimating(true)\r\n\r\n            // Dsactiver l'animation aprs 2 secondes\r\n            const animationDuration = setTimeout(() => {\r\n                setIsAnimating(false)\r\n\r\n                // Planifier la prochaine animation aprs un dlai alatoire entre 5 et 15 secondes\r\n                animationTimeoutRef.current = setTimeout(\r\n                    () => {\r\n                        startAnimation()\r\n                    },\r\n                    Math.random() * 10000 + 5000,\r\n                ) // Entre 5 et 15 secondes\r\n            }, 2000)\r\n\r\n            return animationDuration\r\n        }\r\n\r\n        // Dmarrer la premire animation aprs un dlai initial\r\n        const initialDelay = setTimeout(() => {\r\n            startAnimation()\r\n        }, 3000)\r\n\r\n        return () => {\r\n            clearTimeout(initialDelay)\r\n            clearTimeout(animationTimeoutRef.current)\r\n        }\r\n    }, [isSavOpen])\r\n\r\n    const toggleSav = () => {\r\n        setIsSavOpen(!isSavOpen)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"fixed bottom-10 right-4 z-50 flex flex-col items-end gap-4\">\r\n                {/* SAV Panel */}\r\n                {isSavOpen && (\r\n                    <div\r\n                        ref={savPanelRef}\r\n                        className={`bg-white rounded-lg shadow-xl p-0 mb-4 animate-popup\r\n                            ${isMobile ? \"fixed inset-x-4 bottom-20 max-h-[80vh] overflow-y-auto\" : \"w-full max-w-sm\"}`}\r\n                    >\r\n                        {/* Vido en haut */}\r\n                        {/* <div className=\"relative w-full rounded-t-lg overflow-hidden\">\r\n                            <video\r\n                                ref={videoRef}\r\n                                className=\"w-full aspect-video object-cover\"\r\n                                muted\r\n                                playsInline\r\n                                loop\r\n                                poster=\"/placeholder.svg?height=200&width=400\"\r\n                            >\r\n                                <source src=\"https://example.com/votre-video.mp4\" type=\"video/mp4\" />\r\n                                Votre navigateur ne prend pas en charge les vidos HTML5.\r\n                            </video>\r\n                            <div className=\"absolute inset-0 bg-gradient-to-b from-transparent to-black/30 flex items-end\">\r\n                                <div className=\"p-4 text-white\">\r\n                                    <h3 className=\"text-xl font-bold\">Votre scurit, notre priorit</h3>\r\n                                </div>\r\n                            </div>\r\n                        </div> */}\r\n\r\n                        <div className=\"p-4\">\r\n                            <div className=\"flex justify-between items-center mb-4\">\r\n                                <h3 className=\"text-lg font-bold text-primary\">Notre Service Aprs-Vente</h3>\r\n                                <button\r\n                                    onClick={() => setIsSavOpen(false)}\r\n                                    className=\"text-gray-500 hover:text-gray-700\"\r\n                                    aria-label=\"Fermer\"\r\n                                >\r\n                                    <X className=\"h-5 w-5\" />\r\n                                </button>\r\n                            </div>\r\n\r\n                            <div className=\"space-y-4\">\r\n                                <div className=\"flex items-start gap-3\">\r\n                                    <CheckCircle className=\"h-5 w-5 text-green-500 mt-1 flex-shrink-0\" />\r\n                                    <div>\r\n                                        <h4 className=\"font-medium\">Suivi personnalis</h4>\r\n                                        <p className=\"text-sm text-gray-600\">Un conseiller ddi vous accompagne aprs votre achat</p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"flex items-start gap-3\">\r\n                                    <Clock className=\"h-5 w-5 text-blue-500 mt-1 flex-shrink-0\" />\r\n                                    <div>\r\n                                        <h4 className=\"font-medium\">Assistance rapide</h4>\r\n                                        <p className=\"text-sm text-gray-600\">Rponse garantie sous 24h  toutes vos questions</p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"flex items-start gap-3\">\r\n                                    <UserCheck className=\"h-5 w-5 text-purple-500 mt-1 flex-shrink-0\" />\r\n                                    <div>\r\n                                        <h4 className=\"font-medium\">Satisfaction client</h4>\r\n                                        <p className=\"text-sm text-gray-600\">Nous nous assurons que vous tes pleinement satisfait</p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"flex items-start gap-3\">\r\n                                    <Shield className=\"h-5 w-5 text-amber-500 mt-1 flex-shrink-0\" />\r\n                                    <div>\r\n                                        <h4 className=\"font-medium\">Produits garantis</h4>\r\n                                        <p className=\"text-sm text-gray-600\">\r\n                                            Tous nos produits sont garantis et changeables selon nos conditions\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"mt-4 pt-3 border-t border-gray-100\">\r\n                                    <div className=\"bg-blue-50 p-3 rounded-md mb-4 text-center\">\r\n                                        <p className=\"text-sm font-medium text-blue-700\">Service client scuris et fiable</p>\r\n                                    </div>\r\n                                    <h4 className=\"font-medium mb-2\">Contactez notre SAV</h4>\r\n                                    <div className={`flex ${isMobile ? \"flex-col\" : \"flex-row\"} gap-3`}>\r\n                                        <a\r\n                                            href=\"tel:+221709221775\"\r\n                                            className=\"flex items-center justify-center gap-1 bg-blue-50 hover:bg-blue-100 text-blue-700 px-3 py-2 rounded-md text-sm transition-colors\"\r\n                                        >\r\n                                            <Phone className=\"h-4 w-4\" />\r\n                                            <span>Appeler</span>\r\n                                        </a>\r\n                                        <a\r\n                                            href=\"https://wa.me/221709221775\"\r\n                                            target=\"_blank\"\r\n                                            rel=\"noopener noreferrer\"\r\n                                            className=\"flex items-center justify-center gap-1 bg-green-50 hover:bg-green-100 text-green-700 px-3 py-2 rounded-md text-sm transition-colors\"\r\n                                        >\r\n                                            <FaWhatsapp className=\"h-4 w-4\" />\r\n                                            <span>WhatsApp</span>\r\n                                        </a>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Action Buttons */}\r\n                <div className={`flex gap-3 md:mb-5 ${isAnimating ? \"animate-attention\" : \"\"}`}>\r\n                    {/* SAV Button */}\r\n                    {/* <button\r\n                        id=\"sav-button\"\r\n                        onClick={toggleSav}\r\n                        className={`${isSavOpen ? \"bg-gray-600\" : \"bg-blue-600 hover:bg-blue-700\"}\r\n                            text-white rounded-full p-3 shadow-lg flex items-center justify-center\r\n                            transition-all duration-300 ease-in-out transform hover:scale-110`}\r\n                        aria-label=\"Service Aprs-Vente\"\r\n                    >\r\n                        <HeadphonesIcon className=\"h-6 w-6\" />\r\n                    </button> */}\r\n\r\n\r\n                    <a\r\n                        // href=\"tel:+221709221775\"\r\n                        className=\"hidden md:flex items-center justify-center gap-1 bg-blue-50 \r\n                        hover:bg-blue-100 text-bleu-logo px-3 py-2 rounded-md text-sm transition-colors duration-300 ease-in-out transform hover:scale-110\"\r\n                    >\r\n                        <HeadphonesIcon className=\"h-6 w-6\" />\r\n                        <span>(+221) 70 922 17 75</span>\r\n                    </a>\r\n\r\n                    {/* WhatsApp Button */}\r\n                    <a\r\n                        href=\"https://wa.me/221709221775\"\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        className=\"bg-green-500 hover:bg-green-600 text-white rounded-full p-3 shadow-lg flex items-center justify-center transition-all duration-300 ease-in-out transform hover:scale-110\"\r\n                        aria-label=\"Contact WhatsApp\"\r\n                    >\r\n                        <FaWhatsapp\r\n                            className=\"h-6 w-6\"\r\n                            style={{\r\n                                animation: \"shake 2s ease-in-out infinite\",\r\n                            }}\r\n                        />\r\n                    </a>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Add this to your global CSS or in a style tag */}\r\n            <style>{`\r\n                @keyframes shake {\r\n                    0% { transform: rotate(0deg); }\r\n                    1% { transform: rotate(5deg); }\r\n                    3% { transform: rotate(-5deg); }\r\n                    5% { transform: rotate(5deg); }\r\n                    7% { transform: rotate(-5deg); }\r\n                    9% { transform: rotate(0deg); }\r\n                    100% { transform: rotate(0deg); }\r\n                }\r\n\r\n                @keyframes attention {\r\n                    0% { transform: translateY(0) scale(1); }\r\n                    10% { transform: translateY(-5px) scale(1.05); }\r\n                    20% { transform: translateY(0) scale(1); }\r\n                    30% { transform: translateY(-5px) scale(1.05); }\r\n                    40% { transform: translateY(0) scale(1); }\r\n                    50% { transform: translateY(-5px) scale(1.05); }\r\n                    60% { transform: translateY(0) scale(1); }\r\n                    70% { transform: translateX(-5px); }\r\n                    80% { transform: translateX(5px); }\r\n                    90% { transform: translateX(-5px); }\r\n                    100% { transform: translateX(0); }\r\n                }\r\n\r\n                .animate-attention {\r\n                    animation: attention 2s ease-in-out;\r\n                }\r\n\r\n                @keyframes fade-in-right {\r\n                    from {\r\n                        opacity: 0;\r\n                        transform: translateX(20px);\r\n                    }\r\n                    to {\r\n                        opacity: 1;\r\n                        transform: translateX(0);\r\n                    }\r\n                }\r\n\r\n                @keyframes zoom-in {\r\n                    from {\r\n                        transform: scale(0.8);\r\n                    }\r\n                    to {\r\n                        transform: scale(1);\r\n                    }\r\n                }\r\n\r\n                @keyframes rotate-in {\r\n                    from {\r\n                        transform: rotate(-5deg);\r\n                    }\r\n                    to {\r\n                        transform: rotate(0deg);\r\n                    }\r\n                }\r\n\r\n                .animate-popup {\r\n                    animation: fade-in-right 0.3s ease-out forwards, zoom-in 0.3s ease-out forwards, rotate-in 0.3s ease-out forwards;\r\n                }\r\n            `}</style>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CommentSection\r\n\r\n","\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nexport const useNewsletterPopup = () => {\r\n    const [showPopup, setShowPopup] = useState(false);\r\n    const location = useLocation();\r\n\r\n    // Fonction pour fermer le popup\r\n    const handleClosePopup = () => {\r\n        setShowPopup(false);\r\n        const now = Date.now();\r\n        localStorage.setItem('popupLastClosed', now.toString());\r\n\r\n        // Rafficher le popup aprs 10 secondes si la page n'est pas recharge\r\n        setTimeout(() => {\r\n            setShowPopup(true);\r\n        }, 10000); // 10 secondes\r\n    };\r\n\r\n    useEffect(() => {\r\n        // Liste des pages o le popup doit s'afficher\r\n        const showPopupOnPages = ['/cart', '/pre-cart', '/credit-cart'];\r\n\r\n        // Fonction pour dterminer si le popup doit s'afficher\r\n        const shouldShowPopup = () => {\r\n            const lastClosed = localStorage.getItem('popupLastClosed');\r\n            if (!lastClosed) return true; // Si aucune fermeture n'est enregistre, afficher immdiatement\r\n            const timeSinceLastClosed = Date.now() - parseInt(lastClosed, 10);\r\n            return timeSinceLastClosed >= 10000; // Rafficher aprs 10 secondes\r\n        };\r\n\r\n        // Si la page actuelle est autorise\r\n        if (showPopupOnPages.includes(location.pathname)) {\r\n            // Afficher le popup immdiatement si la page est recharge\r\n            if (shouldShowPopup()) {\r\n                setShowPopup(true);\r\n            }\r\n        }\r\n    }, [location.pathname]); // Rexcuter  chaque changement de page\r\n\r\n    return { showPopup, handleClosePopup };\r\n};\r\n","/* eslint-disable react/no-unescaped-entities */\r\n\r\n// import { useEffect, useState } from 'react';\r\n// import { X } from 'lucide-react';\r\n// import { useNavigate } from 'react-router-dom';\r\n\r\n// const NewsletterPopup = ({ onClose }) => {\r\n//     const [isVisible, setIsVisible] = useState(false);\r\n//     const navigate = useNavigate();\r\n\r\n//     useEffect(() => {\r\n//         // Vrifie si l'utilisateur a dj vu la popup\r\n//         const hasSeenPopup = localStorage.getItem('hasSeenPopup');\r\n\r\n//         // Affiche la popup si elle n'a pas encore t vue\r\n//         if (!hasSeenPopup) {\r\n//             setIsVisible(true);\r\n//         }\r\n//     }, []);\r\n\r\n//     const handleClose = () => {\r\n//         setIsVisible(false);\r\n//         localStorage.setItem('hasSeenPopup', 'true'); // Marque la popup comme vue\r\n//         if (onClose) onClose(); // Excute la callback si fournie\r\n//     };\r\n\r\n//     if (!isVisible) {\r\n//         return null; // Ne rend pas la popup si elle n'est pas visible\r\n//     }\r\n\r\n//     return (\r\n//         <div\r\n//             className={`fixed bottom-4 right-4 bg-gradient-to-r from-bleu-logo to-indigo-600 p-6 rounded-lg shadow-2xl z-50\r\n//                         text-white max-w-sm sm:max-w-xs w-full\r\n//                         transition-opacity duration-300 ease-in-out ${isVisible ? 'opacity-100' : 'opacity-0'}`}\r\n//         >\r\n//             <button\r\n//                 onClick={handleClose}\r\n//                 className=\"absolute top-2 right-2 text-white hover:text-gray-200 transition-colors\"\r\n//             >\r\n//                 <X size={24} />\r\n//             </button>\r\n//             <div>\r\n//                 <h3 className=\"text-2xl sm:text-xl font-bold mb-3\">Offre Spciale CCBM Shop!</h3>\r\n//                 <p className=\"text-lg sm:text-sm mb-4\">\r\n//                     Inscrivez-vous ds maintenant et obtenez une rduction jusqu' 20 000 FCFA sur votre premier achat.\r\n//                 </p>\r\n//                 <button\r\n//                     onClick={() => {\r\n//                         navigate('/signup');\r\n//                         handleClose();\r\n//                     }}\r\n//                     className=\"w-full bg-white text-blue-600 py-2 px-4 rounded-md hover:bg-gray-100 transition-colors font-semibold text-lg sm:text-base\"\r\n//                 >\r\n//                     J'en profite!\r\n//                 </button>\r\n//                 <p className=\"text-sm mt-3 text-center\">\r\n//                     *Offre valable pour tout nouvel client sur CCBM Shop\r\n//                 </p>\r\n//             </div>\r\n//         </div>\r\n//     );\r\n// };\r\n\r\n\r\n\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useNewsletterPopup } from \"../../Hooks/useNewsletterPopup\";\r\nimport { X } from \"lucide-react\";\r\n\r\nconst NewsletterPopup = () => {\r\n    const { showPopup, handleClosePopup } = useNewsletterPopup();\r\n    const navigate = useNavigate();\r\n\r\n    if (!showPopup) {\r\n        return null; // Ne rend pas la popup si elle n'est pas visible\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {/* Popup pour les crans moyens et plus grands */}\r\n            <div\r\n                className={`hidden md:block fixed bottom-4 right-4 bg-gradient-to-r from-bleu-logo to-indigo-500 p-6 rounded-lg shadow-2xl z-50\r\n                            text-white max-w-sm sm:max-w-xs w-full\r\n                            transition-opacity duration-300 ease-in-out opacity-100`}\r\n            >\r\n                <button\r\n                    onClick={handleClosePopup}\r\n                    className=\"absolute top-2 right-2 text-white hover:text-gray-200 transition-colors\"\r\n                >\r\n                    <X size={24} />\r\n                </button>\r\n                <div>\r\n                    <h3 className=\"text-2xl sm:text-xl font-bold mb-3\">Offre Spciale CCBM Shop!</h3>\r\n                    <p className=\"text-lg sm:text-sm mb-4\">\r\n                        Inscrivez-vous ds maintenant et obtenez une rduction jusqu  20 000 FCFA sur votre premier achat sur tout nos produits.\r\n                    </p>\r\n                    {/* rendre le texte minuscule */}\r\n                    <p className=\"mb-2 text-center text-sm\">\r\n                        *Except les produits en promotion\r\n                    </p>\r\n                    <button\r\n                        onClick={() => {\r\n                            navigate('/signup');\r\n                            handleClosePopup();\r\n                        }}\r\n                        className=\"w-full bg-white text-blue-600 py-2 px-4 rounded-md hover:bg-gray-100 transition-colors font-semibold text-lg sm:text-base\"\r\n                    >\r\n                        J'en profite!\r\n                    </button>\r\n                    <p className=\"text-sm mt-3 text-center\">\r\n                        *Offre valable pour tout nouvel client sur CCBM Shop\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Popup pour les crans petits */}\r\n            <div\r\n                className={`block md:hidden fixed bottom-0 left-0 right-0 bg-gradient-to-r from-bleu-logo to-indigo-600 p-2 shadow-lg z-50 \r\n                        text-white w-full\r\n                        transition-opacity duration-300 ease-in-out opacity-100`}\r\n            >\r\n                <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex-grow mr-2\">\r\n                        <h3 className=\"text-sm font-bold\">Offre Spciale!</h3>\r\n                        <p className=\"text-xs\">Jusqu&apos; 20 000 FCFA de rduction</p>\r\n                    </div>\r\n                    <button\r\n                        onClick={() => {\r\n                            navigate(\"/signup\");\r\n                            handleClosePopup();\r\n                        }}\r\n                        className=\"bg-white text-blue-600 py-1 px-2 rounded-md hover:bg-gray-100 transition-colors font-semibold text-xs whitespace-nowrap\"\r\n                    >\r\n                        J&apos;en profite!\r\n                    </button>\r\n                    <button\r\n                        onClick={handleClosePopup}\r\n                        className=\"ml-2 text-white hover:text-gray-200 transition-colors\"\r\n                        aria-label=\"Close popup\"\r\n                    >\r\n                        <X size={16} />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default NewsletterPopup;\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react/prop-types */\r\nimport { useEffect, useState } from \"react\";\r\n// import DiscountBanner from \"../Home/DiscountBanner\";\r\nimport Drawer from \"../Mobile/Drawer\";\r\nimport Footer from \"./Footers/Footer\";\r\nimport Header from \"./Headers/HeaderOne\";\r\nimport CommentSection from \"../chatBot/commentSection\";\r\nimport { useAuthContext } from \"../../contexts/useAuthContext\";\r\nimport { useNewsletterPopup } from \"../../Hooks/useNewsletterPopup\";\r\nimport NewsletterPopup from \"../Popup/NewsletterPopup\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport useGoogleAnalytics from \"../../Hooks/useGoogleAnalytics\";\r\nimport { useContext } from \"react\";\r\nimport { CartContext } from \"../../contexts/CartContext\";\r\n\r\nexport default function Layout({ children, childrenClasses }) {\r\n\r\n\r\n  const location = useLocation();\r\n  const { trackPageView } = useGoogleAnalytics();\r\n  const [drawer, setDrawer] = useState(false);\r\n  const { user } = useAuthContext();\r\n  const { preorder, creditOrder, cart } = useContext(CartContext);\r\n  const { showPopup, handleClosePopup } = useNewsletterPopup();\r\n\r\n  useEffect(() => {\r\n    trackPageView(location.pathname);\r\n  }, [location, trackPageView]);\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <Drawer open={drawer} action={() => setDrawer(!drawer)} />\r\n      <div className=\"w-full min-h-screen flex flex-col  \">\r\n        <Header drawerAction={() => setDrawer(!drawer)} />\r\n        <main\r\n          className={`w-full flex-grow overflow-visible lg:mt-[130px]  sm:mt-[50px] mt-[50px] ${childrenClasses || \"lg:mt-[190px] md:mt-10 pt-[30px] pb-[60px]\"\r\n            }`}\r\n        >\r\n          <div className=\"container mx-auto px-4\">{children}</div>\r\n        </main>\r\n\r\n        <Footer />\r\n      </div>\r\n\r\n      {showPopup && !user && (\r\n        <NewsletterPopup\r\n          onClose={handleClosePopup}\r\n          isVisible={showPopup}\r\n        />\r\n      )}\r\n      {/* <div className=\"sm:block hidden\">\r\n        <CommentSection />\r\n      </div> */}\r\n      <CommentSection />\r\n      {/* {cart && cart.length > 0 && <FloatingCartIcon />}\r\n      {preorder && preorder.length > 0 && <FloatingPreCartIcon />}\r\n      {creditOrder && creditOrder.length > 0 && <FloatingCreditCartIcon />} */}\r\n\r\n    </>\r\n  );\r\n}\r\n","// services/commandeservice.js\nimport axiosInstance from \"../config/axiosConfig\";\n\nconst CommandeService = {\n  getCommandes: async (id) => {\n    try {\n\n      const response = await axiosInstance.get(`/api/commandes/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la rcupration des commandes\", error);\n      throw error;\n    }\n  },\n  getCommandeTracking: async (modelData) => {\n    try {\n      const response = await axiosInstance.post(\"/api/tracking\", modelData);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la rccuperation de la commande\", error);\n      throw error;\n    }\n  },\n  deleteCommande: async (id) => {\n    try {\n      const response = await axiosInstance.get(`/api/commande/${id}/delete`);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la suppression de la commande\", error);\n      throw error;\n    }\n  },\n  annulerCommande: async (id) => {\n    try {\n      const response = await axiosInstance.get(`/api/commande/${id}/annuler`);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la suppression de la commande\", error);\n      throw error;\n    }\n  },\n\n  getCommandeAny: async (id) => {\n    try {\n      const response = await axiosInstance.get(`/api/getcommande/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la rcupration des commandes\", error);\n      throw error;\n    }\n  },\n\n  getCommandesVenteCher: async (id) => {\n    try {\n      const response = await axiosInstance.get(`/api/commandes-en-cher/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la rcupration des commandes en cher\", error);\n      throw error;\n    }\n  },\n  getCommandeById: async (idPartner, id) => {\n    try {\n\n      const body = {\n        commande_id: id,\n        partner_id: idPartner,\n      }\n      console.log(body)\n      const response = await axiosInstance.post(`/api/commandes/details`, {\n        commande_id: id,\n        partner_id: idPartner,\n      });\n      return response.data;\n    } catch (error) {\n      console.error(\n        `Erreur lors de la rcupration du modle avec l'ID ${id}`,\n        error\n      );\n      throw error;\n    }\n  },\n\n  createCommande: async (modelData) => {\n    try {\n      const response = await axiosInstance.post(\"/api/commandes\", modelData);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la cration du modle\", error);\n      throw error;\n    }\n  },\n\n  createCommandeVenteCher: async (modelData) => {\n    try {\n      const response = await axiosInstance.post(\"/api/commande-en-cher\", modelData);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la cration de la commande Vente en cher\", error);\n      throw error;\n    }\n  },\n\n  createCommandePack: async (modelData) => {\n    try {\n      const response = await axiosInstance.post(\"/api/commande-pack\", modelData);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la cration du modle\", error);\n      throw error;\n    }\n  },\n\n  createCommandeWitoutPartner: async (modelData) => {\n    try {\n      const response = await axiosInstance.post(\"/api/commande-sans-partner\", modelData);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la cration du modle\", error);\n      throw error;\n    }\n  },\n\n  updateCommande: async (id, modelData) => {\n    try {\n      const response = await axiosInstance.put(\n        `/api/commandes/${id}`,\n        modelData\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\n        `Erreur lors de la mise  jour du modle avec l'ID ${id}`,\n        error\n      );\n      throw error;\n    }\n  },\n};\n\nexport default CommandeService;\n","const isValidEmail = (email) => {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(email);\n};\n\n// const isValidPhoneNumber = (phoneNumber) => {\n//   const phoneRegex = /^2217[0-9]{8}$/;\n//   return phoneRegex.test(phoneNumber);\n// };\n\nconst isValidPhoneNumber = (phoneNumber) => {\n  // Si le numro ne commence pas par 221, on l'ajoute\n  const formattedNumber = phoneNumber.startsWith('221') ? phoneNumber : `221${phoneNumber}`;\n  const phoneRegex = /^2217[0-9]{8}$/;\n  return phoneRegex.test(formattedNumber);\n};\n\n\nconst isValidString = (name) => {\n  const phoneRegex = /[a-zA-Z]{3,}$/;\n  return phoneRegex.test(name);\n};\n\nexport { isValidEmail, isValidPhoneNumber, isValidString };\n","\n/* eslint-disable react/no-unescaped-entities */\n/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable no-unused-vars */\n/* eslint-disable react/prop-types */\nimport React, { useState } from \"react\";\nimport { Button, Label, Modal } from \"flowbite-react\";\nimport { CircleX } from \"lucide-react\";\nimport { isValidEmail, isValidPhoneNumber } from \"../utils/validations\";\n\nconst CreatePartnerModalService = ({\n  handleCreatePartner,\n  order,\n  data,\n  onClose,\n}) => {\n  const [email, setEmail] = useState(\"\");\n  const [nom, setNom] = useState(\"\");\n  const [prenom, setPrenom] = useState(\"\");\n  const [adresse, setAdresse] = useState(\"\");\n  const [telephone, setTelephone] = useState(\"\");\n  const [error, setError] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [openModal, setOpenModal] = useState(true);\n\n  const validateForm = () => {\n    const errors = {\n      prenom: !prenom ? \"Le prnom est obligatoire.\" : \"\",\n      nom: !nom ? \"Le nom est obligatoire.\" : \"\",\n      telephone: !telephone\n        ? \"Le tlphone est obligatoire.\"\n        : !isValidPhoneNumber(telephone)\n          ? \"Le numro de tlphone est invalide.\"\n          : \"\",\n      adresse: !adresse ? \"L'adresse est obligatoire.\" : \"\",\n      email: !email\n        ? \"L'adresse email est obligatoire.\"\n        : !isValidEmail(email)\n          ? \"L'adresse email est invalide.\"\n          : \"\",\n    };\n    setError(errors);\n    return Object.values(errors).every((error) => !error);\n  };\n\n  const handleSubmitValidePanier = (event) => {\n    event.preventDefault();\n    setIsLoading(true);\n\n    if (validateForm()) {\n      setOpenModal(false);\n      let modelData = {\n        name: `${prenom} ${nom}`,\n        email,\n        telephone,\n        adresse,\n        order: data,\n      };\n      handleCreatePartner(modelData);\n    } else {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Modal size=\"xl\" className=\"h-auto\" show={openModal} popup onClose={onClose}>\n      <Modal.Header />\n      <Modal.Body>\n        <div className=\"fixed inset-0 p-4 flex justify-center items-center w-full h-full z-[1000] overflow-auto font-[sans-serif]\">\n          <div className=\"w-full max-w-lg bg-white dark:bg-gray-900 shadow-lg rounded-lg p-8 relative text-gray-800 dark:text-white\">\n            <div className=\"flex items-start border-b border-gray-300 dark:border-gray-700 pb-4\">\n              <div className=\"flex-1\">\n                <h3 className=\"text-xl font-bold\">\n                  Vos informations pour la rservation\n                </h3>\n              </div>\n              <CircleX\n                onClick={onClose}\n                className=\"cursor-pointer hover:text-red-500 hover:scale-150 duration-300\"\n              />\n            </div>\n\n            {order && (\n              <form onSubmit={handleSubmitValidePanier} className=\"mt-8\">\n                <div className=\"flex sm:flex-row flex-col sm:space-x-5 space-y-5 sm:space-y-0 mb-5\">\n                  <div className=\"sm:w-1/2\">\n                    <Label htmlFor=\"prenom\" value=\"Prnom\" className=\"dark:text-white\" />\n                    <input\n                      type=\"text\"\n                      id=\"prenom\"\n                      placeholder=\"Prnom\"\n                      value={prenom}\n                      onChange={(e) => setPrenom(e.target.value)}\n                      className=\"mt-1 w-full px-3 py-2 bg-white dark:bg-neutral-900 border border-gray-300 dark:border-neutral-700 rounded-md text-sm dark:text-white placeholder-gray-500 dark:placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    />\n                    {error.prenom && <p className=\"text-red-600 text-sm mt-1\">{error.prenom}</p>}\n                  </div>\n                  <div className=\"sm:w-1/2\">\n                    <Label htmlFor=\"nom\" value=\"Nom\" className=\"dark:text-white\" />\n                    <input\n                      type=\"text\"\n                      id=\"nom\"\n                      placeholder=\"Nom\"\n                      value={nom}\n                      onChange={(e) => setNom(e.target.value)}\n                      className=\"mt-1 w-full px-3 py-2 bg-white dark:bg-neutral-900 border border-gray-300 dark:border-neutral-700 rounded-md text-sm dark:text-white placeholder-gray-500 dark:placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    />\n                    {error.nom && <p className=\"text-red-600 text-sm mt-1\">{error.nom}</p>}\n                  </div>\n                </div>\n\n                <div className=\"flex sm:flex-row flex-col sm:space-x-5 space-y-5 sm:space-y-0 mb-5\">\n                  <div className=\"sm:w-1/2\">\n                    <Label htmlFor=\"email\" value=\"Email\" className=\"dark:text-white\" />\n                    <input\n                      type=\"email\"\n                      id=\"email\"\n                      placeholder=\"Adresse Email\"\n                      value={email}\n                      onChange={(e) => setEmail(e.target.value)}\n                      className=\"mt-1 w-full px-3 py-2 bg-white dark:bg-neutral-900 border border-gray-300 dark:border-neutral-700 rounded-md text-sm dark:text-white placeholder-gray-500 dark:placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    />\n                    {error.email && <p className=\"text-red-600 text-sm mt-1\">{error.email}</p>}\n                  </div>\n                  <div className=\"sm:w-1/2\">\n                    <Label htmlFor=\"phone\" value=\"Tlphone\" className=\"dark:text-white\" />\n                    <input\n                      type=\"tel\"\n                      id=\"phone\"\n                      placeholder=\"77 000 00 00\"\n                      value={telephone}\n                      onChange={(e) => setTelephone(e.target.value)}\n                      className=\"mt-1 w-full px-3 py-2 bg-white dark:bg-neutral-900 border border-gray-300 dark:border-neutral-700 rounded-md text-sm dark:text-white placeholder-gray-500 dark:placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    />\n                    {error.telephone && (\n                      <p className=\"text-red-600 text-sm mt-1\">{error.telephone}</p>\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"mb-5\">\n                  <Label htmlFor=\"adresse\" value=\"Adresse\" className=\"dark:text-white\" />\n                  <input\n                    type=\"text\"\n                    id=\"adresse\"\n                    placeholder=\"Adresse\"\n                    value={adresse}\n                    onChange={(e) => setAdresse(e.target.value)}\n                    className=\"mt-1 w-full px-3 py-2 bg-white dark:bg-neutral-900 border border-gray-300 dark:border-neutral-700 rounded-md text-sm dark:text-white placeholder-gray-500 dark:placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  />\n                  {error.adresse && (\n                    <p className=\"text-red-600 text-sm mt-1\">{error.adresse}</p>\n                  )}\n                </div>\n\n                <div className=\"flex justify-end\">\n                  <Button\n                    type=\"submit\"\n                    isProcessing={isLoading}\n                    disabled={isLoading}\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded\"\n                  >\n                    {isLoading ? \"Envoi en cours...\" : \"Valider ma rservation\"}\n                  </Button>\n                </div>\n              </form>\n            )}\n          </div>\n        </div>\n      </Modal.Body>\n    </Modal>\n  );\n};\n\nexport default CreatePartnerModalService;\n","// services/produitservice.js\r\nimport axiosInstance from \"../config/axiosConfig\";\r\n\r\nconst PackPromoService = {\r\n    getPackByCode: async (code) => {\r\n        try {\r\n            const response = await axiosInstance.get('api/pack_product/' + code);\r\n            return response;\r\n        } catch (error) {\r\n            console.error('Error sending CRM data:', error);\r\n            throw error;\r\n        }\r\n    }\r\n    ,\r\n    getPacks: async () => {\r\n        try {\r\n            const response = await axiosInstance.get('api/pack_product');\r\n            return response;\r\n        } catch (error) {\r\n            console.error('Error sending CRM data:', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n};\r\n\r\nexport default PackPromoService;\r\n","import React from \"react\";\nimport { Helmet } from \"react-helmet\";\n\nconst SEOHeader = ({ title, description, keywords }) => {\n  return (\n    <Helmet>\n      <title>{title}</title>\n      <meta name=\"description\" content={description} />\n      <meta name=\"keywords\" content={keywords} />\n    </Helmet>\n  );\n};\n\nexport default SEOHeader;\n","/* eslint-disable react/prop-types */\r\n/* eslint-disable no-unused-vars */\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport InputQuantityCommande from \"../Helpers/InputQuantityCommande\";\r\nimport { useContext } from \"react\";\r\nimport { CartContext } from \"../../contexts/CartContext\";\r\nimport formatPrice from \"../../utils/formatPrice\";\r\nimport { Trash } from \"lucide-react\";\r\n\r\nexport default function ProductsTable({ className, produits }) {\r\n  const { cart, removeFromCart } =\r\n    useContext(CartContext);\r\n  console.log(cart);\r\n\r\n  const HandleDeleteProduct = (e, produit) => {\r\n    e.preventDefault();\r\n    removeFromCart(produit);\r\n  };\r\n\r\n  return (\r\n    <div className={`w-full ${className || \"\"}`}>\r\n      <div className=\"relative w-full overflow-x-auto border border-[#EDEDED]\">\r\n        <table className=\"w-full text-sm text-left text-gray-500 dark:text-gray-400\">\r\n          <tbody>\r\n            {/* table heading */}\r\n            <tr className=\"text-[13px] font-medium text-black bg-[#F6F6F6] whitespace-nowrap px-2 border-b default-border-bottom uppercase\">\r\n              <td className=\"py-4 pl-10 block whitespace-nowrap min-w-[300px]\">\r\n                Produits\r\n              </td>\r\n\r\n              {/* <td className=\"py-4 whitespace-nowrap text-center\">Prix</td> */}\r\n\r\n            </tr>\r\n            {/* table heading end */}\r\n            {produits.map((produit, index) => (\r\n              <tr key={index} className=\"bg-white border-b hover:bg-gray-50\">\r\n                <td className=\"pl-10  py-4  w-[380px]\">\r\n                  <div className=\"flex space-x-6 items-center\">\r\n                    <div className=\"w-[80px] h-[80px] overflow-hidden flex justify-center items-center border border-[#EDEDED]\">\r\n                      <img\r\n                        src={produit.image\r\n                          ? `${produit.image}`\r\n                          : \"https://readymadeui.com/images/coffee1.webp\"}\r\n                        alt={`CCBM Shop pack promo ${produit.name}`}\r\n                        className=\"w-full h-full object-contain\"\r\n                      />\r\n\r\n\r\n                    </div>\r\n                    <div className=\"flex-1 flex flex-col\">\r\n                      <p className=\"font-medium text-[15px] text-qblack\">\r\n                        {produit.name}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n\r\n                {/* <td className=\"text-center py-4 px-2\">\r\n                  <div className=\"flex space-x-1 items-center justify-center\">\r\n                    <span className=\"text-[15px] font-normal\">\r\n                      {\" \"}\r\n                      {produit.quantity} x {formatPrice(produit.price_unit ? produit.price_unit : 0)}\r\n                    </span>\r\n                  </div>\r\n                </td> */}\r\n\r\n\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <div className=\" mt-3 transition-all duration-300 ease-in-out bg-gray-200 text-[15px]  rounded-lg font-medium text-black  text-center py-2\">\r\n        Livraison gratuite sur Dakar\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable react/no-unescaped-entities */\r\n/* eslint-disable no-unused-vars */\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport BreadcrumbCom from \"../BreadcrumbCom\";\r\n\r\nimport PageTitle from \"../Helpers/PageTitle\";\r\nimport Layout from \"../Partials/Layout\";\r\nimport { CartContext } from \"../../contexts/CartContext\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport formatPrice from \"../../utils/formatPrice\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Button } from \"flowbite-react\";\r\nimport { Loader, Loader2 } from \"lucide-react\";\r\nimport CommandeService from \"../../services/CommandeService\";\r\n\r\nimport CreatePartnerModalService from \"../../services/CreatePartnerModalService\";\r\nimport { useAuthContext } from \"../../contexts/useAuthContext\";\r\n\r\nimport PackPromoService from \"../../services/PackPromoService\";\r\nimport SEOHeader from \"../Partials/Headers/HeaderOne/SEOHeader\";\r\nimport ProductsTable from \"./ProductsTable\";\r\n\r\n\r\nexport default function PackPromoPage() {\r\n\r\n    const location = useLocation()\r\n    const fullUrl = `${location.pathname}${location.search}${location.hash}`;\r\n\r\n    const { cart, getCartTotal, clearCart } =\r\n        useContext(CartContext);\r\n    const { user } = useAuthContext();\r\n    const [selectedPayment, setSelectedPayment] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [clickBUtton, setClickBUtton] = useState(false)\r\n    const [showCreatePartnerModal, setShowCreatePartnerModal] = useState(false);\r\n    const [data, setData] = useState(null)\r\n    const navigate = useNavigate();\r\n    const [crmExecuted, setCrmExecuted] = useState(false);\r\n\r\n    const [code_pack, setCodePack] = useState()\r\n    const [pack, setPack] = useState()\r\n    const [produits, setProduits] = useState([])\r\n    const [montantTotal, setMontantTotal] = useState(0)\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        window.scrollTo({\r\n            top: 0,\r\n            left: 0,\r\n            behavior: \"smooth\",\r\n        });\r\n\r\n        if (!user) {\r\n            toast.dismiss();\r\n            toast.warning(\"Merci de vous connecter pour confirmer votre commande\", {\r\n                position: \"top-center\",\r\n                autoClose: 5000,\r\n            })\r\n        }\r\n        const params = new URLSearchParams(location.search);\r\n        const code = params.get(\"code\");\r\n        if (code) {\r\n            setCodePack(code);\r\n            console.log(\"Code Pack:\", code);\r\n        } else {\r\n            console.error(\"Aucun code pack trouv\");\r\n        }\r\n    }, [location]);\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchPack = async () => {\r\n            try {\r\n                const resultat = await PackPromoService.getPackByCode(code_pack);\r\n                if (resultat.data) {\r\n                    setPack(resultat.data);\r\n                    setProduits(resultat.data.produits);\r\n                    setMontantTotal(resultat.data.sommeTotal);\r\n                } else {\r\n                    throw new Error(\"Pack non trouv ou plus disponible.\");\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Erreur lors de la rcupration du pack :\", error);\r\n                toast.error(\"Le pack n'est plus d'actualit ou indisponible.\", {\r\n                    position: \"top-center\",\r\n                    autoClose: 5000,\r\n                });\r\n                setPack(null);\r\n            }\r\n        };\r\n\r\n        if (code_pack) {\r\n            fetchPack();\r\n        }\r\n    }, [code_pack]);\r\n\r\n\r\n\r\n    const handlePaymentChange = (event) => {\r\n        console.log(event.target.value);\r\n        setIsLoading(false)\r\n        setSelectedPayment(event.target.value);\r\n    };\r\n\r\n\r\n\r\n    const handleCreatePanier = async (e) => {\r\n        e.preventDefault();\r\n        console.log('pack ')\r\n        console.log(produits)\r\n\r\n        if (selectedPayment == \"\") {\r\n            toast.dismiss();\r\n            toast.error(\"Veuillez choisir un mode de paiement\", {\r\n                position: \"top-center\",\r\n                autoClose: 5000,\r\n            });\r\n            setIsLoading(false)\r\n            return;\r\n        }\r\n\r\n        if (user) {\r\n            setIsLoading(true);\r\n            const modelData = {\r\n                partner_id: user.id,\r\n                type_sale: \"order\",\r\n                payment_mode: selectedPayment != \"\" ? selectedPayment : \"domicile\",\r\n                state: \"sale\",\r\n                type_order: \"pack\",\r\n                commitment_date: new Date(),\r\n                order_lines: produits.map((orde) => ({\r\n                    id: orde.id,\r\n                    quantity: orde.quantity,\r\n                    list_price: orde.price_unit,\r\n                })),\r\n            };\r\n            console.log(modelData);\r\n            try {\r\n                const response = await CommandeService.createCommandePack(modelData);\r\n                console.log(response);\r\n                toast.success(\"Commande cr avec succs\", {\r\n                    position: \"top-center\",\r\n                    autoClose: 5000,\r\n                });\r\n                setIsLoading(false);\r\n                navigate(`/commandes/${response.id}/dtails`);\r\n                console.log(response);\r\n                // clearCart();\r\n            } catch (error) {\r\n                setIsLoading(false);\r\n                toast.error(\"Commande non valid \", {\r\n                    position: \"top-center\",\r\n                    autoClose: 5000,\r\n                });\r\n                console.error(\"Erreur lors de la rcupration des modles\", error);\r\n            }\r\n        }\r\n        const modelData = {\r\n            partner_id: null,\r\n            type_sale: \"order\",\r\n            payment_mode: selectedPayment != \"\" ? selectedPayment : \"online\",\r\n            state: \"sale\",\r\n            type_order: \"pack\",\r\n            commitment_date: new Date(),\r\n            order_lines: cart.map((orde) => ({\r\n                id: orde.id,\r\n                quantity: orde.quantity,\r\n                list_price: orde.en_promo ? orde.promo_price : orde.list_price,\r\n            })),\r\n        };\r\n        setData(modelData)\r\n        setIsLoading(true);\r\n        setShowCreatePartnerModal(true);\r\n    }\r\n\r\n    const handleCreatePartner = async (compteData) => {\r\n        console.log(\"Payment data: \", compteData);\r\n\r\n        setShowCreatePartnerModal(false)\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            const response = await CommandeService.createCommandeWitoutPartner(compteData);\r\n            console.log(response);\r\n            toast.success(\"Commande cr avec succs\", {\r\n                position: \"top-center\",\r\n                autoClose: 5000,\r\n            });\r\n            navigate(`/boutique`);\r\n            console.log(response);\r\n            clearCart();\r\n            setIsLoading(false);\r\n        } catch (error) {\r\n            toast.error(\"Commande non valid \", {\r\n                position: \"top-center\",\r\n                autoClose: 5000,\r\n            });\r\n            console.error(\"Erreur lors de la rcupration des modles\", error);\r\n            setIsLoading(false);\r\n        }\r\n\r\n    };\r\n\r\n    {\r\n        !pack && (\r\n            <>\r\n                <div className=\"flex justify-center items-center \">\r\n                    <Loader className=\"animate-spin\"></Loader> Pack non trouve\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <SEOHeader\r\n                title=\"CCBM Shop | Panier Commande\"\r\n                description=\"Dcouvrez les meilleures offres sur CCBM Shop, votre destination privilgie pour l'lectromnager de qualit. Explorez nos produits allant des rfrigrateurs aux tlviseurs intelligents, et profitez de promotions exclusives !\"\r\n                keywords=\"lectromnager, boutique en ligne d'lectromnager, CCBM Shop, ccbme, appareils lectromnagers  prix rduits, smart TV, rfrigrateurs modernes, climatiseurs efficaces, promotions lectromnager\"\r\n            />\r\n            <Layout childrenClasses=\"pt-0 pb-0\">\r\n                <div className=\"cart-page-wrapper w-full bg-white pb-[60px]\">\r\n                    <div className=\"w-full\">\r\n                        <PageTitle\r\n                            title={`Panier Pack ${pack && pack.name ? pack.name : 'Commande'}`}\r\n                            breadcrumb={[\r\n                                { name: \"Accueil\", path: \"/\" },\r\n                                { name: \"Panier Pack Commande : \" + (pack && pack.name ? pack.name : 'Commande'), path: \"/pack-promo\" },\r\n                            ]}\r\n                        />\r\n                    </div>\r\n                    <div className=\"w-full mt-[23px]\">\r\n                        <div className=\"container-x mx-auto\">\r\n                            <ProductsTable produits={produits} className=\"mb-[30px]\" />\r\n                            <div className=\"w-full sm:flex justify-between\">\r\n                                <div className=\"flex space-x-2.5 items-center\">\r\n                                    <Link to=\"/boutique\">\r\n                                        <div className=\"w-[220px] h-[50px] bg-[#F6F6F6] flex justify-center items-center\">\r\n                                            <span className=\"text-sm font-semibold\">\r\n                                                Continuer vos achats\r\n                                            </span>\r\n                                        </div>\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {user ? <>\r\n\r\n                            </> : <>\r\n\r\n                            </>}\r\n                            <div className=\"w-full mt-[30px] flex sm:justify-end\">\r\n                                <div className=\"sm:w-[370px] w-full border border-[#EDEDED] px-[30px] py-[26px]\">\r\n\r\n                                    <span className=\"text-[15px] font-medium text-qblack mb-[18px]  items-center block\">\r\n                                        {selectedPayment == \"\" && clickBUtton && <span className=\"text-red-500\"> Choisir le mode de paiement </span>}\r\n                                    </span>\r\n                                    <div className=\"shipping mb-6\">\r\n                                        <span className=\"text-[15px] font-medium text-qblack mb-[18px] block\">\r\n                                            Paiement\r\n                                        </span>\r\n                                        <ul className=\"flex flex-col space-y-1\">\r\n                                            <li>\r\n                                                <div className=\"flex justify-between items-center\">\r\n                                                    <div className=\"flex space-x-2.5 items-center\">\r\n                                                        <div className=\"input-radio\">\r\n                                                            <input\r\n                                                                type=\"radio\"\r\n                                                                name=\"price\"\r\n                                                                value=\"domicile\"\r\n                                                                className=\"bg-bleu-logo\"\r\n                                                                onChange={handlePaymentChange}\r\n                                                            />\r\n                                                        </div>\r\n                                                        <span className=\"text-[14px] text-normal text-qblack\">\r\n                                                            A domicile\r\n                                                        </span>\r\n                                                    </div>\r\n\r\n                                                </div>\r\n                                            </li>\r\n                                            <li>\r\n                                                <div className=\"flex justify-between items-center\">\r\n                                                    <div className=\"flex space-x-2.5 items-center\">\r\n                                                        <div className=\"input-radio\">\r\n                                                            <input\r\n                                                                type=\"radio\"\r\n                                                                name=\"price\"\r\n                                                                value=\"online\"\r\n                                                                className=\"bg-bleu-logo\"\r\n                                                                onChange={handlePaymentChange}\r\n                                                            />\r\n                                                        </div>\r\n                                                        <span className=\"text-[14px] text-normal text-qblack \">\r\n                                                            En ligne\r\n                                                        </span>\r\n                                                    </div>\r\n\r\n                                                </div>\r\n                                            </li>\r\n\r\n                                        </ul>\r\n                                    </div>\r\n\r\n                                    <div className=\"total mb-6\">\r\n                                        <div className=\" flex justify-between\">\r\n                                            <p className=\"text-[18px] font-medium text-qblack\">\r\n                                                Total\r\n                                            </p>\r\n                                            <p className=\"text-[18px] font-medium text-qred\">\r\n                                                {\" \"}\r\n                                                {formatPrice(montantTotal)}\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                    {user ? <>\r\n                                        {montantTotal != 0 && (\r\n                                            <Button\r\n                                                type=\"submit\"\r\n                                                className=\"hover:bg-red-500  w-full bg-bleu-logo \"\r\n                                                onClick={(e) => handleCreatePanier(e)}\r\n\r\n                                                disabled={isLoading}\r\n                                            >\r\n                                                {isLoading && (\r\n                                                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                                                )}\r\n                                                Valider le Panier\r\n                                            </Button>\r\n                                        )}\r\n                                    </> : <>\r\n                                        <div className=\"w-full mt-[30px] flex sm:justify-end\">\r\n                                            <Link to={`/login?redirectTo=${fullUrl}`} >\r\n                                                <Button\r\n                                                    type=\"submit\"\r\n                                                    className=\"hover:bg-red-500  w-full bg-bleu-logo \"\r\n                                                >\r\n                                                    Connectez-vous pour confirmer la commande\r\n                                                </Button>\r\n                                            </Link>\r\n                                        </div>\r\n                                    </>}\r\n\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    {showCreatePartnerModal && !user && (\r\n                        <>\r\n                            <CreatePartnerModalService\r\n                                handleCreatePartner={handleCreatePartner}\r\n                                order={cart}\r\n                                data={data}\r\n                                onClose={() => setShowCreatePartnerModal(false)}\r\n                            />\r\n                        </>\r\n                    )}\r\n\r\n                </div>\r\n\r\n\r\n\r\n            </Layout>\r\n        </>\r\n    );\r\n}\r\n","// tracking.js\r\n\r\n// Initialise le dataLayer si ce n'est pas dj fait\r\nconst initDataLayer = () => {\r\n    if (!window.dataLayer) {\r\n        window.dataLayer = [];\r\n    }\r\n};\r\n\r\n// Pousse un vnement gnrique dans le dataLayer\r\nexport const pushToDataLayer = (event, data = {}) => {\r\n    initDataLayer();\r\n    window.dataLayer.push({\r\n        event,\r\n        ...data,\r\n    });\r\n};\r\n\r\n// Suivi des vues de page\r\nexport const trackPageView = (path) => {\r\n    pushToDataLayer('page_view', { pagePath: path });\r\n};\r\n\r\n// Suivi d'vnements personnaliss\r\nexport const trackEvent = (category, action, label = '', value = '') => {\r\n    const r = pushToDataLayer('custom_event', {\r\n        eventCategory: category,\r\n        eventAction: action,\r\n        eventLabel: label,\r\n        eventValue: value,\r\n    });\r\n    console.log(\"resultat track event \" + r)\r\n};\r\n\r\n// Suivi de l'ajout au panier\r\nexport const trackAddToCart = (product, quantity) => {\r\n    const r = pushToDataLayer('add_to_cart', {\r\n        productName: product.name,\r\n        price: product.list_price,\r\n        quantity,\r\n    });\r\n    console.log(\"resultat track add to cart \" + r)\r\n};\r\n\r\n// Suivi de l'ajout au pr-panier\r\nexport const trackAddToPreCart = (product, quantity) => {\r\n    const r = pushToDataLayer('add_to_pre_cart', {\r\n        productName: product.name,\r\n        price: product.preorder_price,\r\n        quantity,\r\n    });\r\n    console.log(\"resultat track add to pre cart \" + r)\r\n};\r\n\r\n// Suivi de l'ajout au panier crdit\r\nexport const trackAddToCreditCart = (product, quantity) => {\r\n    const r = pushToDataLayer('add_to_credit_cart', {\r\n        productName: product.name,\r\n        price: product.creditorder_price,\r\n        quantity,\r\n    });\r\n    console.log(\"resultat track add to credit cart \" + r)\r\n};\r\n\r\n// Suivi de la suppression du panier\r\nexport const trackRemoveFromCart = (product) => {\r\n    const r = pushToDataLayer('remove_from_cart', {\r\n        productName: product.name,\r\n    });\r\n    console.log(\"resultat track remove from cart \" + r)\r\n};\r\n\r\n// Suivi des achats\r\nexport const trackPurchase = (orderId, total, products) => {\r\n    const r = pushToDataLayer('purchase', {\r\n        orderId,\r\n        total,\r\n        products: products.map((product) => ({\r\n            name: product.name,\r\n            price: product.list_price,\r\n            quantity: product.quantity,\r\n        })),\r\n    });\r\n    console.log(\"resultat track purchase \" + r)\r\n};\r\n\r\nexport const trackImageClick = (name) => {\r\n    const r = pushToDataLayer('click_image_product', {\r\n        productName: name,\r\n    })\r\n    console.log(\"produit cliqu \" + name + 'r = ' + r)\r\n};","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react/prop-types */\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nimport { Check, Eye, Heart, ShoppingBag, ShoppingCart } from \"lucide-react\";\r\nimport { useContext, useMemo, useState } from \"react\";\r\nimport formatPrice from \"../../../utils/formatPrice\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useAuthContext } from \"../../../contexts/useAuthContext\";\r\nimport { CartContext } from \"../../../contexts/CartContext\";\r\nimport NewsletterPopup from \"../../Popup/NewsletterPopup\";\r\nimport { useNewsletterPopup } from \"../../../Hooks/useNewsletterPopup\";\r\nimport { trackImageClick } from \"../../../utils/tracking\";\r\nimport useGoogleAnalytics from \"../../../Hooks/useGoogleAnalytics\";\r\nimport { Badge } from \"flowbite-react\";\r\n\r\nexport default function ProductCardStyleOne({ datas, type = 3, mode = \"default\" }) {\r\n  const navigate = useNavigate();\r\n  const {\r\n    addToCart,\r\n    addToWishlist,\r\n    addToPreorder,\r\n    preorder,\r\n    isProductInWishlist,\r\n    addToCreditOrder,\r\n    addToVenteCherCart,\r\n  } = useContext(CartContext);\r\n  const { trackEvent } = useGoogleAnalytics();\r\n\r\n  const { showPopup, handleClosePopup } = useNewsletterPopup();\r\n  const [isPopupVisible, setIsPopupVisible] = useState(false);\r\n  const { user } = useAuthContext();\r\n\r\n  // Scurise les donnes produit\r\n  const safeDatas = datas || {};\r\n\r\n  const creditPrice = Number(safeDatas.creditorder_price || 0);\r\n  const listPrice = Number(safeDatas.list_price || 0);\r\n  const promoPrice = Number(safeDatas.promo_price || 0);\r\n  const hasPromo = mode === \"vente-cher\" ? false : (!!safeDatas.en_promo && promoPrice > 0);\r\n  const isCreditAvailable = !!safeDatas.is_creditorder && creditPrice > 0;\r\n\r\n\r\n  const handleNotifyAdded = (message) => {\r\n    toast.success(message || \"Produit ajout\", {\r\n      position: \"top-center\",\r\n      autoClose: 2000,\r\n    });\r\n  };\r\n\r\n  const handleAddToCreditOrder = (e) => {\r\n    e.preventDefault();\r\n    if (!isCreditAvailable) return;\r\n    addToCreditOrder(safeDatas, 1);\r\n    setIsPopupVisible(true);\r\n    // eslint-disable-next-line no-console\r\n    console.log(\"Ajout au credit order :\", preorder);\r\n    handleNotifyAdded(\"Produit ajout  la commande  crdit\");\r\n  };\r\n\r\n  const handleSubscribe = (email) => {\r\n    // Hook newsletter dj gr ct popup\r\n    // eslint-disable-next-line no-console\r\n    console.log(`Subscribed with email: ${email}`);\r\n  };\r\n\r\n  const handleAddToCart = (e) => {\r\n    e.preventDefault();\r\n    if (!safeDatas.sale_ok && mode !== \"vente-cher\") return;\r\n\r\n    if (mode === \"vente-cher\") {\r\n      addToVenteCherCart(safeDatas, 1);\r\n      handleNotifyAdded(\"Produit ajout au panier Vente en cher\");\r\n    } else {\r\n      addToCart(safeDatas, 1);\r\n      handleNotifyAdded(\"Produit ajout au panier\");\r\n    }\r\n\r\n    setIsPopupVisible(true);\r\n  };\r\n\r\n  const handleAddToWishlist = (e) => {\r\n    e.preventDefault();\r\n    addToWishlist(safeDatas, 1);\r\n    handleNotifyAdded(\"Produit ajout aux favoris\");\r\n  };\r\n\r\n  const handleAddToPreOrder = (e) => {\r\n    e.preventDefault();\r\n    addToPreorder(safeDatas, 1);\r\n    setIsPopupVisible(true);\r\n    handleNotifyAdded(\"Produit ajout en prcommande\");\r\n  };\r\n\r\n  const handleDetails = (e) => {\r\n    e.preventDefault();\r\n    if (!safeDatas.id) return;\r\n    navigate(`/produits/${safeDatas.id}/details`, {\r\n      state: { produit: safeDatas },\r\n    });\r\n    if (safeDatas.name) {\r\n      trackImageClick(safeDatas.name);\r\n      trackEvent(\"Image\", \"image_produit\", safeDatas.name, 1);\r\n    }\r\n  };\r\n\r\n  // Image du produit (base64 ou fallback logo)\r\n  const productBgStyle = useMemo(() => {\r\n    const img = safeDatas.image_256;\r\n    const bgUrl = img\r\n      ? `url('data:image/png;base64,${img}')`\r\n      : \"url('https://www.ccbmshop.com/logo.png')\";\r\n\r\n    return {\r\n      background: bgUrl,\r\n      backgroundSize: \"contain\",\r\n      backgroundRepeat: \"no-repeat\",\r\n      backgroundPosition: \"center\",\r\n      backgroundColor: \"#ffffff\",\r\n      transition: \"transform 300ms ease\",\r\n    };\r\n  }, [safeDatas.image_256]);\r\n\r\n  const tags = Array.isArray(safeDatas.tags) ? safeDatas.tags : [];\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"product-card-one w-full h-full bg-white relative group overflow-hidden\"\r\n        style={{ boxShadow: \"0px 15px 64px 0px rgba(0, 0, 0, 0.05)\" }}\r\n      >\r\n        <button\r\n          type=\"button\"\r\n          className=\"product-card-img group relative w-full h-[200px] sm:h-[300px] cursor-pointer overflow-hidden outline-none\"\r\n          style={productBgStyle}\r\n          onMouseEnter={(e) => (e.currentTarget.style.transform = \"scale(1.05)\")}\r\n          onMouseLeave={(e) => (e.currentTarget.style.transform = \"scale(1)\")}\r\n          onClick={handleDetails}\r\n          aria-label={safeDatas.name || \"Voir le dtail du produit\"}\r\n        >\r\n          <div className=\"absolute left-0 right-0 flex justify-between\">\r\n            \r\n            {safeDatas.en_promo && (\r\n              <div className=\"product-type absolute left-[14px] top-[17px]\">\r\n                <span\r\n                  className=\"text-[8px] font-bold leading-none py-[5px] px-2 uppercase text-white \r\n                      rounded-full tracking-wider bg-bleu-logo\"\r\n                >\r\n                  En promo\r\n                </span>\r\n              </div>\r\n            )}\r\n\r\n            {safeDatas.categ_id && (\r\n              <div className=\"product-type absolute right-[14px] top-[17px] hidden sm:block\">\r\n                <span\r\n                  className=\"text-[8px] font-bold leading-none py-[5px] px-2 uppercase text-white \r\n                      rounded-full tracking-wider bg-qyellow\"\r\n                >\r\n                  {safeDatas.categ_id}\r\n                </span>\r\n              </div>\r\n            )}\r\n\r\n          </div>\r\n        </button>\r\n\r\n        {/* Dtails du produit - padding rduit sur mobile */}\r\n        <div className=\"product-card-details px-[15px] sm:px-[30px] pb-[15px] sm:pb-[30px] relative\">\r\n          {safeDatas.categ_id && (\r\n            <div className=\"block sm:hidden mb-1\">\r\n              <span className=\"text-[7px] font-medium py-1 px-2 bg-yellow-500 text-white rounded-md\">\r\n                {safeDatas.categ_id}\r\n              </span>\r\n            </div>\r\n          )}\r\n\r\n          <Link to={safeDatas.id ? `/produits/${safeDatas.id}/details` : \"#\"}>\r\n            <p className=\"title mb-2 text-[11px] sm:text-[14px] font-600 text-qblack leading-[16px] sm:leading-[24px] line-clamp-2 hover:text-bleu-logo\">\r\n              {safeDatas.name || \"Produit\"}\r\n            </p>\r\n          </Link>\r\n\r\n          <p className=\"price\">\r\n            {/* Prix barr - affich uniquement si le prix de crdit est suprieur  0 */}\r\n           \r\n           {hasPromo && (isCreditAvailable || !isCreditAvailable) && (\r\n            <span className=\"offer-price line-through text-qred font-600 text-[14px] sm:text-[16px]\">\r\n              {formatPrice(listPrice)}\r\n            </span>\r\n           )}\r\n\r\n            {!hasPromo && isCreditAvailable && (\r\n              <span className=\"offer-price line-through text-qred font-600 text-[14px] sm:text-[16px]\">\r\n                {formatPrice(creditPrice)}\r\n              </span>\r\n            )}\r\n            <br />\r\n            \r\n            {hasPromo ? (\r\n              <>\r\n                <span className=\"offer-price text-bleu-logo font-600 text-[14px] sm:text-[16px]\">\r\n                  {formatPrice(promoPrice)}\r\n                </span>\r\n              </>\r\n            ) : (\r\n              listPrice > 0 && (\r\n                <>\r\n                  <span className=\"offer-price text-bleu-logo font-600 text-[14px] sm:text-[16px]\">\r\n                    {formatPrice(listPrice)}\r\n                  </span>\r\n                </>\r\n              )\r\n            )}\r\n          </p>\r\n\r\n          {/* Boutons - hauteur et espacement rduits sur mobile */}\r\n          <div className=\"w-full left-0 flex flex-col gap-2 mt-2 items-center\">\r\n            {/* Bouton Commander */}\r\n            {safeDatas.sale_ok && (\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleAddToCart}\r\n                className={`w-full h-12 flex items-center justify-center gap-2 text-[14px] font-medium ${\r\n                  type === 3 ? \"blue-logo-btn\" : \"yellow-btn\"\r\n                }`}\r\n              >\r\n                <ShoppingCart className=\"w-5 h-5\" />\r\n                <span>Commander</span>\r\n              </button>\r\n            )}\r\n\r\n            {/* Bouton Crdit */}\r\n            {user && isCreditAvailable && (\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleAddToCreditOrder}\r\n                className=\"w-full h-12 flex items-center justify-center gap-2 text-[14px] font-medium vert-btn\"\r\n              >\r\n                <ShoppingBag className=\"w-5 h-5\" />\r\n                <span> crdit</span>\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* quick-access-btns */}\r\n        <div className=\"quick-access-btns flex flex-col space-y-1 sm:space-y-2 absolute group-hover:right-2 sm:group-hover:right-4 -right-10 top-20 transition-all duration-300 ease-in-out\">\r\n          {/* Bouton dtails */}\r\n          <span className=\"w-8 h-8 sm:w-10 sm:h-10 flex justify-center items-center bg-primarygray rounded\">\r\n            <div className=\"flex gap-1\">\r\n              <Link\r\n                to={safeDatas.id ? `/produits/${safeDatas.id}/details` : \"#\"}\r\n                className=\"cursor-pointer hover:text-gray-500 hover:scale-150 duration-300\"\r\n                aria-label=\"Voir le dtail du produit\"\r\n              >\r\n                <Eye />\r\n              </Link>\r\n            </div>\r\n          </span>\r\n\r\n          {/* Bouton favoris */}\r\n          <span className=\"w-8 h-8 sm:w-10 sm:h-10 flex justify-center items-center bg-primarygray rounded\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleAddToWishlist}\r\n              className=\"flex items-center justify-center\"\r\n              aria-label=\"Ajouter aux favoris\"\r\n            >\r\n              <Heart\r\n                className={`${\r\n                  isProductInWishlist(safeDatas) ? \"text-yellow-500\" : \"\"\r\n                } cursor-pointer hover:text-yellow-500 hover:scale-150 duration-300`}\r\n              />\r\n            </button>\r\n          </span>\r\n\r\n          {/* Tags */}\r\n          {tags.length > 0 && (\r\n            <span className=\"w-8 h-8 sm:w-10 sm:h-10 flex justify-center items-center rounded\">\r\n              <div className=\"flex gap-1\">\r\n                {tags.map((tag) => (\r\n                  <Badge icon={Check} key={tag.id} color=\"success\">\r\n                    {tag.name}\r\n                  </Badge>\r\n                ))}\r\n              </div>\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {isPopupVisible && !user && (\r\n        <NewsletterPopup\r\n          onClose={handleClosePopup}\r\n          onSubscribe={handleSubscribe}\r\n          isVisible={showPopup}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react/prop-types */\r\n\r\nimport { useContext, useEffect, useState } from \"react\"\r\nimport RangeSlider from \"react-range-slider-input\"\r\nimport \"react-range-slider-input/dist/style.css\"\r\nimport { ProductContext } from \"../../Provider/ProductContext\"\r\nimport Categorieservice from \"../../services/CategorieService\"\r\nimport { useAuthContext } from \"../../contexts/useAuthContext\"\r\n\r\nexport default function ProductsFilter({ className, filterToggle, updateUrlParams, type = 3 }) {\r\n  const { filters, updateFilters } = useContext(ProductContext)\r\n\r\n  const { user } = useAuthContext()\r\n\r\n  const handleVolumeChange = (value) => {\r\n    updateFilters({ ...filters, min: value[0], max: value[1], page: 1 })\r\n    updateUrlParams({ ...filters, min: value[0], max: value[1], page: 1 })\r\n  }\r\n\r\n  const handleTypeFilterChange = (event) => {\r\n    const newType = event.target.value\r\n    updateFilters({ ...filters, productType: newType, page: 1 })\r\n    updateUrlParams({ ...filters, productType: newType, page: 1 })\r\n  }\r\n\r\n  const handleTagFilterChange = (event) => {\r\n    const newTag = event.target.value\r\n    updateFilters({ ...filters, tag: newTag, page: 1 })\r\n    updateUrlParams({ ...filters, tag: newTag, page: 1 })\r\n  }\r\n\r\n  const [tags, setTags] = useState([])\r\n  useEffect(() => {\r\n    const fetchTags = async () => {\r\n      try {\r\n        const data = await Categorieservice.getTags()\r\n        setTags(data)\r\n        console.log(data)\r\n      } catch (error) {\r\n        console.error(\"Erreur lors de la rcupration des catgories\", error)\r\n      }\r\n    }\r\n    fetchTags()\r\n  }, [])\r\n\r\n  return (\r\n    <div\r\n      className={`filter-widget w-full fixed lg:relative left-0 top-0 h-screen z-10 lg:h-auto overflow-y-scroll lg:overflow-y-auto bg-white px-[30px] pt-[40px] ${className || \"\"\r\n        } ${filterToggle ? \"block\" : \"hidden lg:block\"}`}\r\n    >\r\n      {/* Filtre par type de produit */}\r\n      <div className=\"filter-subject-item pb-10 border-b border-qgray-border\">\r\n        <div className=\"subject-title mb-[20px]\">\r\n          <h1 className=\"text-black text-base font-500\">Type de produits</h1>\r\n        </div>\r\n        <div className=\"flex flex-col gap-3 text-sm text-qgray\">\r\n          <label className=\"flex items-center gap-2\">\r\n            <input\r\n              type=\"radio\"\r\n              value=\"All\"\r\n              name=\"productType\"\r\n              checked={filters.productType === \"All\"}\r\n              onChange={handleTypeFilterChange}\r\n            />\r\n            Tous les produits\r\n          </label>\r\n          <label className=\"flex items-center gap-2\">\r\n            <input\r\n              type=\"radio\"\r\n              value=\"promo\"\r\n              name=\"productType\"\r\n              checked={filters.productType === \"promo\"}\r\n              onChange={handleTypeFilterChange}\r\n            />\r\n            Produits en promo\r\n          </label>\r\n          {user  && (\r\n\r\n            <label className=\"flex items-center gap-2\">\r\n              <input\r\n                type=\"radio\"\r\n                value=\"credit\"\r\n                name=\"productType\"\r\n                checked={filters.productType === \"credit\"}\r\n                onChange={handleTypeFilterChange}\r\n              />\r\n              Produits  crdit\r\n            </label>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filtre par tags */}\r\n      {/* <div className=\"filter-subject-item pb-10 border-b border-qgray-border mt-10\">\r\n        <div className=\"subject-title mb-[20px]\">\r\n          <h1 className=\"text-black text-base font-500\">Filtrer par tags</h1>\r\n        </div>\r\n        <div className=\"text-sm text-qgray\">\r\n          <select\r\n            className=\"w-full border border-qgray-border px-3 py-2 rounded\"\r\n            value={filters.tag || \"\"}\r\n            onChange={handleTagFilterChange}\r\n          >\r\n            <option value=\"\">Tous les tags</option>\r\n            {tags.map((tag) => (\r\n              <option key={tag.id} value={tag.slug || tag.name}>\r\n                {tag.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div> */}\r\n\r\n\r\n      {/* chelle des prix */}\r\n      <div className=\"filter-subject-item pb-10 border-b border-qgray-border mt-10\">\r\n        <div className=\"subject-title mb-[30px]\">\r\n          <h1 className=\"text-black text-base font-500\">chelle des prix</h1>\r\n        </div>\r\n        <div className=\"price-range mb-5\">\r\n          <RangeSlider value={[filters.min, filters.max]} onInput={handleVolumeChange} min={1000} max={5000000} />\r\n        </div>\r\n        <p className=\"text-xs text-qblack font-400\">\r\n          Prix (FCFA): {filters.min} - {filters.max}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","/* eslint-disable react/prop-types */\r\n// import React from 'react';\r\n\r\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\r\n\r\nconst Pagination = ({ currentPage, totalPages, onPageChange }) => {\r\n  const getPageNumbers = () => {\r\n    const delta = 2;\r\n    const range = [];\r\n\r\n    for (let i = Math.max(2, currentPage - delta); i <= Math.min(totalPages - 1, currentPage + delta); i++) {\r\n      range.push(i);\r\n    }\r\n\r\n    if (currentPage - delta > 2) {\r\n      range.unshift(\"...\");\r\n    }\r\n    if (currentPage + delta < totalPages - 1) {\r\n      range.push(\"...\");\r\n    }\r\n\r\n    range.unshift(1);\r\n    if (totalPages !== 1) {\r\n      range.push(totalPages);\r\n    }\r\n    return range;\r\n  };\r\n\r\n  return (\r\n    <nav className=\"flex justify-center items-center mt-8 px-4\" aria-label=\"Pagination\">\r\n      <ul className=\"flex flex-wrap justify-center items-center space-x-1 md:space-x-2\">\r\n        <li>\r\n          <button\r\n            onClick={() => onPageChange(Math.max(1, currentPage - 1))}\r\n            disabled={currentPage === 1}\r\n            className=\"p-2 rounded-full bg-gray-200 text-gray-700 hover:bg-qyellow disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            aria-label=\"Previous page\"\r\n          >\r\n            <ChevronLeft className=\"w-5 h-5\" />\r\n          </button>\r\n        </li>\r\n        {getPageNumbers().map((number, index) => (\r\n          <li key={index}>\r\n            {typeof number === 'number' ? (\r\n              <button\r\n                onClick={() => onPageChange(number)}\r\n                className={`hidden sm:block px-3 py-2 rounded ${currentPage === number\r\n                  ? 'bg-bleu-logo text-white'\r\n                  : 'bg-gray-200 text-gray-700 hover:bg-qyellow'\r\n                  }`}\r\n                aria-current={currentPage === number ? 'page' : undefined}\r\n              >\r\n                {number}\r\n              </button>\r\n            ) : (\r\n              <span className=\"hidden sm:block px-3 py-2\">{number}</span>\r\n            )}\r\n          </li>\r\n        ))}\r\n        <li className=\"sm:hidden\">\r\n          <span className=\"px-3 py-2 text-gray-700\">\r\n            {currentPage} / {totalPages}\r\n          </span>\r\n        </li>\r\n        <li>\r\n          <button\r\n            onClick={() => onPageChange(Math.min(totalPages, currentPage + 1))}\r\n            disabled={currentPage === totalPages}\r\n            className=\"p-2 rounded-full bg-gray-200 text-gray-700 hover:bg-qyellow disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            aria-label=\"Next page\"\r\n          >\r\n            <ChevronRight className=\"w-5 h-5\" />\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n\r\n","/* eslint-disable no-unused-vars */\r\nimport { useCallback, useContext, useEffect } from \"react\"\r\nimport { useLocation, useNavigate } from \"react-router-dom\"\r\nimport BreadcrumbCom from \"../BreadcrumbCom\"\r\nimport ProductCardStyleOne from \"../Helpers/Cards/ProductCardStyleOne\"\r\nimport Layout from \"../Partials/Layout\"\r\nimport ProductsFilter from \"./ProductsFilter\"\r\nimport { Loader } from \"lucide-react\"\r\nimport SEOHeader from \"../Partials/Headers/HeaderOne/SEOHeader\"\r\nimport Pagination from \"./Pagination\"\r\nimport { PromoProductContext } from \"../../Provider/PromoProductContext\"\r\n\r\nexport default function PromoFalshTabaskiPage() {\r\n    const {\r\n        updateFilters,\r\n        filters,\r\n        resetFilters,\r\n        fetchProdcutsTabaski,\r\n        isLoadingProductTabaski,\r\n        currentProductsTabaski,\r\n        totalProductsTabaski,\r\n    } = useContext(PromoProductContext)\r\n\r\n\r\n    const location = useLocation()\r\n    const navigate = useNavigate()\r\n\r\n\r\n    useEffect(() => {\r\n        resetFilters()\r\n        const params = new URLSearchParams(location.search)\r\n        const newFilters = {\r\n            page: Number.parseInt(params.get(\"page\")) || 1,\r\n            category: params.get(\"category\") || \"All\",\r\n            search: params.get(\"search\") || \"\",\r\n            min: Number.parseInt(params.get(\"min\")) || 1000,\r\n            max: Number.parseInt(params.get(\"max\")) || 5000000,\r\n            limit: 9,\r\n        }\r\n        updateFilters(newFilters)\r\n        console.log(filters)\r\n        window.scrollTo({\r\n            top: 0,\r\n            left: 100,\r\n            behavior: \"smooth\",\r\n        })\r\n    }, [location.search, location.pathname, resetFilters, updateFilters])\r\n\r\n\r\n    useEffect(() => {\r\n        fetchProdcutsTabaski()\r\n    }, [fetchProdcutsTabaski])\r\n\r\n\r\n    const handlePageChange = (pageNumber) => {\r\n        updateUrlParams({ ...filters, page: pageNumber })\r\n    }\r\n\r\n    const handleSearchChange = (e) => {\r\n        const value = e.target.value\r\n        updateUrlParams({ ...filters, search: value, page: 1 })\r\n    }\r\n\r\n\r\n    const handleCategoryChange = (categoryId) => {\r\n        updateUrlParams({ category: categoryId || \"All\", page: 1 })\r\n    }\r\n\r\n    const updateUrlParams = useCallback(\r\n        (newFilters) => {\r\n            const params = new URLSearchParams(location.search)\r\n            Object.entries(newFilters).forEach(([key, value]) => {\r\n                if (value !== undefined && value !== null && value !== \"\") {\r\n                    params.set(key, value.toString())\r\n                } else {\r\n                    params.delete(key)\r\n                }\r\n            })\r\n            navigate({ search: params.toString() }, { replace: true })\r\n        },\r\n        [location.search, navigate],\r\n    )\r\n\r\n\r\n    const startIndex = (filters.page - 1) * filters.limit + 1\r\n    const endIndex = Math.min(filters.page * filters.limit, totalProductsTabaski)\r\n\r\n    return (\r\n        <>\r\n            <SEOHeader\r\n                title=\"CCBM Shop | Promo Tabaski\"\r\n                description=\"Dcouvrez les meilleures offres promotionnelles sur CCBM Shop, votre destination privilgie pour l'lectromnager de qualit  prix rduits.\"\r\n                keywords=\"lectromnager, tabaski ,promotions, offres spciales, CCBM Shop, ccbme, appareils lectromnagers  prix rduits\"\r\n            />\r\n            <Layout>\r\n                <div className=\"products-page-wrapper w-full\">\r\n                    <div className=\"container-x mx-auto\">\r\n                        <BreadcrumbCom />\r\n                        <div className=\"w-full lg:flex lg:space-x-[30px]\">\r\n                            <div className=\"lg:w-[270px]\">\r\n                                <ProductsFilter updateUrlParams={updateUrlParams} handleCategoryChange={handleCategoryChange} />\r\n                            </div>\r\n                            <div className=\"flex-1\">\r\n                                <div className=\"products-sorting w-full bg-white flex flex-col md:flex-row justify-between p-[30px] mb-[40px]\">\r\n                                    <p className=\"font-400 text-[13px]\">\r\n                                        <span className=\"text-qgray\">Affichage</span>{\" \"}\r\n                                        {totalProductsTabaski > 0 ? `${startIndex}${endIndex} sur ${totalProductsTabaski} rsultats` : \"0 rsultat\"}\r\n                                    </p>\r\n\r\n                                </div>\r\n                                {isLoadingProductTabaski ? (\r\n                                    <div className=\"flex justify-center items-center\">\r\n                                        <Loader className=\"animate-spin\" /> Chargement\r\n                                    </div>\r\n                                ) : currentProductsTabaski.length === 0 ? (\r\n                                    <div className=\"flex justify-center items-center\">Aucun produit en promotion trouv</div>\r\n                                ) : (\r\n\r\n                                    <div className=\"grid xl:grid-cols-3 grid-cols-2 gap-[30px]\">\r\n                                        {currentProductsTabaski.map((product) => (\r\n                                            <ProductCardStyleOne key={product.id} datas={product} />\r\n                                        ))}\r\n                                    </div>\r\n                                )}\r\n                                <Pagination\r\n                                    currentPage={filters.page}\r\n                                    totalPages={Math.ceil(totalProductsTabaski / filters.limit)}\r\n                                    onPageChange={handlePageChange}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Layout>\r\n        </>\r\n    )\r\n}\r\n\r\n","// services/userservice.js\nimport axiosInstance from \"../config/axiosConfig\";\n\nconst userService = {\n  getUsers: async () => {\n    try {\n      const response = await axiosInstance.get(\"/api/users\");\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la rcupration des users\", error);\n      throw error;\n    }\n  },\n  getCompte: async (id) => {\n    try {\n      const response = await axiosInstance.get(`/api/users/${id}/compte`);\n      return response.data;\n    } catch (error) {\n      console.error(\n        `Erreur lors de la rcupration du modle avec l'ID ${id}`,\n        error\n      );\n      throw error;\n    }\n  },\n  getUserById: async (id) => {\n    try {\n      const response = await axiosInstance.get(`/api/users/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error(\n        `Erreur lors de la rcupration du modle avec l'ID ${id}`,\n        error\n      );\n      throw error;\n    }\n  },\n\n  createUser: async (modelData) => {\n    try {\n      const response = await axiosInstance.post(\"/api/new_compte\", modelData);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la cration du modle\", error);\n      throw error;\n    }\n  },\n\n  resendOtp: async (email) => {\n    try {\n      const response = await axiosInstance.get(`/api/partner/${email}/otp-resend`);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la cration du modle\", error);\n      throw error;\n    }\n  },\n\n  verifierCodeOTP: async (body) => {\n    try {\n      const response = await axiosInstance.post(`/api/partner/otp-verification`, body);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la vrification du code\", error);\n      throw error;\n    }\n  },\n\n  updateUser: async (id, modelData) => {\n    try {\n      const response = await axiosInstance.put(\n        `/api/users/${id}/update`,\n        modelData\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\n        `Erreur lors de la mise  jour du modle avec l'ID ${id}`,\n        error\n      );\n      throw error;\n    }\n  },\n  actualiseInfoUser: async (id) => {\n    try {\n\n      const response = await axiosInstance.get(`/api/partner/compte/${id}`,);\n      return response.data;\n    } catch (error) {\n      console.error(\n        `Erreur lors de la mise  jour du modle avec l'ID ${id}`,\n        error\n      );\n      throw error;\n    }\n  },\n\n  updateUserCompte: async (id, modelData) => {\n    try {\n      const response = await axiosInstance.post(\n        `/api/partner/${id}/update`,\n        modelData\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\n        `Erreur lors de la mise  jour du modle avec l'ID ${id}`,\n        error\n      );\n      throw error;\n    }\n  },\n\n  deleteUser: async (id) => {\n    try {\n      const response = await axiosInstance.delete(`/api/users/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error(\n        `Erreur lors de la suppression du user avec l'ID ${id}`,\n        error\n      );\n      throw error;\n    }\n  },\n\n  login: async (credentials) => {\n    try {\n      const response = await axiosInstance.post(\n        `/api/auth/get_tokens?username=${credentials.username}&password=${credentials.password}`\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la rcupration des tokens\", error);\n      throw error;\n    }\n  },\n  verifiedCompte: async (mail) => {\n    try {\n      const response = await axiosInstance.get(`/api/users/verified/${mail}`);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la vrification de votre compte\", error);\n      throw error;\n    }\n  },\n  resetPasswordMail: async (email) => {\n    try {\n      const response = await axiosInstance.get(`/api/reset-password-email/${email}`);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la rcupration des tokens\", error);\n      throw error;\n    }\n  },\n  resetPasswordBySMS: async (phone) => {\n    try {\n      const response = await axiosInstance.get(`/api/reset-password-sms/${phone}`);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la rcupration des tokens\", error);\n      throw error;\n    }\n  },\n  newPassword: async (modelData) => {\n    try {\n      const response = await axiosInstance.post(`/api/new-password`, modelData);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la rcupration des tokens\", error);\n      throw error;\n    }\n  },\n  refreshAccessToken: async () => {\n    const refreshToken = localStorage.getItem(\"refresh_token\");\n\n    try {\n      const response = await axiosInstance.post(\"/api/auth/refresh_token\", {\n        refresh_token: refreshToken,\n      });\n      const { access_token, expires_in } = response.data;\n      localStorage.setItem(\"accessToken\", access_token);\n      localStorage.setItem(\"expires_in\", expires_in);\n      return response;\n    } catch (error) {\n      console.error(\"Erreur lors du rafrachissement du token\", error);\n      throw error;\n    }\n  },\n\n  deleteAccessToken: async (refreshToken) => {\n    try {\n      const response = await axiosInstance.post(\"/api/auth/delete_tokens\", {\n        refreshToken,\n      });\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la suppression du token\", error);\n      throw error;\n    }\n  },\n\n  getCurrentUser: async (uid) => {\n    try {\n      const response = await axiosInstance.get(`/api/users/${uid}`);\n      return response.data;\n    } catch (error) {\n      console.error(\n        `Erreur lors de la rcupration de l'utilisateur avec l'ID ${uid}`,\n        error\n      );\n      throw error;\n    }\n  },\n\n  updateUserAvatar: async (avatar) => {\n    const partner_id = localStorage.getItem(\"partner_id\");\n    try {\n      const response = await axiosInstance.put(\n        `/api/users/avatar/${partner_id}`,\n        { avatar },\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      console.log(response);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la mise  jour de l'avatar\", error);\n      throw error;\n    }\n  },\n\n  updateUserInfo: async (userData) => {\n    try {\n      const response = await axiosInstance.put(\"/api/users/me\", userData);\n      return response.data;\n    } catch (error) {\n      console.error(\n        \"Erreur lors de la mise  jour des informations de l'utilisateur\",\n        error\n      );\n      throw error;\n    }\n  },\n  getPartnerByEmail: async (email) => {\n    try {\n      const response = await axiosInstance.get(`/api/partnerByEmail/${email}`);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la?}\", error);\n      throw error;\n    }\n  },\n  createPasswordPartner: async (modelData) => {\n    try {\n      const response = await axiosInstance.post(`/api/partner-create/${modelData.email}/update`, modelData);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erreur lors de la cration du mot de passe\", error);\n      throw error;\n    }\n  },\n  getDetailsCompteUser: async (id) => {\n    try {\n      const response = await axiosInstance.get(`api/partner/compte/${id}/details`);\n      return response.data;\n    } catch (error) {\n      console.error('Erreur lors de la slection des abonnements:', error);\n      throw error;\n    }\n  }\n};\n\nexport default userService;\n\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react/no-unescaped-entities */\r\n\r\n\r\n\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport Layout from \"../../Partials/Layout\"\r\nimport { useNavigate, useLocation } from \"react-router-dom\"\r\nimport { Button } from \"flowbite-react\"\r\nimport { Loader2 } from \"lucide-react\"\r\nimport userService from \"../../../services/userService\"\r\nimport { toast } from \"react-toastify\"\r\nimport SEOHeader from \"../../Partials/Headers/HeaderOne/SEOHeader\"\r\n\r\nexport default function VerifyOTP() {\r\n    const navigate = useNavigate()\r\n    const location = useLocation()\r\n    const [email, setEmail] = useState(\"\")\r\n    const [otp, setOtp] = useState([\"\", \"\", \"\", \"\"])\r\n    const [otpError, setOtpError] = useState(\"\")\r\n    const [verifyingOtp, setVerifyingOtp] = useState(false)\r\n\r\n    useEffect(() => {\r\n        window.scrollTo({ top: 0, left: 100, behavior: \"smooth\" });\r\n    }, []);\r\n\r\n\r\n    useEffect(() => {\r\n        // Rcuprer l'email depuis les paramtres d'URL\r\n        const params = new URLSearchParams(location.search)\r\n        const emailParam = params.get(\"email\")\r\n\r\n        if (!emailParam) {\r\n            toast.error(\"Information utilisateur manquante. Veuillez vous inscrire  nouveau.\", {\r\n                position: \"top-center\",\r\n                autoClose: 5000,\r\n            })\r\n            navigate(\"/signup\")\r\n            return\r\n        }\r\n\r\n        setEmail(emailParam)\r\n    }, [location, navigate])\r\n\r\n    const handleOtpChange = (index, value) => {\r\n        if (value.length > 1) {\r\n            value = value.charAt(0)\r\n        }\r\n\r\n        if (isNaN(value) && value !== \"\") {\r\n            return\r\n        }\r\n\r\n        const newOtp = [...otp]\r\n        newOtp[index] = value\r\n        setOtp(newOtp)\r\n\r\n        // Auto-focus next input\r\n        if (value !== \"\" && index < 3) {\r\n            const nextInput = document.getElementById(`otp-${index + 1}`)\r\n            if (nextInput) {\r\n                nextInput.focus()\r\n            }\r\n        }\r\n    }\r\n\r\n    const verifyOtp = async () => {\r\n        setVerifyingOtp(true)\r\n        setOtpError(\"\")\r\n\r\n        const otpValue = otp.join(\"\")\r\n        if (otpValue.length !== 4) {\r\n            setOtpError(\"Veuillez entrer les 4 chiffres du code OTP\")\r\n            setVerifyingOtp(false)\r\n            return\r\n        }\r\n\r\n        const body = {\r\n            email: email,\r\n            code: otpValue,\r\n        }\r\n        // console.log(body)\r\n        try {\r\n            // Appel  l'API de vrification OTP\r\n            const response = await userService.verifierCodeOTP(body)\r\n            // console.log(response)\r\n            toast.success(\"Vrification code russie !\", {\r\n                position: \"top-center\",\r\n                autoClose: 5000,\r\n            })\r\n            setVerifyingOtp(false)\r\n            navigate(\"/login?mail=\" + email)\r\n        } catch (error) {\r\n            console.log(error)\r\n            // Gestion scurise des erreurs pour viter de rendre des objets\r\n            let errorMessage = \"chec de la vrification du code OTP\"\r\n\r\n            if (error.response) {\r\n                if (typeof error.response.data === \"string\") {\r\n                    errorMessage = error.response.data\r\n                } else if (error.response.data && typeof error.response.data.message === \"string\") {\r\n                    errorMessage = error.response.data.message\r\n                }\r\n            } else if (typeof error.message === \"string\") {\r\n                errorMessage = error.message\r\n            }\r\n\r\n            setOtpError(errorMessage)\r\n            setVerifyingOtp(false)\r\n        }\r\n    }\r\n\r\n    const handleResendOtp = async () => {\r\n        try {\r\n            // Appel  l'API pour renvoyer un code OTP\r\n            await userService.resendOtp(email)\r\n            setOtp([\"\", \"\", \"\", \"\"])\r\n            toast.info(\"Un nouveau code a t envoy\", {\r\n                position: \"top-center\",\r\n                autoClose: 3000,\r\n            })\r\n        } catch (error) {\r\n            toast.error(\"chec de l'envoi du code. Veuillez ressayer.\", {\r\n                position: \"top-center\",\r\n                autoClose: 3000,\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <SEOHeader\r\n                title=\"CCBM Shop | Vrification OTP\"\r\n                description=\"Vrifiez votre compte CCBM Shop en saisissant le code OTP reu par email ou SMS.\"\r\n                keywords=\"vrification, OTP, code, CCBM Shop, authentification\"\r\n            />\r\n            <Layout childrenClasses=\"pt-0 pb-0\">\r\n                <div className=\"login-page-wrapper w-full py-10\">\r\n                    <div className=\"container-x mx-auto\">\r\n                        <div className=\"flex justify-center\">\r\n                            <div className=\"w-full max-w-md bg-white flex flex-col justify-center sm:p-10 p-5 border border-[#E0E0E0] rounded-md\">\r\n                                <div className=\"w-full\">\r\n                                    <div className=\"title-area flex flex-col justify-center items-center relative text-center mb-7\">\r\n                                        <h1 className=\"text-[28px] font-bold leading-[40px] text-qblack\">Vrification OTP</h1>\r\n                                        <div className=\"shape -mt-2\">\r\n                                            <svg width=\"172\" height=\"15\" viewBox=\"0 0 172 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                                <path\r\n                                                    d=\"M0 14.0386C7.40262 5.98596 25.7956 -3.24645 55.5 2.76157C88.3066 9.40708 135.748 13.3711 172 1.97453\"\r\n                                                    stroke=\"#FFBB38\"\r\n                                                    strokeWidth=\"2\"\r\n                                                    strokeLinecap=\"round\"\r\n                                                />\r\n                                            </svg>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"otp-verification mt-8\">\r\n                                        <div className=\"text-center mb-6\">\r\n                                            <p className=\"text-base text-qgraytwo\">Veuillez entrer le code  4 chiffres envoy par email et tlphone </p>\r\n                                            {/* <p className=\"text-base font-medium text-qblack mt-1\">{email}</p> */}\r\n                                        </div>\r\n\r\n                                        <div className=\"otp-inputs flex justify-center gap-3 mb-5\">\r\n                                            {[0, 1, 2, 3].map((index) => (\r\n                                                <input\r\n                                                    key={index}\r\n                                                    id={`otp-${index}`}\r\n                                                    type=\"text\"\r\n                                                    maxLength={1}\r\n                                                    className=\"w-14 h-14 text-center text-2xl font-bold border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                                    value={otp[index]}\r\n                                                    onChange={(e) => handleOtpChange(index, e.target.value)}\r\n                                                    onKeyDown={(e) => {\r\n                                                        if (e.key === \"Backspace\" && index > 0 && otp[index] === \"\") {\r\n                                                            const prevInput = document.getElementById(`otp-${index - 1}`)\r\n                                                            if (prevInput) {\r\n                                                                prevInput.focus()\r\n                                                            }\r\n                                                        }\r\n                                                    }}\r\n                                                />\r\n                                            ))}\r\n                                        </div>\r\n\r\n                                        {otpError && <p className=\"text-red-600 text-center mb-4\">{otpError}</p>}\r\n\r\n                                        <div className=\"flex justify-center\">\r\n                                            <Button onClick={verifyOtp} disabled={verifyingOtp} className=\"w-full\">\r\n                                                {verifyingOtp ? (\r\n                                                    <>\r\n                                                        <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                                                        Vrification en cours...\r\n                                                    </>\r\n                                                ) : (\r\n                                                    \"Vrifier le code OTP\"\r\n                                                )}\r\n                                            </Button>\r\n                                        </div>\r\n\r\n                                        <div className=\"resend-otp flex justify-center mt-6\">\r\n                                            <p className=\"text-base text-qgraytwo font-normal\">\r\n                                                Vous n'avez pas reu de code?\r\n                                                <button\r\n                                                    type=\"button\"\r\n                                                    className=\"ml-2 hover:text-bleu-logo text-qblack\"\r\n                                                    onClick={handleResendOtp}\r\n                                                >\r\n                                                    Renvoyer\r\n                                                </button>\r\n                                            </p>\r\n                                        </div>\r\n\r\n                                        <div className=\"resend-otp flex justify-center mt-6\">\r\n                                            <p className=\"text-base text-qgraytwo font-normal\">\r\n                                                <a\r\n                                                    type=\"button\"\r\n                                                    className=\"ml-2 hover:text-bleu-logo text-qblack\"\r\n                                                    href=\"/login\"\r\n                                                >\r\n                                                    Se connecter\r\n                                                </a>\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Layout>\r\n        </>\r\n    )\r\n}\r\n\r\n","\r\nconst base = import.meta.env.VITE_API_URL_DEV || \"\";\r\n// Exemple: https://api.ccbmshop.sn/   pense au trailing slash dans ta variable env.\r\n\r\nconst jsonHeaders = { \"Content-Type\": \"application/json\" };\r\n\r\nconst MobileMoneyService = {\r\n  // --- WAVE ---\r\n  initiateWavePayment: async (payload) => {\r\n    // payload = { transaction_id, order_id, partner_id, phoneNumber, amount, description, reference, success_url }\r\n    const res = await fetch(`${base}api/payment/wave/initiate`, {\r\n      method: \"POST\",\r\n      headers: jsonHeaders,\r\n      body: JSON.stringify(payload),\r\n    });\r\n    if (!res.ok) {\r\n      let msg = \"Failed to initiate Wave payment\";\r\n      try {\r\n        const e = await res.json();\r\n        msg = (e && e.error) || (e && e.message) || msg;\r\n      } catch (e) { console.log(e) }\r\n      throw new Error(msg);\r\n    }\r\n    return await res.json();\r\n  },\r\n\r\n  verifyWavePayment: async (transaction_id) => {\r\n    // status par transaction_id (ton contrleur: /api/payment/wave/status/<transaction_id>)\r\n    const res = await fetch(`${base}api/payment/wave/status/${encodeURIComponent(transaction_id)}`, {\r\n      method: \"GET\",\r\n      headers: jsonHeaders,\r\n    });\r\n    if (!res.ok) {\r\n      let msg = \"Failed to verify Wave payment\";\r\n      try {\r\n        const e = await res.json();\r\n        msg = (e && e.error) || msg;\r\n      } catch (e) { console.log(e) }\r\n      throw new Error(msg);\r\n    }\r\n    return await res.json();\r\n  },\r\n\r\n  // --- ORANGE MONEY ---\r\n  initiateOrangeMoneyPayment: async (payload) => {\r\n    // payload = { transaction_id, order_id, partner_id, phoneNumber, amount, description, reference, success_url }\r\n    const res = await fetch(`${base}api/payment/orange/initiate`, {\r\n      method: \"POST\",\r\n      headers: jsonHeaders,\r\n      body: JSON.stringify(payload),\r\n    });\r\n    if (!res.ok) {\r\n      let msg = \"Failed to initiate Orange Money payment\";\r\n      try {\r\n        const e = await res.json();\r\n        msg = (e && e.error) || (e && e.message) || msg;\r\n      } catch (e) { console.log(e) }\r\n      throw new Error(msg);\r\n    }\r\n    return await res.json();\r\n  },\r\n\r\n  verifyOrangeMoneyPayment: async (transaction_id) => {\r\n    // ton contrleur: /api/payment/orange/status/<transaction_id>\r\n    const res = await fetch(`${base}api/payment/orange/status/${encodeURIComponent(transaction_id)}`, {\r\n      method: \"GET\",\r\n      headers: jsonHeaders,\r\n    });\r\n    if (!res.ok) {\r\n      let msg = \"Failed to verify Orange Money payment\";\r\n      try {\r\n        const e = await res.json();\r\n        msg = (e && e.error) || msg;\r\n      } catch (e) { console.log(e) }\r\n      throw new Error(msg);\r\n    }\r\n    return await res.json();\r\n  },\r\n\r\n  // --- Facades gnriques ---\r\n  initiatePayment: async (method, payload) => {\r\n    if (method === \"wave\") {\r\n      return await MobileMoneyService.initiateWavePayment(payload);\r\n    } else if (method === \"orange\") {\r\n      return await MobileMoneyService.initiateOrangeMoneyPayment(payload);\r\n    }\r\n    throw new Error(\"Invalid payment method\");\r\n  },\r\n\r\n  verifyPayment: async (method, transaction_id) => {\r\n    if (method === \"wave\") {\r\n      return await MobileMoneyService.verifyWavePayment(transaction_id);\r\n    } else if (method === \"orange\") {\r\n      return await MobileMoneyService.verifyOrangeMoneyPayment(transaction_id);\r\n    }\r\n    throw new Error(\"Invalid payment method\");\r\n  },\r\n\r\n\r\n  getOrangeTransactionsByPartner: async (partnerId) => {\r\n    const { data } = await fetch(`${base}api/payment/orange/partner/${partnerId}/transactions`, {\r\n      method: \"GET\",\r\n      headers: jsonHeaders,\r\n    });\r\n    return data; // array\r\n  },\r\n  getWaveTransactionsByPartner: async (partnerId) => {\r\n    const { data } = await fetch(`${base}api/payment/wave/partner/${partnerId}/transactions`, {\r\n      method: \"GET\",\r\n      headers: jsonHeaders,\r\n    });\r\n    return data; // array\r\n  },\r\n};\r\n\r\nexport default MobileMoneyService;\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react-hooks/exhaustive-deps */\r\n/* eslint-disable react/prop-types */\r\n\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { Link, useNavigate, useSearchParams } from \"react-router-dom\";\r\nimport { Button } from \"flowbite-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { CheckCircle, Clock, XCircle, AlertTriangle, ExternalLink } from \"lucide-react\";\r\n\r\nimport MobileMoneyService from \"../../services/Payment/mobile-money-service\"; // adapte si besoin\r\nimport formatPrice from \"../../utils/formatPrice\";\r\nimport Layout from \"../Partials/Layout\";\r\n\r\nexport default function WavePaymentVerifyPage() {\r\n    const [search] = useSearchParams();\r\n    const navigate = useNavigate();\r\n    const transaction = search.get(\"transaction\") || \"\";\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [payload, setPayload] = useState(null);\r\n    const [error, setError] = useState(\"\");\r\n\r\n    // Normalise le statut global  partir de status / payment_status / checkout_status\r\n    const normalizedStatus = useMemo(() => {\r\n        const s = String((payload && payload.status) || (payload && payload.payment_status) || \"\").toLowerCase();\r\n        const c = String((payload && payload.checkout_status) || \"\").toLowerCase();\r\n        if ([\"completed\", \"success\", \"succeeded\", \"paid\"].includes(s) || [\"complete\"].includes(c)) {\r\n            return \"success\";\r\n        }\r\n        if ([\"failed\", \"rejected\", \"canceled\", \"cancelled\", \"expired\"].includes(s)) {\r\n            return \"failed\";\r\n        }\r\n        return \"pending\";\r\n    }, [payload]);\r\n\r\n   \r\n    const orderUrl = useMemo(() => {\r\n        if (!payload) return \"\";\r\n        if (payload && payload.success_url) return payload.success_url; // si le backend la fournit\r\n\r\n        const id = (payload && payload.order && payload.order.id) || (payload && payload.order_id);\r\n        const type = (payload && payload.order && payload.order.type_sale) || (payload && payload.order_type) || (payload && payload.type_sale);\r\n\r\n        if (!id) return \"\";\r\n        if (String(type).toLowerCase() === \"creditorder\") {\r\n            return `/credit-commandes/${id}/dtails`;\r\n        }\r\n        return `/commandes/${id}/dtails`;\r\n    }, [payload]);\r\n\r\n\r\n    const ui = useMemo(() => {\r\n        if (normalizedStatus === \"success\") {\r\n            return {\r\n                icon: <CheckCircle className=\"h-8 w-8 text-green-600\" />,\r\n                title: \"Paiement confirm\",\r\n                badgeClass: \"bg-green-100 text-green-800\",\r\n                note: (payload && payload.transaction_id) ? `Transaction ID: ${payload.transaction_id}` : \"\",\r\n            };\r\n        }\r\n        if (normalizedStatus === \"failed\") {\r\n            return {\r\n                icon: <XCircle className=\"h-8 w-8 text-red-600\" />,\r\n                title: \"Paiement chou\",\r\n                badgeClass: \"bg-red-100 text-red-800\",\r\n                note: (payload && payload.transaction_id) ? `Transaction ID: ${payload.transaction_id}` : \"\",\r\n            };\r\n        }\r\n        return {\r\n            icon: <Clock className=\"h-8 w-8 text-yellow-500\" />,\r\n            title: \"Paiement en attente\",\r\n            badgeClass: \"bg-yellow-100 text-yellow-800\",\r\n            note: payload?.transaction_id ? `Transaction ID: ${payload.transaction_id}` : \"\",\r\n        };\r\n    }, [normalizedStatus, payload]);\r\n\r\n    const safe = (v, fallback = \"N/A\") =>\r\n        v === false || v === null || typeof v === \"undefined\" || v === \"\" ? fallback : v;\r\n\r\n    const asPrice = (v) => {\r\n        const n = Number(v);\r\n        return Number.isFinite(n) ? `${formatPrice(Math.ceil(n))}` : \"N/A\";\r\n    };\r\n\r\n    const fetchStatus = async () => {\r\n        if (!transaction) {\r\n            setError(\"Aucun identifiant de transaction fourni.\");\r\n            return;\r\n        }\r\n        toast.dismiss ();\r\n        setLoading(true);\r\n        setError(\"\");\r\n        try {\r\n            // mme service que pour OM : verifyPayment('wave', txId)\r\n            const res = await MobileMoneyService.verifyPayment(\"wave\", transaction);\r\n            setPayload(res || {});\r\n            if ((res && res.success) && (String((res && res.status)).toLowerCase() === \"completed\" || String((res && res.payment_status)).toLowerCase() === \"succeeded\")) {\r\n                toast.success(\"Paiement confirm avec succs!\");\r\n            } else if (res?.success === false) {\r\n                toast.error(\"La vrification a chou.\");\r\n            }\r\n        } catch (e) {\r\n            console.error(e);\r\n            setError((e && e.message) || \"Erreur lors de la vrification.\");\r\n            toast.error(\"Erreur lors de la vrification\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchStatus();\r\n\r\n    }, [transaction]);\r\n\r\n    return (\r\n        <Layout childrenClasses=\"pt-0 pb-0\">\r\n            <div className=\"max-w-5xl mx-auto px-4 py-10\">\r\n                {/* Fil dAriane */}\r\n                <div className=\"text-sm text-gray-500 mb-6\">\r\n                    <Link to=\"/\" className=\"hover:underline\">Accueil</Link> /{\" \"}\r\n                    <span className=\"text-gray-700\">Vrification Paiement Wave</span>\r\n                </div>\r\n\r\n                <h1 className=\"text-2xl sm:text-3xl font-bold text-gray-900 mb-6\">\r\n                    Vrification Paiement Wave\r\n                </h1>\r\n\r\n                <div className=\"bg-white rounded-xl shadow border p-6 sm:p-8\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        {ui.icon}\r\n                        <div>\r\n                            <div className={`inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium ${ui.badgeClass}`}>\r\n                                {safe((payload && payload.status), \"pending\")}\r\n                            </div>\r\n                            <h2 className=\"text-xl font-semibold text-gray-900 mt-2\">{ui.title}</h2>\r\n                            {ui.note && <p className=\"text-gray-600\">{ui.note}</p>}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {error && (\r\n                        <div className=\"mt-4 flex items-start gap-2 rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700\">\r\n                            <AlertTriangle className=\"mt-0.5 h-5 w-5\" />\r\n                            <span>{error}</span>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Dtails */}\r\n                    <div className=\"mt-8 space-y-6\">\r\n                        <Section title=\"Informations de transaction\">\r\n                            <Row label=\"Transaction ID\" value={safe((payload && payload.transaction_id))} />\r\n                            {/* <Row label=\"Wave ID\" value={safe((payload && payload.wave_id))} /> */}\r\n                            <Row label=\"Rfrence\" value={safe((payload && payload.reference))} />\r\n                            <Row label=\"Montant\" value={`${asPrice((payload && payload.amount))} ${safe((payload && payload.currency), \"XOF\")}`} />\r\n                            <Row label=\"Tlphone\" value={safe((payload && payload.phone))} />\r\n                            <Row label=\"Description\" value={safe((payload && payload.description))} />\r\n                            <Row label=\"Payment status\" value={safe((payload && payload.payment_status) ===\"succeeded\" ? \"VALIDER\" : \"En attente\")} />\r\n                            {/* <Row label=\"Cr le\" value={safe((payload && payload.created_at))} /> */}\r\n                            {/* <Row label=\"Mis  jour le\" value={safe((payload && payload.updated_at))} /> */}\r\n                            <Row label=\"Confirm le\" value={safe((payload && payload.completed_at))} />\r\n\r\n                        </Section>\r\n\r\n                        <Section title=\"Commande\">\r\n                            <Row label=\"Commande\" value={safe((payload && payload.order && payload.order.name))} />\r\n\r\n                            <Row label=\"Total commande\" value={`${asPrice((payload && payload.order && payload.order.amount_total))} ${(payload && payload.currency) || \"XOF\"}`} />\r\n                        </Section>\r\n\r\n                        <div className=\"flex flex-col sm:flex-row gap-3\">\r\n                            <Button onClick={fetchStatus} isProcessing={loading} className=\"w-full sm:w-auto\">\r\n                                Vrifier  nouveau\r\n                            </Button>\r\n                            {/* <Button color=\"light\" onClick={() => navigate(-1)} className=\"w-full sm:w-auto\">\r\n                                Retour au tableau de bord\r\n                            </Button> */}\r\n                            {orderUrl && (\r\n                                <a\r\n                                    href={orderUrl}\r\n                                    className=\"inline-flex items-center justify-center rounded-lg border px-4 py-2 text-sm font-medium hover:bg-gray-50 w-full sm:w-auto\"\r\n                                >\r\n                                    Ouvrir la commande <ExternalLink className=\"ml-2 h-4 w-4\" />\r\n                                </a>\r\n                            )}\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n}\r\n\r\n/* ---------- Sous-composants ---------- */\r\n\r\nfunction Section({ title, children }) {\r\n    return (\r\n        <div>\r\n            <div className=\"flex items-center gap-2 mb-3\">\r\n                <span className=\"inline-block h-2 w-2 rounded-full bg-blue-500\" />\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">{title}</h3>\r\n            </div>\r\n            <dl className=\"divide-y divide-gray-100 border border-gray-100 rounded-lg\">\r\n                {children}\r\n            </dl>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Row({ label, value }) {\r\n    return (\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-2 px-4 py-3\">\r\n            <dt className=\"text-sm text-gray-500\">{label}</dt>\r\n            <dd className=\"sm:col-span-2 text-sm text-gray-900\">{value}</dd>\r\n        </div>\r\n    );\r\n}\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react/prop-types */\r\n\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { Link, useNavigate, useSearchParams } from \"react-router-dom\";\r\nimport { Button } from \"flowbite-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { CheckCircle, Clock, XCircle, AlertTriangle, ExternalLink } from \"lucide-react\";\r\n\r\nimport MobileMoneyService from \"../../services/Payment/mobile-money-service\"; // adapte si ton path diffre\r\nimport formatPrice from \"../../utils/formatPrice\";\r\nimport Layout from \"../Partials/Layout\";\r\n\r\nexport default function OmPaymentVerifyPage() {\r\n    const [search] = useSearchParams();\r\n    const navigate = useNavigate();\r\n    const transaction = search.get(\"transaction\") || \"\";\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [payload, setPayload] = useState(null);\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const normalizedStatus = useMemo(() => {\r\n        const s = String((payload && payload.status) || \"\").toUpperCase();\r\n        // Standardise\r\n        if ([\"SUCCESS\", \"SUCCEEDED\", \"COMPLETED\", \"PAID\"].includes(s)) return \"SUCCESS\";\r\n        if ([\"FAILED\", \"REJECTED\", \"CANCELED\", \"CANCELLED\", \"EXPIRED\"].includes(s)) return \"FAILED\";\r\n        return \"PENDING\";\r\n    }, [payload]);\r\n\r\n    const ui = useMemo(() => {\r\n        if (normalizedStatus === \"SUCCESS\") {\r\n            return {\r\n                icon: <CheckCircle className=\"h-8 w-8 text-green-600\" />,\r\n                title: \"Statut : Paiement confirm\",\r\n                badgeClass: \"bg-green-100 text-green-800\",\r\n            };\r\n        }\r\n        if (normalizedStatus === \"FAILED\") {\r\n            return {\r\n                icon: <XCircle className=\"h-8 w-8 text-red-600\" />,\r\n                title: \"Statut : Paiement chou\",\r\n                badgeClass: \"bg-red-100 text-red-800\",\r\n            };\r\n        }\r\n        return {\r\n            icon: <Clock className=\"h-8 w-8 text-yellow-500\" />,\r\n            title: \"Statut : Paiement en attente\",\r\n            badgeClass: \"bg-yellow-100 text-yellow-800\",\r\n        };\r\n    }, [normalizedStatus]);\r\n\r\n\r\n    const orderUrl = useMemo(() => {\r\n        console.log(payload)\r\n        if (!payload) return \"\";\r\n        // if (payload?.success_url) return payload.success_url; // si le backend la fournit\r\n\r\n        const id = (payload && payload.order && payload.order.id) || (payload && payload.order_id);\r\n        const type = (payload && payload.order && payload.order.type_sale) || (payload && payload.order_type) || (payload && payload.type_sale);\r\n\r\n        if (!id) return \"\";\r\n        if (String(type).toLowerCase() === \"creditorder\") {\r\n            return `/credit-commandes/${id}/dtails`;\r\n        }\r\n        return `/commandes/${id}/dtails`;\r\n    }, [payload]);\r\n\r\n\r\n    const safe = (v, fallback = \"N/A\") =>\r\n        v === false || v === null || typeof v === \"undefined\" || v === \"\" ? fallback : v;\r\n\r\n    const asPrice = (v) => {\r\n        const n = Number(v);\r\n        return Number.isFinite(n) ? `${formatPrice(Math.ceil(n))}` : \"N/A\";\r\n    };\r\n\r\n    const fetchStatus = async () => {\r\n        if (!transaction) {\r\n            setError(\"Aucun identifiant de transaction fourni.\");\r\n            return;\r\n        }\r\n        setLoading(true);\r\n        setError(\"\");\r\n        try {\r\n            // mme logique que pour Wave : verifyPayment('om', transactionId)\r\n            const res = await MobileMoneyService.verifyPayment(\"orange\", transaction);\r\n            setPayload(res || {});\r\n            if ((res && res.success) && (String((res && res.status)).toUpperCase() === \"SUCCESS\")) {\r\n                toast.success(\"Paiement Orange Money confirm !\");\r\n            } else if (res?.success === false) {\r\n                toast.error(\"La vrification a chou.\");\r\n            }\r\n        } catch (e) {\r\n            console.error(e);\r\n            setError((e && e.message) || \"Erreur lors de la vrification.\");\r\n            toast.error(\"Erreur lors de la vrification\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchStatus();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [transaction]);\r\n\r\n    return (\r\n        <Layout childrenClasses=\"pt-0 pb-0\">\r\n            <div className=\"max-w-5xl mx-auto px-4 py-10\">\r\n                {/* Fil dAriane */}\r\n                <div className=\"text-sm text-gray-500 mb-6\">\r\n                    <Link to=\"/\" className=\"hover:underline\">Accueil</Link> /{\" \"}\r\n                    <span className=\"text-gray-700\">Vrification Paiement Orange Money</span>\r\n                </div>\r\n\r\n                <h1 className=\"text-2xl sm:text-3xl font-bold text-gray-900 mb-6\">\r\n                    Vrification Paiement Orange Money\r\n                </h1>\r\n\r\n                <div className=\"bg-white rounded-xl shadow border p-6 sm:p-8\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        {ui.icon}\r\n                        <div>\r\n                            <div className={`inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium ${ui.badgeClass}`}>\r\n                                {safe((payload && payload.status), \"PENDING\")}\r\n                            </div>\r\n                            <h2 className=\"text-xl font-semibold text-gray-900 mt-2\">{ui.title}</h2>\r\n                            <p className=\"text-gray-600\">\r\n                                {normalizedStatus === \"PENDING\"\r\n                                    ? \"Si vous avez valid sur votre tlphone, cliquez sur  Vrifier  nouveau .\"\r\n                                    : normalizedStatus === \"SUCCESS\"\r\n                                        ? \"Votre paiement a bien t valid.\"\r\n                                        : \"Le paiement na pas pu tre confirm.\"}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Erreur rseau/API */}\r\n                    {error && (\r\n                        <div className=\"mt-4 flex items-start gap-2 rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700\">\r\n                            <AlertTriangle className=\"mt-0.5 h-5 w-5\" />\r\n                            <span>{error}</span>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Dtails */}\r\n                    <div className=\"mt-8 space-y-6\">\r\n                        <Section title=\"Informations de transaction\">\r\n                            {/* <Row label=\"Transaction ID (OM)\" value={safe(payload?.transaction_id)} /> */}\r\n                            <Row label=\"Transaction ID (Oprateur)\" value={safe((payload && payload.transactionId))} />\r\n                            <Row label=\"Rfrence\" value={safe((payload && payload.reference))} />\r\n                            <Row label=\"Montant\" value={`${asPrice((payload && payload.amount))} ${safe((payload && payload.currency), \"XOF\")}`} />\r\n                            <Row label=\"Tlphone\" value={safe((payload && payload.customer_msisdn))} />\r\n                            <Row label=\"Description\" value={safe((payload && payload.description))} />\r\n                            <Row label=\"Statut Paiement\" value={safe((payload && payload.status) === \"SUCCESS\" ? \"VALIDER\" : \"En attente\" )} />\r\n                            {/* <Row label=\"Canal\" value={safe((payload && payload.channel))} /> */}\r\n                            <Row label=\"Cr le\" value={safe((payload && payload.created_at))} />\r\n                        </Section>\r\n\r\n                        <Section title=\"Commande\">\r\n                            <Row label=\"Numro\" value={safe((payload && payload.order && payload.order.name))} />\r\n                            <Row label=\"Total commande\" value={`${asPrice((payload && payload.order && payload.order.amount_total))} ${(payload && payload.currency) || \"XOF\"}`} />\r\n                        </Section>\r\n\r\n                        <div className=\"flex flex-col sm:flex-row gap-3\">\r\n                            <Button onClick={fetchStatus} isProcessing={loading} className=\"w-full sm:w-auto\">\r\n                                Vrifier  nouveau\r\n                            </Button>\r\n\r\n                            {/* <Button color=\"light\" onClick={() => navigate(-1)} className=\"w-full sm:w-auto\">\r\n                                Retour au profil\r\n                            </Button> */}\r\n\r\n                            {orderUrl && (\r\n                                <a\r\n                                    href={orderUrl}\r\n                                    className=\"inline-flex items-center justify-center rounded-lg border px-4 py-2 text-sm font-medium hover:bg-gray-50 w-full sm:w-auto\"\r\n                                >\r\n                                    Ouvrir la commande <ExternalLink className=\"ml-2 h-4 w-4\" />\r\n                                </a>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n}\r\n\r\n/* ---------- Sous-composants ---------- */\r\n\r\nfunction Section({ title, children }) {\r\n    return (\r\n        <div>\r\n            <div className=\"flex items-center gap-2 mb-3\">\r\n                <span className=\"inline-block h-2 w-2 rounded-full bg-blue-500\" />\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">{title}</h3>\r\n            </div>\r\n            <dl className=\"divide-y divide-gray-100 border border-gray-100 rounded-lg\">\r\n                {children}\r\n            </dl>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Row({ label, value }) {\r\n    return (\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-2 px-4 py-3\">\r\n            <dt className=\"text-sm text-gray-500\">{label}</dt>\r\n            <dd className=\"sm:col-span-2 text-sm text-gray-900\">{value}</dd>\r\n        </div>\r\n    );\r\n}\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react/prop-types */\r\n// /* eslint-disable no-unused-vars */\r\n// /* eslint-disable react/prop-types */\r\n// import { createBrowserRouter, RouterProvider, Navigate } from \"react-router-dom\";\r\n// // import { useAuthContext } from \"./context/AuthContext\";\r\n// // import DefaultLayout from \"./layouts/DefaultLayout\";\r\n// // import AuthLayout from \"./layouts/AuthLayout\";\r\n\r\n// // Import all your components here\r\n// import Home from \"./components/Home\";\r\n// import AllProductPage from \"./components/AllProductPage\";\r\n// import ProductPrecommandePage from \"./components/ProductPrecommandePage\";\r\n// import SingleProductPage from \"./components/SingleProductPage\";\r\n// import PreOrderPage from \"./components/PreOrder\";\r\n// import CreditOrderPage from \"./components/CreditOrder\";\r\n// import OrderPage from \"./components/Order\";\r\n// import OrderPaymentPage from \"./components/OrderPayment\";\r\n// import PaymentStatePage from \"./components/PaymentState\";\r\n// import CardPage from \"./components/CartPage\";\r\n// import PreCardPage from \"./components/PreCardPage\";\r\n// import CheakoutPage from \"./components/CheakoutPage\";\r\n// import Wishlist from \"./components/Wishlist\";\r\n// import CreditCartPage from \"./components/CreditCartPage\";\r\n// import ProductsCompaire from \"./components/ProductsCompaire\";\r\n// import About from \"./components/About\";\r\n// import TrackingOrder from \"./components/TrackingOrder\";\r\n// import Contact from \"./components/Contact\";\r\n// import Faq from \"./components/Faq\";\r\n// import Login from \"./components/Auth/Login\";\r\n// import NewPassword from \"./components/Auth/NewPassword\";\r\n// import ResetPassword from \"./components/Auth/ResetPassword\";\r\n// import Signup from \"./components/Auth/Signup\";\r\n// import CreateCompte from \"./components/Auth/CreateCompte\";\r\n// import Profile from \"./components/Auth/Profile\";\r\n// import PrivacyPolicy from \"./components/PrivacyPolicy\";\r\n// import TermsCondition from \"./components/TermsCondition\";\r\n// import Entreprise from \"./components/GestionEntreprise/Profile\";\r\n// import ConditionGeneralDeVentePage from \"./components/ConditionsGeneralesDeVente\";\r\n// import LivraisonEtRetoursPage from \"./components/LivraisonEtRetours\";\r\n// import AchatSecurisesPage from \"./components/AchatsSecurises\";\r\n// import PolitiqueDeConfidentialitePage from \"./components/PolitiqueDeConfidentialite\";\r\n// import FourZeroFour from \"./components/FourZeroFour\";\r\n// import { useAuthContext } from \"./contexts/useAuthContext\";\r\n// import ProductCreditPage from \"./components/ProductCreditPage\";\r\n// import ProcessusCommandeCredit from \"./components/ProcessusCommandeCredit\";\r\n// import PromoProductPage from \"./components/EnPromo\";\r\n// import Information from \"./components/About/information\";\r\n\r\n// const ProtectedRoute = ({ children }) => {\r\n//   const { isAuthenticated } = useAuthContext();\r\n//   return isAuthenticated ? children : <Navigate to=\"/login\" replace />;\r\n// };\r\n\r\n// function Routers() {\r\n//   const router = createBrowserRouter([\r\n//     {\r\n//       // element: <DefaultLayout />,\r\n//       children: [\r\n//         { path: \"/\", element: <Home /> },\r\n//         { path: \"/boutique\", element: <AllProductPage /> },\r\n//         { path: \"/en-promo\", element: <PromoProductPage /> },\r\n//         { path: \"/all-products\", element: <AllProductPage /> },\r\n//         { path: \"/pre-commandes\", element: <ProductPrecommandePage /> },\r\n//         { path: \"/single-product/:id\", element: <SingleProductPage /> },\r\n//         { path: \"/products-compaire\", element: <ProductsCompaire /> },\r\n//         // { path: \"/about\", element: <About /> },\r\n//         { path: \"/informations\", element: <Information /> },\r\n//         { path: \"/tracking-order\", element: <TrackingOrder /> },\r\n//         // { path: \"/contact\", element: <Contact /> },\r\n//         { path: \"/faq\", element: <Faq /> },\r\n//         { path: \"/privacy-policy\", element: <PrivacyPolicy /> },\r\n//         { path: \"/terms-condition\", element: <TermsCondition /> },\r\n//         { path: \"/conditions-generales-de-vente\", element: <ConditionGeneralDeVentePage /> },\r\n//         { path: \"/livraison-et-retours\", element: <LivraisonEtRetoursPage /> },\r\n//         { path: \"/achats-securises\", element: <AchatSecurisesPage /> },\r\n//         { path: \"/politique-de-confidentialite\", element: <PolitiqueDeConfidentialitePage /> },\r\n//         {\r\n//           path: \"/processus-de-commande-de-credit\", element: <ProcessusCommandeCredit />,\r\n//         },\r\n\r\n//         {\r\n//           path: \"/cart\",\r\n//           element: <CardPage />\r\n//         },\r\n//         {\r\n//           path: \"/pre-cart\",\r\n//           element: <PreCardPage />,\r\n//         }, { path: \"/credit-commandes\", element: <ProductCreditPage /> },\r\n//         {\r\n//           path: \"/wishlist\",\r\n//           element: <Wishlist />\r\n//         },\r\n\r\n//       ],\r\n//     },\r\n//     {\r\n//       // element: <AuthLayout />,\r\n//       children: [\r\n//         { path: \"/login\", element: <Login /> },\r\n//         { path: \"/new-password\", element: <NewPassword /> },\r\n//         { path: \"/forgot-password\", element: <ResetPassword /> },\r\n//         { path: \"/signup\", element: <Signup /> },\r\n//         { path: \"/create-compte\", element: <CreateCompte /> },\r\n//       ],\r\n//     },\r\n//     {\r\n//       // element: <ProtectedLayout />,\r\n//       children: [\r\n//         {\r\n//           path: \"/pre-commandes/:id/dtails\",\r\n//           element: <ProtectedRoute><PreOrderPage /></ProtectedRoute>,\r\n//         },\r\n//         {\r\n//           path: \"/credit-commandes/:id/dtails\",\r\n//           element: <ProtectedRoute><CreditOrderPage /></ProtectedRoute>,\r\n//         },\r\n//         {\r\n//           path: \"/commandes/:id/dtails\",\r\n//           element: <ProtectedRoute><OrderPage /></ProtectedRoute>,\r\n//         },\r\n//         {\r\n//           path: \"/commande-validation\",\r\n//           element: <ProtectedRoute><OrderPaymentPage /></ProtectedRoute>,\r\n//         },\r\n//         {\r\n//           path: \"/payment-state\",\r\n//           element: <PaymentStatePage />,\r\n//         },\r\n//         // {\r\n//         //   path: \"/cart\",\r\n//         //   element: <ProtectedRoute><CardPage /></ProtectedRoute>,\r\n//         // },\r\n//         // {\r\n//         //   path: \"/pre-cart\",\r\n//         //   element: <ProtectedRoute><PreCardPage /></ProtectedRoute>,\r\n//         // },\r\n//         {\r\n//           path: \"/checkout\",\r\n//           element: <ProtectedRoute><CheakoutPage /></ProtectedRoute>,\r\n//         },\r\n\r\n//         {\r\n//           path: \"/credit-cart\",\r\n//           element: <ProtectedRoute><CreditCartPage /></ProtectedRoute>,\r\n//         },\r\n//         {\r\n//           path: \"/profile\",\r\n//           element: <ProtectedRoute><Profile /></ProtectedRoute>,\r\n//         },\r\n//         {\r\n//           path: \"/entreprise\",\r\n//           element: <ProtectedRoute><Entreprise /></ProtectedRoute>,\r\n//         },\r\n//       ],\r\n//     },\r\n//     { path: \"*\", element: <FourZeroFour /> },\r\n//   ]);\r\n\r\n//   return <RouterProvider router={router} />;\r\n// }\r\n\r\n// export default Routers;\r\n\r\nimport React, { Suspense, lazy, useContext, useEffect } from \"react\"\r\nimport { createBrowserRouter, RouterProvider, Navigate, useLocation } from \"react-router-dom\"\r\nimport { useAuthContext } from \"./contexts/useAuthContext\"\r\nimport PackPromoPage from \"./components/Pack/pack-promo\"\r\nimport PromoFalshKoritePage from \"./components/PromoFalshKoritePage\"\r\nimport VerifyOTP from \"./components/Auth/VerifyOTP\"\r\nimport PromoFalshTabaskiPage from \"./components/PromoFalshKoritePage\"\r\nimport WavePaymentVerifyPage from \"./components/payments/WavePaymentVerifyPage\"\r\nimport OmPaymentVerifyPage from \"./components/payments/OmPaymentVerifyPage\"\r\n\r\n// Lazy load all components\r\nconst Home = lazy(() => import(\"./components/Home\"))\r\nconst AllProductPage = lazy(() => import(\"./components/AllProductPage\"))\r\nconst SingleProductPage = lazy(() => import(\"./components/SingleProductPage\"))\r\nconst PromoFalshPage = lazy(() => import(\"./components/PromoFalshPage\"))\r\nconst PreOrderPage = lazy(() => import(\"./components/PreOrder\"))\r\nconst CreditOrderPage = lazy(() => import(\"./components/CreditOrder\"))\r\nconst OrderPage = lazy(() => import(\"./components/Order\"))\r\nconst OrderPaymentPage = lazy(() => import(\"./components/OrderPayment\"))\r\nconst PaymentStatePage = lazy(() => import(\"./components/PaymentState\"))\r\nconst CardPage = lazy(() => import(\"./components/CartPage\"))\r\nconst PreCardPage = lazy(() => import(\"./components/PreCardPage\"))\r\nconst CheakoutPage = lazy(() => import(\"./components/CheakoutPage\"))\r\nconst Wishlist = lazy(() => import(\"./components/Wishlist\"))\r\nconst CreditCartPage = lazy(() => import(\"./components/CreditCartPage\"))\r\nconst ProductsCompaire = lazy(() => import(\"./components/ProductsCompaire\"))\r\nconst TrackingOrder = lazy(() => import(\"./components/TrackingOrder\"))\r\nconst Faq = lazy(() => import(\"./components/Faq\"))\r\nconst Login = lazy(() => import(\"./components/Auth/Login\"))\r\nconst NewPassword = lazy(() => import(\"./components/Auth/NewPassword\"))\r\nconst ResetPassword = lazy(() => import(\"./components/Auth/ResetPassword\"))\r\nconst Signup = lazy(() => import(\"./components/Auth/Signup\"))\r\nconst CreateCompte = lazy(() => import(\"./components/Auth/CreateCompte\"))\r\nconst Profile = lazy(() => import(\"./components/Auth/Profile\"))\r\nconst PrivacyPolicy = lazy(() => import(\"./components/PrivacyPolicy\"))\r\nconst TermsCondition = lazy(() => import(\"./components/TermsCondition\"))\r\nconst ConditionGeneralDeVentePage = lazy(() => import(\"./components/ConditionsGeneralesDeVente\"))\r\nconst LivraisonEtRetoursPage = lazy(() => import(\"./components/LivraisonEtRetours\"))\r\nconst AchatSecurisesPage = lazy(() => import(\"./components/AchatsSecurises\"))\r\nconst PolitiqueDeConfidentialitePage = lazy(() => import(\"./components/PolitiqueDeConfidentialite\"))\r\n\r\nconst ProductCreditPage = lazy(() => import(\"./components/ProductCreditPage\"))\r\nconst ProcessusCommandeCredit = lazy(() => import(\"./components/ProcessusCommandeCredit\"))\r\nconst PromoProductPage = lazy(() => import(\"./components/EnPromo\"))\r\nconst VenteCherPage = lazy(() => import(\"./components/VenteCherPage\"))\r\nconst VenteCherCartPage = lazy(() => import(\"./components/VenteCherCartPage\"))\r\nconst Information = lazy(() => import(\"./components/About/information\"))\r\n\r\n// Create a loading component\r\n// const Loading = () => <div className=\"flex items-center justify-center min-h-screen\">\r\n//   <div className=\"spinner-border animate-spin inline-block w-8 h-8 border-4 rounded-full text-blue-500\" role=\"status\">\r\n//     <span className=\"visually-hidden\"></span>\r\n//   </div>\r\n// </div>\r\n\r\n\r\n\r\n\r\nconst Loading = () => (\r\n  <div className=\"flex flex-col items-center justify-center min-h-screen\">\r\n    <img\r\n      src=\"/logo_192.png\"\r\n      alt=\"CCBM Shop - Loading logo\"\r\n      className=\"max-w-[150px] max-h-[150px] mb-4 animate-pulse object-contain\"\r\n    />\r\n    <div\r\n      className=\"spinner-border animate-spin inline-block w-8 h-8 border-4 rounded-full text-blue-500\"\r\n      role=\"status\"\r\n    >\r\n      <span className=\"visually-hidden\"></span>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n\r\nconst ProtectedRoute = ({ children }) => {\r\n  const { isAuthenticated } = useAuthContext()\r\n  return isAuthenticated ? children : <Navigate to=\"/login\" replace />\r\n}\r\n\r\nfunction Routers() {\r\n\r\n\r\n  const router = createBrowserRouter([\r\n    {\r\n      children: [\r\n        {\r\n          path: \"/\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <Home />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/boutique\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <AllProductPage />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/produits\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <AllProductPage />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/en-promo\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <PromoProductPage />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/vente-en-cher\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <VenteCherPage />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: '/promo-ramadan',\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <PromoFalshPage />\r\n            </Suspense>\r\n          )\r\n        },\r\n        {\r\n          path: '/promo-tabaski',\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <PromoFalshTabaskiPage />\r\n            </Suspense>\r\n          )\r\n        },\r\n        {\r\n          path: \"/all-products\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <AllProductPage />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/pre-commandes\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <AllProductPage />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/single-product/:id\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <SingleProductPage />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/produits/:id/details\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <SingleProductPage />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/products-compaire\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <ProductsCompaire />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/informations\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <Information />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/tracking-order\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <TrackingOrder />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/faq\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <Faq />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/privacy-policy\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <PrivacyPolicy />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/terms-condition\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <TermsCondition />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/conditions-generales-de-vente\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <ConditionGeneralDeVentePage />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/livraison-et-retours\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <LivraisonEtRetoursPage />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/achats-securises\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <AchatSecurisesPage />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/politique-de-confidentialite\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <PolitiqueDeConfidentialitePage />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/processus-de-commande-de-credit\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <ProcessusCommandeCredit />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/cart\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <CardPage />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/pre-cart\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <PreCardPage />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/vente-cher-cart\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <VenteCherCartPage />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/credit-commandes\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <ProductCreditPage />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/wishlist\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <Wishlist />\r\n            </Suspense>\r\n          ),\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      children: [\r\n        {\r\n          path: \"/login\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <Login />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/new-password\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <NewPassword />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/forgot-password\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <ResetPassword />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/signup\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <Signup />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/verification-code\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <VerifyOTP />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/inscription\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <Signup />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/create-compte\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <CreateCompte />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/pack-promo\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <PackPromoPage />\r\n            </Suspense>\r\n          )\r\n        }\r\n      ],\r\n    },\r\n    {\r\n      children: [\r\n        {\r\n          path: \"/pre-commandes/:id/dtails\",\r\n          element: (\r\n            <ProtectedRoute>\r\n              <Suspense fallback={<Loading />}>\r\n                <PreOrderPage />\r\n              </Suspense>\r\n            </ProtectedRoute>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/credit-commandes/:id/dtails\",\r\n          element: (\r\n            <ProtectedRoute>\r\n              <Suspense fallback={<Loading />}>\r\n                <CreditOrderPage />\r\n              </Suspense>\r\n            </ProtectedRoute>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/commandes/:id/dtails\",\r\n          element: (\r\n            <ProtectedRoute>\r\n              <Suspense fallback={<Loading />}>\r\n                <OrderPage />\r\n              </Suspense>\r\n            </ProtectedRoute>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/commande-validation\",\r\n          element: (\r\n            <ProtectedRoute>\r\n              <Suspense fallback={<Loading />}>\r\n                <OrderPaymentPage />\r\n              </Suspense>\r\n            </ProtectedRoute>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/payment-state\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <PaymentStatePage />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/wave-paiement\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <WavePaymentVerifyPage  />\r\n            </Suspense>\r\n          ),\r\n        },\r\n         {\r\n          path: \"/om-paiement\",\r\n          element: (\r\n            <Suspense fallback={<Loading />}>\r\n              <OmPaymentVerifyPage   />\r\n            </Suspense>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/checkout\",\r\n          element: (\r\n            <ProtectedRoute>\r\n              <Suspense fallback={<Loading />}>\r\n                <CheakoutPage />\r\n              </Suspense>\r\n            </ProtectedRoute>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/credit-cart\",\r\n          element: (\r\n            <ProtectedRoute>\r\n              <Suspense fallback={<Loading />}>\r\n                <CreditCartPage />\r\n              </Suspense>\r\n            </ProtectedRoute>\r\n          ),\r\n        },\r\n        {\r\n          path: \"/profile\",\r\n          element: (\r\n            <ProtectedRoute>\r\n              <Suspense fallback={<Loading />}>\r\n                <Profile />\r\n              </Suspense>\r\n            </ProtectedRoute>\r\n          ),\r\n        },\r\n        // {\r\n        //   path: \"/entreprise\",\r\n        //   element: (\r\n        //     <ProtectedRoute>\r\n        //       <Suspense fallback={<Loading />}>\r\n        //         <Entreprise />\r\n        //       </Suspense>\r\n        //     </ProtectedRoute>\r\n        //   ),\r\n        // },\r\n      ],\r\n    },\r\n    {\r\n      path: \"*\",\r\n      element: (\r\n        <Suspense fallback={<Loading />}>\r\n          {/* <FourZeroFour /> */}\r\n          <Home />\r\n        </Suspense>\r\n      ),\r\n    },\r\n  ])\r\n\r\n\r\n  return <RouterProvider router={router} />\r\n}\r\n\r\nexport default Routers\r\n\r\n","import React from \"react\";\n\nconst PaymentContext = React.createContext({});\n\nexport default PaymentContext;\n","/* eslint-disable no-unused-vars */\n/* eslint-disable react/prop-types */\n\nimport React, { useEffect, useState } from \"react\";\nimport PaymentContext from \"./PaymentContext\";\n\nconst PaymentProvider = ({ children }) => {\n  const [payment, setPayment] = useState(\n    JSON.parse(localStorage.getItem(\"payment\")) || {}\n  );\n\n  useEffect(() => {\n    localStorage.setItem(\"payment\", JSON.stringify(payment));\n  }, [payment]);\n\n  const setUserPayment = (user) => {\n    if (!user) {\n      const userLocal = JSON.parse(localStorage.getItem(\"user\"));\n      setPayment({ ...payment, userPayment: userLocal });\n    } else {\n      setPayment({ ...payment, userPayment: user });\n    }\n  };\n\n  const setOrder = (order) => {\n    setPayment({ ...payment, order });\n  };\n\n  const setPaymentDetails = (details) => {\n    setPayment({ ...payment, details });\n  };\n\n  const setTotalAmount = (amount) => {\n    setPayment({ ...payment, totalAmount: amount });\n  };\n\n  const clearPayment = () => {\n    setPayment({});\n    localStorage.removeItem(\"payment\");\n  };\n\n  return (\n    <PaymentContext.Provider\n      value={{\n        payment,\n        setUserPayment,\n        setOrder,\n        setPaymentDetails,\n        clearPayment,\n        setTotalAmount,\n      }}\n    >\n      {children}\n    </PaymentContext.Provider>\n  );\n};\n\nexport default PaymentProvider;\n","import { clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nconst cn = (...inputs) => {\n  return twMerge(clsx(inputs));\n};\n\nexport default cn;\n\n","import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva } from \"class-variance-authority\";\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props} />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef(({ className, variant, ...props }, ref) => {\n  return (\n    (<ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props} />)\n  );\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props} />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}>\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title ref={ref} className={cn(\"text-sm font-semibold\", className)} {...props} />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description ref={ref} className={cn(\"text-sm opacity-90\", className)} {...props} />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\nexport { ToastProvider, ToastViewport, Toast, ToastTitle, ToastDescription, ToastClose, ToastAction };\n","// Inspired by react-hot-toast library\nimport * as React from \"react\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\"\n}\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString();\n}\n\nconst toastTimeouts = new Map()\n\nconst addToRemoveQueue = (toastId) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      };\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t),\n      };\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t),\n      };\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      };\n  }\n}\n\nconst listeners = []\n\nlet memoryState = { toasts: [] }\n\nfunction dispatch(action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\nfunction toast({\n  ...props\n}) {\n  const id = genId()\n\n  const update = (props) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    };\n  }, [])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  };\n}\n\nexport { useToast, toast }\n","import {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"./toast\"\nimport { useToast } from \"./use-toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    (<ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          (<Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>)\n        );\n      })}\n      <ToastViewport />\n    </ToastProvider>)\n  );\n}\n","import { CartProvider } from \"./contexts/CartContext\";\r\nimport Routers from \"./Routers\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"./global.css\";\r\nimport PaymentProvider from \"./contexts/PaymentProvider\";\r\nimport { ProductProvider } from \"./Provider/ProductContext\";\r\nimport { AuthProvider } from \"./contexts/useAuthContext\";\r\nimport { CategoryProvider } from \"./Provider/CategoryContext\";\r\nimport { PromoProductProvider } from \"./Provider/PromoProductContext\";\r\nimport { VenteCherProvider } from \"./Provider/VenteCherContext\";\r\nimport { Toaster } from \"./components/ui/toaster\";\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <AuthProvider>\r\n      <ToastContainer />\r\n      <Toaster />\r\n      <CategoryProvider>\r\n        <ProductProvider>\r\n          <PromoProductProvider>\r\n            <VenteCherProvider>\r\n              <PaymentProvider>\r\n                <CartProvider>\r\n                  <Routers />\r\n                </CartProvider>\r\n              </PaymentProvider>\r\n            </VenteCherProvider>\r\n          </PromoProductProvider>\r\n        </ProductProvider>\r\n      </CategoryProvider>\r\n    </AuthProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\n\nconst store = configureStore({\n  reducer: {\n  },\n});\nexport default store;\n","// Systme de vrification de version automatique\r\n// Force la mise  jour sur tous les navigateurs\r\n\r\nlet checkInterval = null;\r\nlet lastVersion = null;\r\n\r\n/**\r\n * Rcupre la version actuelle depuis le meta tag build-version\r\n */\r\nexport function getCurrentVersion() {\r\n  const metaTag = document.querySelector('meta[name=\"build-version\"]');\r\n  return metaTag ? metaTag.getAttribute('content') : null;\r\n}\r\n\r\n/**\r\n * Rcupre la version du serveur en vrifiant index.html\r\n */\r\nasync function fetchServerVersion() {\r\n  try {\r\n    // Ajouter un timestamp pour viter le cache\r\n    const response = await fetch(`/index.html?t=${Date.now()}`, {\r\n      cache: 'no-store',\r\n      headers: {\r\n        'Cache-Control': 'no-cache',\r\n        'Pragma': 'no-cache',\r\n      }\r\n    });\r\n    \r\n    if (!response.ok) return null;\r\n    \r\n    const html = await response.text();\r\n    const match = html.match(/<meta\\s+name=[\"']build-version[\"']\\s+content=[\"']([^\"']+)[\"']/i);\r\n    return match ? match[1] : null;\r\n  } catch (error) {\r\n    console.warn('Erreur lors de la vrification de version:', error);\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Force le rechargement de la page pour obtenir la nouvelle version\r\n */\r\nfunction forceReload() {\r\n  console.log(' Nouvelle version dtecte - Rechargement automatique...');\r\n  \r\n  // Effacer tous les caches possibles\r\n  if ('caches' in window) {\r\n    caches.keys().then(names => {\r\n      names.forEach(name => {\r\n        caches.delete(name);\r\n      });\r\n    });\r\n  }\r\n  \r\n  // Recharger la page avec un timestamp pour viter le cache\r\n  window.location.href = window.location.href.split('?')[0] + `?v=${Date.now()}`;\r\n  \r\n  // Fallback si le rechargement ne fonctionne pas\r\n  setTimeout(() => {\r\n    window.location.reload(true);\r\n  }, 1000);\r\n}\r\n\r\n/**\r\n * Vrifie si une nouvelle version est disponible\r\n */\r\nasync function checkForUpdate() {\r\n  const serverVersion = await fetchServerVersion();\r\n  const currentVersion = getCurrentVersion();\r\n  \r\n  if (!serverVersion) {\r\n    // Si on ne peut pas rcuprer la version serveur, on continue\r\n    return;\r\n  }\r\n  \r\n  if (currentVersion && serverVersion && serverVersion !== currentVersion) {\r\n    console.log(` Nouvelle version disponible: ${currentVersion} -> ${serverVersion}`);\r\n    forceReload();\r\n    return true;\r\n  }\r\n  \r\n  return false;\r\n}\r\n\r\n/**\r\n * Dmarre la vrification automatique de version\r\n * @param {number} intervalMs - Intervalle de vrification en millisecondes (dfaut: 2 minutes)\r\n */\r\nexport function startVersionChecker(intervalMs = 2 * 60 * 1000) {\r\n  // Arrter tout intervalle existant\r\n  if (checkInterval) {\r\n    stopVersionChecker();\r\n  }\r\n  \r\n  // Vrifier immdiatement\r\n  checkForUpdate();\r\n  \r\n  // Vrifier priodiquement\r\n  checkInterval = setInterval(() => {\r\n    checkForUpdate().catch(error => {\r\n      console.warn('Erreur lors de la vrification de version:', error);\r\n    });\r\n  }, intervalMs);\r\n  \r\n  console.log(` Vrification automatique de version active (toutes les ${intervalMs / 1000}s)`);\r\n  \r\n  // Vrifier aussi lors de la visibilit de la page (quand l'utilisateur revient sur l'onglet)\r\n  document.addEventListener('visibilitychange', () => {\r\n    if (!document.hidden) {\r\n      checkForUpdate();\r\n    }\r\n  });\r\n  \r\n  // Vrifier lors de la reconnexion rseau\r\n  window.addEventListener('online', () => {\r\n    checkForUpdate();\r\n  });\r\n}\r\n\r\n/**\r\n * Arrte la vrification automatique\r\n */\r\nexport function stopVersionChecker() {\r\n  if (checkInterval) {\r\n    clearInterval(checkInterval);\r\n    checkInterval = null;\r\n  }\r\n}\r\n\r\n// Dmarrage automatique si le script est charg\r\nif (typeof window !== 'undefined') {\r\n  // Attendre que le DOM soit prt\r\n  if (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', () => {\r\n      startVersionChecker();\r\n    });\r\n  } else {\r\n    startVersionChecker();\r\n  }\r\n}\r\n","// Polyfill pour optional chaining (Safari < 14)\nif (!Object.prototype.hasOwnProperty.call(Object.prototype, '__optionalChainingPolyfill')) {\n  (function() {\n    if (typeof window !== 'undefined' && !window.__optionalChainingPolyfill) {\n      // Polyfill simple pour ?. - sera utilis si le navigateur ne le supporte pas\n      // Note: Ceci est une solution de secours, la transpilation devrait grer la plupart des cas\n      window.__optionalChainingPolyfill = true;\n    }\n  })();\n}\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n// Import du systme de vrification de version automatique\nimport \"./utils/versionChecker\";\n\nReactDOM.createRoot(document.getElementById(\"root\")).render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>\n);\n\n\n\n\n"],"file":"assets/js/index-DxAeoNi_vcMUlDbs.js"}
var oe=Object.defineProperty,de=Object.defineProperties;var me=Object.getOwnPropertyDescriptors;var X=Object.getOwnPropertySymbols;var pe=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var Y=(r,l,o)=>l in r?oe(r,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[l]=o,p=(r,l)=>{for(var o in l||(l={}))pe.call(l,o)&&Y(r,o,l[o]);if(X)for(var o of X(l))xe.call(l,o)&&Y(r,o,l[o]);return r},x=(r,l)=>de(r,me(l));import{C as B,j as e,f as k,Q as ue,u as he,l as be,m as fe,p as je,A as ge,t as ee,n as se,B as h}from"./index-D2o1u-UB.js";import{b as c,u as ye,L as Ne}from"./vendor-DZBautpX.js";import{M as ve,P as we}from"./plus-C8rWHOGA.js";import{B as Ce}from"./BannerPub-BTqYG0aA.js";import{c as z}from"./creditCommandeService-C9TWXmwA.js";import{g as _e}from"./entrepriseFunctionService-DWNAJl4-.js";import"./truck-Xp6V6mBC.js";function ke({produit:r}){const{updateCreditOrder:l}=c.useContext(B),o=v=>{v.preventDefault(),l(r,r.quantity+1)},S=v=>{console.log("produit.quantity"),console.log(r.quantity),v.preventDefault(),r.quantity>1&&l(r,r.quantity-1)};return e.jsx("div",{className:"w-[120px] h-[40px] px-[26px] flex items-center border border-qgray-border",children:e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsx("button",{onClick:S,type:"button",className:"text-base text-qgray",children:e.jsx(ve,{})}),e.jsx("span",{className:"text-qblack",children:r.quantity?r.quantity:0}),e.jsx("button",{onClick:o,type:"button",className:"text-base text-qgray",children:e.jsx(we,{})})]})})}function Se({className:r}){const{creditOrder:l,clearCreditOrder:o,removeFromCreditOrder:S}=c.useContext(B);console.log(l);const v=(a,y)=>{a.preventDefault(),S(y)};return e.jsxs("div",{className:`w-full ${r||""}`,children:[e.jsx("div",{className:"relative w-full overflow-x-auto border border-[#EDEDED]",children:e.jsx("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"text-[13px] font-medium text-black bg-[#F6F6F6] whitespace-nowrap px-2 border-b default-border-bottom uppercase",children:[e.jsx("td",{className:"py-4 pl-10 block whitespace-nowrap min-w-[300px]",children:"product"}),e.jsx("td",{className:"py-4 whitespace-nowrap text-center",children:"Prix"}),e.jsx("td",{className:"py-4 whitespace-nowrap  text-center",children:"Quantité"}),e.jsx("td",{className:"py-4 whitespace-nowrap  text-center",children:"total"}),e.jsx("td",{className:"py-4 whitespace-nowrap text-right w-[114px]"})]}),l&&l.map((a,y)=>e.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[e.jsx("td",{className:"pl-10  py-4  w-[380px]",children:e.jsxs("div",{className:"flex space-x-6 items-center",children:[e.jsx("div",{className:"w-[80px] h-[80px] overflow-hidden flex justify-center items-center border border-[#EDEDED]",children:e.jsx("img",{src:`${a.image_256?"data:image/png;base64,"+a.image_256:"https://readymadeui.com/images/coffee1.webp"}`,alt:"product",className:"w-full h-full object-contain"})}),e.jsx("div",{className:"flex-1 flex flex-col",children:e.jsx("p",{className:"font-medium text-[15px] text-qblack",children:a.name})})]})}),e.jsx("td",{className:"text-center py-4 px-2",children:e.jsx("div",{className:"flex space-x-1 items-center justify-center",children:e.jsxs("span",{className:"text-[15px] font-normal",children:[" ",k(a.creditorder_price)]})})}),e.jsx("td",{className:" py-4",children:e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(ke,{produit:a})})}),e.jsx("td",{className:"text-right py-4",children:e.jsx("div",{className:"flex space-x-1 items-center justify-center",children:e.jsxs("span",{className:"text-[15px] font-normal",children:[" ",k(a.creditorder_price*a.quantity)]})})}),e.jsx("td",{className:"text-right py-4",children:e.jsx("div",{className:"flex space-x-1 items-center justify-center",children:e.jsx("button",{onClick:b=>v(b,a),className:"duration-200 hover:scale-150",children:e.jsx(ue,{className:"hover:text-red-500"})})})})]},y))]})})}),e.jsx("div",{className:" mt-3 transition-all duration-300 ease-in-out bg-gray-200 text-[15px]  rounded-lg font-medium text-black  text-center py-2",children:"Livraison gratuite sur Dakar"})]})}function Ie({cartt:r=!0}){const l=ye(),{creditOrder:o,getCreditOrderTotal:S,clearCreditOrder:v}=c.useContext(B),{user:a,parent:y}=he();console.log(a);const[b,R]=c.useState("direct"),Q=b==="finance",[D,te]=c.useState(50),[F,ae]=c.useState(4),ne=[30,40,50,60,70,80,90,100],[L,re]=c.useState([]),[M,Z]=c.useState(!1),[q,H]=c.useState(""),[j,$]=c.useState(""),N=c.useMemo(()=>b==="finance"?L.filter(s=>s.type_partner==="banque"):L.filter(s=>s.type_partner!=="banque"),[L,b]),[n,f]=c.useState({nom:a&&a.nom||"",prenom:a&&a.prenom||"",dateNaissance:a&&a.date_naissance||"",lieuNaissance:a&&a.lieu_naissance||"",telephone:a&&(a.telephone||a.phone||a.whatsapp_number)||"",email:a&&a.email||"",cniNumber:a&&a.cni_number||"",profession:a&&a.profession||"",rib:a&&a.rib||"",adresse:a&&a.adresse||"",adresseEmployeur:"",nationalite:a&&a.nationalite||"",salary_monthly:a&&a.salary_monthly||"",kyc_id_number:a&&a.kyc_id_number||"",notes:"",kyc_id_type:"",kyc_id_expiry:"",whatsapp_number:a&&a.whatsapp_number||"",preferred_contact_channel:"",job_title:""}),[A,le]=c.useState({salarySlips:[],bankStatements:[]}),[C,I]=c.useState(!1),T=c.useRef(null),m=S()||0,U=c.useMemo(()=>{const t=m/1.18;return m-t},[m]),J=c.useMemo(()=>{if(b!=="direct")return[];if(!m)return[];const s=Math.min(100,Math.max(30,D||30)),t=Math.min(5,Math.max(1,F||1));if(s===100||t===1)return[{label:"Paiement unique",amount:m,dueAt:new Date}];const d=m*s/100,g=Math.max(0,m-d),i=t-1,_=g/i,P=Math.round(_*100)/100,w=[];w.push({label:`Acompte (${s}%)`,amount:Math.round(d*100)/100,dueAt:new Date});let O=0;for(let E=1;E<=i;E++){const V=new Date;V.setMonth(V.getMonth()+E);const K=E<i?P:Math.round((g-O)*100)/100;O=Math.round((O+K)*100)/100,w.push({label:`Mensualité ${E}/${i}`,amount:K,dueAt:V})}return w},[b,m,D,F]);c.useEffect(()=>{(async()=>{Z(!0),H("");try{const t=await _e();console.log(t);const d=Array.isArray(t)?t:t&&t.data||[];re(d)}catch(t){H("Impossible de charger la liste des entreprises.")}finally{Z(!1)}})()},[]),c.useEffect(()=>{$("")},[b]),c.useEffect(()=>{a!=null&&a.parent_id&&N&&N.length&&!j&&N.find(t=>String(t.id)===String(a.parent_id))&&$(String(a.parent_id))},[a==null?void 0:a.parent_id,N,j]);const u=c.useMemo(()=>N.find(s=>String(s.id)===String(j)),[N,j]),W=(s,t)=>{const d=Array.from(s||[]),g=d.filter(i=>i.type==="application/pdf");d.length!==g.length&&h.warning("Seuls les fichiers PDF sont acceptés.",{position:"top-center",autoClose:3e3}),le(i=>x(p({},i),{[t]:g.slice(0,3)}))},G=()=>a?o&&o.length?j?!0:(h.dismiss(),h.error("Veuillez sélectionner votre entreprise.",{position:"top-center",autoClose:5e3}),T.current&&T.current.focus(),!1):(h.dismiss(),h.error("Veuillez ajouter au moins un article dans votre panier",{position:"top-center",autoClose:5e3}),!1):(h.dismiss(),h.warning("Merci de vous connecter",{position:"top-center",autoClose:5e3}),l("/login"),!1),ie=async()=>{if(G()){I(!0);try{const s=Math.min(100,Math.max(30,D)),t=s===100?1:Math.min(5,Math.max(1,F)),d={partner_id:a.id,parent_id:y&&y.id,company_id:parseInt(j),type_sale:"creditorder",type_credit:"direct",payment_mode:"online",state:"draft",commitment_date:new Date,acomptePercentage:s,nombreMois:t,order_lines:o.map(i=>({id:i.id,quantity:i.quantity,list_price:i.creditorder_price||i.list_price})),echeancier_prevu:J.map(i=>({label:i.label,amount:i.amount,dueAt:i.dueAt}))};console.log(d);const g=await z(d);h.success("Votre commande à crédit direct a été créée avec succès",{position:"top-center",autoClose:5e3}),setTimeout(()=>{l(`/credit-commandes/${g.id}/détails`,{state:{commande:g}})},600),v()}catch(s){h.error(s&&s.response&&s.response.data&&s.response.data.message||"Commande crédit direct non validée",{position:"top-center",autoClose:5e3})}finally{I(!1)}}},ce=async()=>{if(!G())return;if(!n.nom||!n.prenom||!n.dateNaissance||!n.lieuNaissance||!n.telephone||!n.email||!n.cniNumber||!n.profession||!n.rib||!n.adresse||!n.adresseEmployeur){h.error("Veuillez remplir tous les champs obligatoires.",{position:"top-center"});return}if(!/^[A-Z0-9]{23}$/.test(n.rib)){h.error("Le RIB doit contenir exactement 23 caractères (chiffres et lettres).",{position:"top-center"});return}I(!0);const s={partner_id:a.id,parent_id:y==null?void 0:y.id,company_id:parseInt(j),type_sale:"creditorder",type_credit:"finance",payment_mode:"online",state:"draft",commitment_date:new Date().toISOString(),order_lines:o.map(t=>({id:t.id,quantity:t.quantity,list_price:t.creditorder_price||t.list_price})),bank_dossier:{nom:n.nom,prenom:n.prenom,dateNaissance:n.dateNaissance,lieuNaissance:n.lieuNaissance,telephone:n.telephone,email:n.email,cniNumber:n.cniNumber,profession:n.profession,rib:n.rib,adresse:n.adresse,adresseDomicile:n.adresse,adresseEmployeur:n.adresseEmployeur,nationalite:n.nationalite,employeur:(u==null?void 0:u.name)||(u==null?void 0:u.raison_sociale)||(u==null?void 0:u.nom)||"",employeur_id:j?parseInt(j):null}};try{const{salarySlips:t,bankStatements:d}=A,g=t&&t.length||d&&d.length;let i;if(!g)i=await z(s);else{const _=new FormData;_.append("payload",JSON.stringify(s)),(t||[]).forEach((P,w)=>{_.append(`bulletin_salaire_${w+1}`,P)}),(d||[]).forEach((P,w)=>{_.append(`releve_bancaire_${w+1}`,P)}),i=await z(_)}h.success("Votre demande de financement a été soumise pour validation.",{position:"top-center",autoClose:5e3}),setTimeout(()=>{l(`/credit-commandes/${i.id}/détails`,{state:{commande:i}})},600),v()}catch(t){h.error(t&&t.response&&t.response.data&&t.response.data.message||"Soumission financement non effectuée",{position:"top-center",autoClose:5e3})}finally{I(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(be,{title:"CCBM Shop | Panier crédit",description:"Choisissez le type de crédit (direct ou financement), sélectionnez votre entreprise, configurez votre plan ou remplissez le dossier, puis validez.",keywords:"électroménager, CCBM Shop, crédit, acompte, mensualités, banque, financement"}),e.jsxs(fe,{childrenClasses:r?"pt-0 pb-0":"",children:[r===!1?e.jsx("div",{className:"cart-page-wrapper w-full",children:e.jsx("div",{className:"container-x mx-auto",children:e.jsx(je,{paths:[{name:"Accueil",path:"/"},{name:"Panier crédit",path:"/credit-cart"}]})})}):e.jsxs("div",{className:"cart-page-wrapper w-full bg-white pb-[60px]",children:[e.jsx("div",{className:"w-full",children:e.jsx(ge,{title:"Panier crédit",breadcrumb:[{name:"Accueil",path:"/"},{name:"Panier crédit",path:"/credit-cart"}]})}),e.jsx("div",{className:"w-full mt-[23px]",children:e.jsxs("div",{className:"container-x mx-auto",children:[e.jsx(Se,{className:"mb-[30px]"}),e.jsx("div",{className:"w-full sm:flex justify-between",children:e.jsx("div",{className:"flex space-x-2.5 items-center",children:e.jsx(Ne,{to:"/boutique",children:e.jsx("div",{className:"w-[220px] h-[50px] bg-[#F6F6F6] flex justify-center items-center",children:e.jsx("span",{className:"text-sm font-semibold",children:"Continuer vos achats"})})})})}),e.jsx("div",{className:`w-full mt-[30px] ${Q?"":"flex sm:justify-end"}`,children:e.jsxs("div",{className:`${Q?"w-full max-w-none":"sm:w-[420px] w-full"} border border-[#EDEDED] px-[20px] sm:px-[30px] py-[20px] sm:py-[26px] rounded-md`,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Type de crédit"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("label",{className:"inline-flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"type_credit",value:"direct",checked:b==="direct",onChange:()=>R("direct")}),e.jsx("span",{children:"Crédit direct"})]}),e.jsxs("label",{className:"inline-flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"type_credit",value:"finance",checked:b==="finance",onChange:()=>R("finance")}),e.jsx("span",{children:"Paiement par financement"})]})]})]}),m>0&&b==="direct"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Votre employeur (obligatoire)"}),e.jsxs("select",{ref:T,className:"w-full border rounded p-2",value:j,onChange:s=>$(s.target.value),disabled:M,children:[e.jsx("option",{value:"",children:"-- Sélectionnez votre employeur --"}),N.map(s=>e.jsx("option",{value:s.id,children:s.name||s.raison_sociale||s.nom},s.id))]}),M&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Chargement des employeurs…"}),q&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:q}),N.length===0&&!M&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Aucun employeur disponible."})]}),e.jsxs("div",{className:"space-y-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Acompte"}),e.jsx("select",{className:"w-full border rounded p-2",value:D,onChange:s=>te(Number(s.target.value)),children:ne.map(s=>e.jsxs("option",{value:s,children:[s,"%"]},s))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 30%. 100% = paiement en une fois."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Nombre de paiements (mois)"}),e.jsx("select",{className:"w-full border rounded p-2",value:F,onChange:s=>ae(Number(s.target.value)),disabled:D===100,children:[1,2,3,4,5].map(s=>e.jsx("option",{value:s,children:s},s))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum 5 mensualités."})]})]}),e.jsx("div",{className:"border-t pt-4 space-y-2",children:J.map((s,t)=>e.jsxs("dl",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsxs("dt",{className:"text-sm text-gray-500",children:[s.label,s.dueAt&&e.jsxs("span",{className:"ml-2 text-xs text-gray-400",children:["(échéance: ",new Date(s.dueAt).toLocaleDateString(),")"]})]}),e.jsx("dd",{className:"text-sm sm:text-base font-medium text-gray-900",children:k(s.amount)})]},`${s.label}-${t}`))}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[15px] text-gray-600",children:"Sous-total (hors TVA)"}),e.jsx("span",{className:"text-[15px] font-medium",children:k(m-U)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[15px] text-gray-600",children:"TVA (18%)"}),e.jsx("span",{className:"text-[15px] font-medium",children:k(U)})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"text-[16px] font-semibold text-gray-800",children:"Total commande (TTC)"}),e.jsx("span",{className:"text-[16px] font-semibold",children:k(m)})]})]}),e.jsx("br",{}),e.jsxs(ee,{type:"button",className:"hover:bg-red-500 w-full bg-bleu-logo",onClick:ie,disabled:C||m<=0,children:[C&&e.jsx(se,{className:"mr-2 h-4 w-4 animate-spin"}),C?"Veuillez patienter...":"Valider le panier (crédit direct)"]})]}),m>0&&b==="finance"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mt-6 border-t pt-4 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Informations personnelles"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Champs requis pour le dossier de financement"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Nom"}),e.jsx("input",{type:"text",className:"w-full border rounded p-2",value:n.nom,onChange:s=>f(t=>x(p({},t),{nom:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Prénom"}),e.jsx("input",{type:"text",className:"w-full border rounded p-2",value:n.prenom,onChange:s=>f(t=>x(p({},t),{prenom:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Date de naissance"}),e.jsx("input",{type:"date",className:"w-full border rounded p-2",value:n.dateNaissance,onChange:s=>f(t=>x(p({},t),{dateNaissance:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Lieu de naissance"}),e.jsx("input",{type:"text",className:"w-full border rounded p-2",value:n.lieuNaissance,onChange:s=>f(t=>x(p({},t),{lieuNaissance:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Téléphone"}),e.jsx("input",{type:"tel",className:"w-full border rounded p-2",value:n.telephone,onChange:s=>f(t=>x(p({},t),{telephone:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Email"}),e.jsx("input",{type:"email",className:"w-full border rounded p-2",value:n.email,onChange:s=>f(t=>x(p({},t),{email:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Numéro CNI"}),e.jsx("input",{type:"text",className:"w-full border rounded p-2",value:n.cniNumber,onChange:s=>f(t=>x(p({},t),{cniNumber:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Adresse domicile"}),e.jsx("input",{type:"text",className:"w-full border rounded p-2",value:n.adresse,onChange:s=>f(t=>x(p({},t),{adresse:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Nationalité"}),e.jsx("input",{type:"text",className:"w-full border rounded p-2",value:n.nationalite,onChange:s=>f(t=>x(p({},t),{nationalite:s.target.value}))})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informations employeur"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Votre entreprise (obligatoire)"}),e.jsxs("select",{ref:T,className:"w-full border rounded p-2",value:j,onChange:s=>$(s.target.value),disabled:M,children:[e.jsx("option",{value:"",children:"-- Sélectionnez votre entreprise --"}),N.map(s=>e.jsx("option",{value:s.id,children:s.name||s.raison_sociale||s.nom},s.id))]}),M&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Chargement des entreprises…"}),q&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:q})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Profession"}),e.jsx("input",{type:"text",className:"w-full border rounded p-2",value:n.profession,onChange:s=>f(t=>x(p({},t),{profession:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Employeur sélectionné"}),e.jsx("div",{className:"w-full border rounded p-2 bg-gray-50 text-sm",children:u?u.name||u.raison_sociale||u.nom:"Aucune entreprise sélectionnée"})]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Adresse employeur"}),e.jsx("input",{type:"text",className:"w-full border rounded p-2",value:n.adresseEmployeur,onChange:s=>f(t=>x(p({},t),{adresseEmployeur:s.target.value}))})]})]})]}),e.jsxs("div",{className:"border-t pt-4 space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Informations bancaires & pièces jointes"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"rib",className:"block text-sm text-gray-600 mb-1",children:"Numéro de compte COFINA (23 caractères)"}),e.jsx("input",{id:"rib",type:"text",maxLength:23,className:"w-full border rounded p-2 uppercase",value:n.rib,onChange:s=>{const t=s.target.value.replace(/[^A-Z0-9]/g,"").toUpperCase();f(d=>x(p({},d),{rib:t}))}}),n.rib&&!/^[A-Z0-9]{23}$/.test(n.rib)&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Le RIB doit contenir exactement 23 caractères (chiffres et lettres)."})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Bulletins de salaire (PDF) - optionnel"}),e.jsx("input",{type:"file",accept:"application/pdf",multiple:!0,className:"w-full border rounded p-2",onChange:s=>W(s.target.files,"salarySlips")}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF uniquement - max 3 fichiers."}),!!A.salarySlips.length&&e.jsx("ul",{className:"text-xs text-gray-700 list-disc ml-4 mt-1 space-y-1",children:A.salarySlips.map((s,t)=>e.jsx("li",{children:s.name},`${s.name}-${t}`))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Relevés bancaires (PDF) - optionnel"}),e.jsx("input",{type:"file",accept:"application/pdf",multiple:!0,className:"w-full border rounded p-2",onChange:s=>W(s.target.files,"bankStatements")}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF uniquement - max 3 fichiers."}),!!A.bankStatements.length&&e.jsx("ul",{className:"text-xs text-gray-700 list-disc ml-4 mt-1 space-y-1",children:A.bankStatements.map((s,t)=>e.jsx("li",{children:s.name},`${s.name}-${t}`))})]})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Les pièces jointes sont optionnelles. Si vous en ajoutez, elles seront envoyées avec votre demande."})]}),e.jsxs(ee,{type:"button",className:"hover:bg-red-500 w-full bg-bleu-logo mt-4",onClick:ce,disabled:C||m<=0,children:[C&&e.jsx(se,{className:"mr-2 h-4 w-4 animate-spin"}),C?"Veuillez patienter...":"Soumettre le dossier (Financement)"]}),e.jsx("p",{className:"text-sm text-gray-600 text-center mt-2",children:"Une fois le dossier envoyé, merci de passer au showroom pour récupérer le formulaire à remplir et signer."})]})}),m<=0&&e.jsx("p",{className:"text-sm text-gray-500",children:"Votre panier est vide. Ajoutez des articles pour configurer votre crédit."})]})})]})})]}),e.jsx(Ce,{})]})]})}export{Ie as default};

var P=Object.defineProperty,w=Object.defineProperties;var y=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var g=(r,s,a)=>s in r?P(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a,f=(r,s)=>{for(var a in s||(s={}))V.call(s,a)&&g(r,a,s[a]);if(x)for(var a of x(s))L.call(s,a)&&g(r,a,s[a]);return r},j=(r,s)=>w(r,y(s));import{V as S,j as e,l as q,m as E,p as I,L as M,q as A}from"./index-D5k3K9s4.js";import{b as c,c as B,u as F}from"./vendor-DZBautpX.js";import{P as T}from"./Pagination-r9zcarWf.js";function k(){const{currentProductsVenteCher:r,totalProductsVenteCher:s,isLoadingProductVenteCher:a,fetchProductsVenteCher:d,updateFilters:m,resetFilters:p,filters:n}=c.useContext(S),i=B(),u=F();c.useEffect(()=>{p();const t=new URLSearchParams(i.search),o={page:Number.parseInt(t.get("page"))||1,category:t.get("category")||"All",search:t.get("search")||"",min:Number.parseInt(t.get("min"))||1e3,max:Number.parseInt(t.get("max"))||5e6,limit:9,productType:t.get("productType")||"All",tag:t.get("tag")||"All"};m(o),window.scrollTo({top:0,left:100,behavior:"smooth"})},[i.pathname,i.search,p,m]),c.useEffect(()=>{d()},[d]);const b=(n.page-1)*n.limit+1,v=Math.min(n.page*n.limit,s),C=t=>{N(j(f({},n),{page:t})),window.scrollTo({top:0,left:100,behavior:"smooth"})},N=c.useCallback(t=>{const o=new URLSearchParams(i.search);Object.entries(t).forEach(([h,l])=>{l!=null&&l!==""?o.set(h,l.toString()):o.delete(h)}),u({search:o.toString()},{replace:!0})},[i.search,u]);return!a&&r.length===0&&s===0?null:e.jsxs(e.Fragment,{children:[e.jsx(q,{title:"CCBM Shop | Vente en Cher - Produits à Vider",description:"Découvrez nos produits en vente en cher sur CCBM Shop. Profitez de nos meilleures offres pour vider le stock.",keywords:"vente en cher, produits à vider, électroménager, CCBM Shop, ccbme, offres spéciales"}),e.jsx(E,{children:e.jsx("div",{className:"products-page-wrapper w-full",children:e.jsxs("div",{className:"container-x mx-auto",children:[e.jsx(I,{}),e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-blue-900 mb-2",children:"Vente en cher : des produits en très bon état, à vider rapidement"}),e.jsxs("p",{className:"text-sm md:text-base text-blue-900 mb-2",children:["Les produits listés ici proviennent principalement de fins de séries, de retours clients contrôlés ou de modèles d’exposition. Ils sont en ",e.jsx("span",{className:"font-semibold",children:"bon état de fonctionnement"})," et ont été vérifiés par nos équipes techniques avant d’être remis en ligne."]}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm md:text-base text-blue-900",children:[e.jsxs("li",{children:["Quantités ",e.jsx("span",{className:"font-semibold",children:"très limitées"})," : premier arrivé, premier servi."]}),e.jsx("li",{children:"Prix ajustés en fonction de l’état cosmétique et des accessoires fournis."}),e.jsx("li",{children:"Photos et descriptions représentatives de l’état réel du produit."}),e.jsx("li",{children:"Les conditions de garantie et de retour sont précisées sur chaque fiche produit."})]})]}),e.jsx("div",{className:"products-sorting w-full bg-white flex flex-col md:flex-row justify-between p-[30px] mb-[40px]",children:e.jsxs("p",{className:"font-400 text-[13px]",children:[e.jsx("span",{className:"text-qgray",children:"Affichage"})," ",s>0?`${b}–${v} sur ${s} résultats`:"0 résultat"]})}),a?e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsx(M,{className:"animate-spin"})," Chargement"]}):r.length===0?e.jsx("div",{className:"flex justify-center items-center",children:"Pas de produits en vente en cher disponible pour le moment"}):e.jsx("div",{className:"grid xl:grid-cols-2 grid-cols-1 gap-[30px]",children:r.map(t=>e.jsx(A,{datas:t,mode:"vente-cher"},t.id))}),e.jsx(T,{currentPage:n.page,totalPages:Math.ceil(s/n.limit),onPageChange:C})]})]})})})]})}export{k as default};

import{j as e,b as o,S as te,f as Q,ad as ae,E as O,ae as K,I as T,h as I,x as _,o as z,n as M,a9 as V,af as U,ag as le,T as Y,aa as J,C as Z,ah as re,ai as ne,aj as ie}from"./react-CJBSR92-u_nCHxWM.js";import{L as S,u as L,a as ce}from"./react-router-DM7lm-eIKbi5VnqZ.js";import{u as P,o as ee,f as w,m as A,C as H,M as G,L as de,B as xe}from"./index-7aT0jyaVKf-5uYaT.js";import{f as F}from"./date-format-qL-o8H-fTKutKBrM.js";import{P as oe}from"./precommandeService-CdMv87mahgZfInxm.js";import{I as W}from"./InputQuantityCom-B9aPbqWxeOYobjLM.js";import{P as me}from"./ProductsTable-O0jjlAJwrBnxVoX2.js";import{a as he}from"./entrepriseFunctionService-V07Ti_3VBY_jBfe5.js";import"./vendor-DqtG7wAGu1JuSsNW.js";import"./react-dom-DgVs7Ap73AfOoX-q.js";import"./ui-libs-DW48STyta0ayNJBW.js";import"./redux-4EhM0GaGlm-MPJuT.js";function $(){return e.jsxs("svg",{width:"15",height:"18",viewBox:"0 0 15 18",fill:"none",className:"fill-current",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M10.9643 15.8454C10.8728 15.8399 10.8054 15.8331 10.7381 15.8331C9.37517 15.8324 8.01229 15.8324 6.60539 15.8324C6.85294 16.5145 6.77799 17.099 6.11648 17.4676C5.68672 17.7076 5.24457 17.6615 4.86018 17.3562C4.36027 16.9594 4.3087 16.4409 4.56175 15.8317C3.82667 15.8317 3.13285 15.8406 2.43903 15.8296C1.53136 15.8152 0.910425 14.8958 1.25974 14.0638C1.34845 13.852 1.51898 13.6581 1.69295 13.502C2.43628 12.8384 3.19199 12.1872 3.95182 11.5429C4.11204 11.4075 4.16499 11.2816 4.11479 11.074C3.36389 7.96037 2.61506 4.8454 1.87999 1.72768C1.82085 1.476 1.71564 1.42512 1.48597 1.432C0.997754 1.44712 0.507472 1.43681 0 1.43681C0 1.06824 0 0.741614 0 0.390921C0.782525 0.390921 1.54786 0.377856 2.31182 0.397798C2.58825 0.405362 2.70308 0.630905 2.76772 0.885329C3.01389 1.86177 3.27725 2.83339 3.5138 3.81189C3.57775 4.07732 3.68846 4.22034 3.96901 4.19971C3.98001 4.19903 3.9917 4.20315 4.00339 4.20315C4.60369 4.21003 4.95026 4.4507 5.25488 5.03863C6.60195 7.64613 10.1907 7.96587 12.0686 5.68981C12.2206 5.50622 12.3512 5.44639 12.585 5.4904C13.0911 5.58529 13.6027 5.64855 14.1136 5.71801C14.333 5.74826 14.4306 5.85416 14.4251 6.08314C14.3839 7.93906 14.3461 9.79498 14.3144 11.6509C14.3089 11.9816 14.0937 11.9665 13.8661 11.9665C11.0819 11.9651 8.29697 11.9693 5.51274 11.9596C5.2425 11.959 5.03897 12.0291 4.8368 12.2072C4.05428 12.8962 3.25525 13.5659 2.47135 14.2536C2.37095 14.3416 2.32488 14.4908 2.25337 14.6111C2.38264 14.6552 2.51192 14.737 2.64119 14.737C6.60608 14.7439 10.571 14.7425 14.5358 14.7425C14.6823 14.7425 14.8288 14.7425 15 14.7425C15 15.1152 15 15.4514 15 15.8193C14.3426 15.8193 13.6935 15.8193 13.0127 15.8193C13.25 16.4568 13.2156 17.0055 12.6442 17.4064C12.2536 17.68 11.7406 17.6814 11.3521 17.4091C10.78 17.011 10.7339 16.4636 10.9643 15.8454Z"}),e.jsx("path",{d:"M8.8449 6.1337C7.15883 6.12476 5.787 4.74744 5.78906 3.06549C5.79113 1.37254 7.18564 -0.00685072 8.88753 2.55979e-05C10.5702 0.00690192 11.9413 1.38835 11.9392 3.07374C11.9372 4.77563 10.555 6.14264 8.8449 6.1337ZM9.94924 1.61802C9.38194 2.22039 8.85178 2.78287 8.31199 3.35636C8.11326 3.12806 7.94342 2.93278 7.76394 2.72786C7.48201 2.96853 7.22553 3.1872 6.95735 3.41618C7.28191 3.80125 7.57484 4.16708 7.8884 4.51502C8.10157 4.75225 8.43232 4.77082 8.65236 4.54458C9.33656 3.83907 10.0042 3.11775 10.6382 2.44593C10.4031 2.16332 10.1858 1.9027 9.94924 1.61802Z"})]})}function pe(){return e.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",className:"fill-current",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M9.21258 4.98254C9.21258 6.17687 9.20926 7.37119 9.21391 8.56552C9.21723 9.41928 9.69987 9.9079 10.5483 9.90989C12.2512 9.91454 13.9547 9.91454 15.6576 9.90989C16.5007 9.9079 16.9966 9.40799 16.9979 8.56751C16.9999 6.16757 16.9999 3.76763 16.9979 1.36835C16.9973 0.508624 16.4961 0.00340804 15.6423 0.00274416C13.9613 0.000752505 12.2804 0.00141639 10.5994 0.00274416C9.69722 0.00340804 9.2159 0.488044 9.21391 1.40022C9.21059 2.59388 9.21258 3.78821 9.21258 4.98254ZM7.78722 12.0522C7.78722 10.8579 7.78921 9.66359 7.78656 8.46926C7.78456 7.57036 7.31122 7.09104 6.42028 7.08971C4.73933 7.08639 3.05837 7.08705 1.37742 7.08971C0.489805 7.09104 0.00251398 7.57965 0.0018501 8.46395C0.000522332 10.8526 0.000522332 13.2413 0.0018501 15.6299C0.00251398 16.4896 0.503747 16.9969 1.35551 16.9982C3.04775 17.0002 4.73933 17.0002 6.43157 16.9982C7.2913 16.9969 7.78257 16.5036 7.78589 15.6359C7.78988 14.4409 7.78722 13.2466 7.78722 12.0522ZM3.89022 5.66236C4.75261 5.66236 5.61499 5.66767 6.47738 5.66103C7.28665 5.65439 7.77925 5.16444 7.78523 4.35782C7.79253 3.34075 7.79253 2.32302 7.78523 1.30595C7.77925 0.505968 7.27337 0.00473581 6.47339 0.00274416C4.75924 -0.00123915 3.04576 -0.000575264 1.33161 0.00274416C0.519016 0.00407193 0.00516952 0.516591 0.00251398 1.32719C-0.00146932 2.32236 -0.000141552 3.31752 0.00251398 4.31268C0.00450564 5.15648 0.49578 5.65638 1.33626 5.66169C2.18736 5.667 3.03846 5.66236 3.89022 5.66236ZM13.1083 11.3372C12.2459 11.3372 11.3835 11.3319 10.5211 11.3386C9.71248 11.3452 9.21988 11.8358 9.21457 12.6431C9.20793 13.6602 9.20727 14.6779 9.21457 15.695C9.22055 16.493 9.72908 16.9955 10.5271 16.9969C12.2412 17.0008 13.9547 17.0002 15.6689 16.9969C16.4801 16.9955 16.994 16.481 16.9973 15.6704C17.0013 14.6752 16.9999 13.6801 16.9973 12.6849C16.9953 11.8418 16.502 11.3425 15.6622 11.3379C14.8111 11.3333 13.9594 11.3372 13.1083 11.3372Z",fill:"white"}),e.jsx("path",{d:"M9.21223 4.98269C9.21223 3.78837 9.21024 2.59404 9.2129 1.39971C9.21489 0.487533 9.69621 0.00289744 10.5984 0.00223355C12.2794 0.000905786 13.9603 0.000241902 15.6413 0.00223355C16.495 0.00356132 16.9963 0.508777 16.9969 1.36784C16.9983 3.76778 16.9989 6.16773 16.9969 8.567C16.9963 9.40748 16.5004 9.90739 15.6566 9.90938C13.9537 9.91402 12.2502 9.91402 10.5473 9.90938C9.69886 9.90672 9.21622 9.41877 9.2129 8.56501C9.20891 7.37135 9.21223 6.17702 9.21223 4.98269Z"}),e.jsx("path",{d:"M7.78832 12.0524C7.78832 13.2467 7.79098 14.441 7.78699 15.6353C7.78434 16.503 7.2924 16.9963 6.43267 16.9976C4.74043 16.9996 3.04885 16.9996 1.35661 16.9976C0.504846 16.9963 0.00361284 16.4891 0.00294895 15.6294C0.00162118 13.2407 0.00162118 10.8521 0.00294895 8.4634C0.00361284 7.57911 0.490904 7.09115 1.37852 7.08916C3.05947 7.08651 4.74043 7.08584 6.42138 7.08916C7.31231 7.09115 7.785 7.56981 7.78766 8.46871C7.79031 9.6637 7.78832 10.858 7.78832 12.0524Z"}),e.jsx("path",{d:"M3.89062 5.6621C3.03952 5.6621 2.18775 5.66609 1.33665 5.66077C0.496177 5.65613 0.00490302 5.15622 0.00224748 4.31243C-0.000408054 3.31726 -0.00107194 2.3221 0.00224748 1.32694C0.0055669 0.516336 0.519413 0.00381733 1.33201 0.00248957C3.04616 -0.000829855 4.75964 -0.000829855 6.47379 0.00248957C7.27311 0.00448122 7.77965 0.50505 7.78563 1.30569C7.79293 2.32276 7.79293 3.3405 7.78563 4.35757C7.77965 5.16485 7.28771 5.6548 6.47777 5.66077C5.61539 5.66741 4.753 5.6621 3.89062 5.6621Z"}),e.jsx("path",{d:"M13.1081 11.3378C13.9592 11.3378 14.811 11.3338 15.6621 11.3391C16.5019 11.3444 16.9952 11.843 16.9972 12.6862C16.9998 13.6813 17.0005 14.6765 16.9972 15.6716C16.9939 16.4822 16.48 16.9968 15.6687 16.9981C13.9546 17.0014 12.2411 17.0014 10.527 16.9981C9.72831 16.9961 9.21977 16.4935 9.21446 15.6962C9.20716 14.6791 9.20716 13.6614 9.21446 12.6443C9.21977 11.837 9.71237 11.3464 10.521 11.3398C11.3834 11.3325 12.2458 11.3378 13.1081 11.3378Z"})]})}function ue(){return e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",className:"fill-current",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M7.50224 15.7537C7.50224 16.0247 7.50895 16.2465 7.5 16.4683C7.4597 17.5682 6.52164 18.2515 5.4806 17.9155C4.00075 17.4383 2.52761 16.9387 1.05448 16.4392C0.380597 16.2107 0 15.6641 0 14.9405C0 10.4892 0 6.03569 0.00223881 1.58218C0.00223881 0.627852 0.629104 0.00955666 1.59403 0.00731646C4.28731 0.00283606 6.98284 -0.00164434 9.67612 0.000595862C11.0104 0.00283606 11.9798 0.961641 12 2.29904C12.0112 2.99126 12.0067 3.68124 12 4.37347C11.9955 4.90439 11.6933 5.25162 11.2478 5.25162C10.8022 5.25386 10.4955 4.90663 10.491 4.37571C10.4843 3.69693 10.4933 3.0159 10.4888 2.33712C10.4843 1.79276 10.209 1.50153 9.67388 1.49705C8.72463 1.48585 7.77761 1.49481 6.82836 1.49481C6.72313 1.49481 6.61791 1.49481 6.46791 1.49481C6.51492 1.55081 6.53284 1.59114 6.56418 1.60682C7.24254 1.91597 7.51119 2.46481 7.51119 3.1884C7.50672 6.72791 7.50895 10.2674 7.50895 13.8069C7.50895 13.9436 7.50895 14.0802 7.50895 14.2415C8.32164 14.2415 9.09179 14.2662 9.8597 14.2303C10.2649 14.2124 10.4888 13.8898 10.491 13.4396C10.4978 12.5031 10.4955 11.5645 10.4933 10.6259C10.4933 10.2854 10.594 10.0008 10.9119 9.83507C11.3888 9.58865 11.9754 9.89332 11.9888 10.4511C12.0179 11.5511 12.0493 12.6577 11.9664 13.7532C11.8746 14.9494 10.9052 15.7447 9.69403 15.7514C8.97537 15.7559 8.26343 15.7537 7.50224 15.7537Z"}),e.jsx("path",{d:"M13.4942 6.75005C13.4942 6.02423 13.5009 5.33425 13.492 4.64651C13.4875 4.27463 13.5927 3.96997 13.9532 3.81539C14.3136 3.66082 14.6046 3.79523 14.8688 4.06181C15.8002 5.0027 16.7405 5.93462 17.674 6.87326C18.1061 7.30786 18.1129 7.69094 17.6897 8.11882C16.7494 9.06642 15.8024 10.0073 14.8599 10.9549C14.6091 11.2058 14.327 11.3402 13.9755 11.1946C13.6129 11.0445 13.492 10.7533 13.4964 10.3769C13.5032 9.68695 13.4987 8.99473 13.4987 8.24875C13.3576 8.24875 13.2345 8.24875 13.1114 8.24875C12.2808 8.24875 11.4479 8.25099 10.6173 8.24651C10.0711 8.24427 9.75315 7.962 9.75987 7.4938C9.76435 7.03456 10.0912 6.75453 10.6352 6.75229C11.5666 6.75005 12.5024 6.75005 13.4942 6.75005Z"})]})}function je(){return e.jsxs("svg",{width:"14",height:"19",viewBox:"0 0 14 19",fill:"none",className:"fill-current",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M9.96898 10.7061H3.78814C1.6967 10.7061 0.00346265 12.4028 0 14.4942V18.3481H13.7606V14.4942C13.7571 12.4028 12.0604 10.7061 9.96898 10.7061Z"}),e.jsx("path",{d:"M6.88098 9.17603C9.41488 9.17603 11.469 7.12191 11.469 4.58802C11.469 2.05412 9.41488 0 6.88098 0C4.34709 0 2.29297 2.05412 2.29297 4.58802C2.29297 7.12191 4.34709 9.17603 6.88098 9.17603Z"})]})}function fe(){const{user:s,isAuthenticated:x,parent:p}=P(),[d,h]=o.useState([]);return o.useEffect(()=>{(async()=>{try{const c=await ee.getCompte(s.id);c&&h(c),console.log(c)}catch(c){console.error("Erreur lors de la récupération des données user",c)}})()},[s,x]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"welcome-msg w-full",children:e.jsxs("div",{children:[e.jsxs("p",{className:"text-qblack text-lg",children:["Bonjour ",e.jsx("span",{children:s?s.name:"Non connecté"})]}),e.jsx("h1",{className:"font-bold text-[24px] text-qblack sm:text-[20px]",children:"Bienvenue sur votre profil"})]})}),e.jsxs("div",{className:"quick-view-grid w-full flex flex-wrap space-evenly items-center mt-3",children:[e.jsxs("div",{className:"qv-item w-full sm:w-[180px] h-[200px] bg-qblack group hover:bg-qyellow transition-all duration-300 ease-in-out p-6 mx-2 mb-4",children:[e.jsx("div",{className:"w-[62px] h-[62px] rounded bg-white flex justify-center items-center",children:e.jsx("span",{children:e.jsx(te,{})})}),e.jsx(S,{to:"/profile#order",children:e.jsx("p",{className:"text-xl text-white group-hover:text-qblacktext mt-3",children:"Mes commandes"})}),e.jsx("span",{className:"text-[40px] text-white group-hover:text-qblacktext font-bold leading-none mt-1 block",children:d&&d.order_count})]}),s&&e.jsxs("div",{className:"qv-item w-full sm:w-[180px] h-[200px] bg-qblack group hover:bg-qyellow transition-all duration-300 ease-in-out p-6 mx-2 mb-4",children:[e.jsx("div",{className:"w-[62px] h-[62px] rounded bg-white flex justify-center items-center",children:e.jsx("span",{children:e.jsx(Q,{})})}),e.jsx(S,{to:"/profile#commandes-a-credit",children:e.jsx("p",{className:"text-xl text-white group-hover:text-qblacktext mt-2",children:"Mes Crédits"})}),e.jsx("span",{className:"text-[40px] text-white group-hover:text-qblacktext font-bold leading-none mt-1 block",children:d&&d.creditorder_count})]}),e.jsxs("div",{className:"qv-item w-full sm:w-[180px] h-[200px] bg-qblack group hover:bg-qyellow transition-all duration-300 ease-in-out p-6 mx-2 mb-4",children:[e.jsx("div",{className:"w-[62px] h-[62px] rounded bg-white flex justify-center items-center",children:e.jsx("span",{children:e.jsx(ae,{})})}),e.jsx("p",{className:"text-xl text-white group-hover:text-qblacktext mt-5",children:"Livrées"}),e.jsx("span",{className:"text-[40px] text-white group-hover:text-qblacktext font-bold leading-none mt-1 block",children:d&&d.delivered_count})]}),e.jsxs("div",{className:"qv-item w-full sm:w-[180px] h-[200px] bg-qblack group hover:bg-qyellow transition-all duration-300 ease-in-out p-6 mx-2 mb-4",children:[e.jsx("div",{className:"w-[62px] h-[62px] rounded bg-white flex justify-center items-center",children:e.jsx("span",{children:e.jsx(Q,{})})}),e.jsx("p",{className:"text-xl text-white group-hover:text-qblacktext mt-5",children:"En cours"}),e.jsx("span",{className:"text-[40px] text-white group-hover:text-qblacktext font-bold leading-none mt-1 block",children:d&&d.progress_count})]})]}),e.jsxs("div",{className:"dashboard-info mt-8 flex flex-col bg-primarygray px-4 sm:px-7 py-7",children:[e.jsx("p",{className:"title text-[22px] font-semibold",children:"Informations personnelles"}),e.jsxs("div",{className:"mt-5 flex flex-wrap",children:[s&&s.name&&e.jsxs("div",{className:"inline-flex mr-5 mb-5",children:[e.jsx("div",{className:"text-base text-qgraytwo w-[100px] block",children:e.jsx("div",{children:"Nom:"})}),e.jsx("div",{className:"text-base text-qblack font-medium",children:s.name})]}),s&&s.email&&e.jsxs("div",{className:"inline-flex mr-5 mb-5",children:[e.jsx("div",{className:"text-base text-qgraytwo w-[100px] block",children:e.jsx("div",{children:"Email:"})}),e.jsx("div",{className:"text-base text-qblack font-medium",children:s.email})]}),s&&s.partner_phone&&e.jsxs("div",{className:"inline-flex mr-5 mb-5",children:[e.jsx("div",{className:"text-base text-qgraytwo w-[100px] block",children:e.jsx("div",{children:"Téléphone:"})}),e.jsx("div",{className:"text-base text-qblack font-medium",children:s.partner_phone})]}),s&&s.partner_city&&e.jsxs("div",{className:"inline-flex mr-5 mb-5",children:[e.jsx("div",{className:"text-base text-qgraytwo w-[100px] block",children:e.jsx("div",{children:"Ville:"})}),e.jsx("div",{className:"text-base text-qblack font-medium",children:s.partner_city})]}),s&&s.country_name&&e.jsxs("div",{className:"inline-flex mr-5 mb-5",children:[e.jsx("div",{className:"text-base text-qgraytwo w-[100px] block",children:e.jsx("div",{children:"Pays:"})}),e.jsx("div",{className:"text-base text-qblack font-medium",children:s.country_name})]}),s&&s.kyc_id_type&&e.jsxs("div",{className:"inline-flex mr-5 mb-5",children:[e.jsx("div",{className:"text-base text-qgraytwo w-[100px] block",children:e.jsx("div",{children:"Type de pièce:"})}),e.jsx("div",{className:"text-base text-qblack font-medium",children:s.kyc_id_type})]}),s&&s.kyc_id_number&&e.jsxs("div",{className:"inline-flex mr-5 mb-5",children:[e.jsx("div",{className:"text-base text-qgraytwo w-[100px] block",children:e.jsx("div",{children:"Numéro de pièce:"})}),e.jsx("div",{className:"text-base text-qblack font-medium",children:s.kyc_id_number})]}),s&&s.kyc_id_expiry&&e.jsxs("div",{className:"inline-flex mr-5 mb-5",children:[e.jsx("div",{className:"text-base text-qgraytwo w-[100px] block",children:e.jsx("div",{children:"Date d'expiration:"})}),e.jsx("div",{className:"text-base text-qblack font-medium",children:s.kyc_id_expiry})]}),s&&s.employer_name&&e.jsxs("div",{className:"inline-flex mr-5 mb-5",children:[e.jsx("div",{className:"text-base text-qgraytwo w-[100px] block",children:e.jsx("div",{children:"Employeur:"})}),e.jsx("div",{className:"text-base text-qblack font-medium",children:s.employer_name})]}),s&&s.job_title&&e.jsxs("div",{className:"inline-flex mr-5 mb-5",children:[e.jsx("div",{className:"text-base text-qgraytwo w-[100px] block",children:e.jsx("div",{children:"Poste:"})}),e.jsx("div",{className:"text-base text-qblack font-medium",children:s.job_title})]}),s&&s.salary_monthly&&e.jsxs("div",{className:"inline-flex mr-5 mb-5",children:[e.jsx("div",{className:"text-base text-qgraytwo w-[100px] block",children:e.jsx("div",{children:"Salaire mensuel:"})}),e.jsx("div",{className:"text-base text-qblack font-medium",children:`${s.salary_monthly} FCFA`})]})]})]}),s&&p&&e.jsxs("div",{className:"dashboard-info mt-8 flex flex-col bg-primarygray px-4 sm:px-7 py-7",children:[e.jsx("p",{className:"title text-[22px] font-semibold",children:"Informations Entreprise"}),e.jsx("div",{className:"mt-5 flex flex-wrap",children:e.jsxs("div",{children:[p.name&&e.jsxs("div",{className:"inline-flex mr-5 mb-5",children:[e.jsx("div",{className:"text-base text-qgraytwo w-[100px] block",children:e.jsx("div",{children:"Nom:"})}),e.jsx("div",{className:"text-base text-qblack font-medium",children:p.name})]}),p.email&&e.jsxs("div",{className:"inline-flex mr-5 mb-5",children:[e.jsx("div",{className:"text-base text-qgraytwo w-[100px] block",children:e.jsx("div",{children:"Email:"})}),e.jsx("div",{className:"text-base text-qblack font-medium",children:p.email})]}),p.phone&&e.jsxs("div",{className:"inline-flex mr-5 mb-5",children:[e.jsx("div",{className:"text-base text-qgraytwo w-[100px] block",children:e.jsx("div",{children:"Téléphone:"})}),e.jsx("div",{className:"text-base text-qblack font-medium",children:p.phone})]})]})})]})]})}function be(){const[s,x]=o.useState([]),[p,d]=o.useState(!0),[h,m]=o.useState(1),[c]=o.useState(10),{user:j}=P(),g=L();o.useEffect(()=>{(async()=>{d(!0);try{const y=(await A.getCommandes(j.id)).filter(k=>k.state!=="draft"&&k.state!=="cancel");x(y)}catch(n){console.error("Erreur lors de la récupération des commandes",n),_.error("Erreur lors de la récupération des commandes",{position:"top-center"})}finally{d(!1)}})()},[j.id]);const u=(a,n)=>{a.preventDefault(),g(`/commandes/${n.id}/détails`,{state:{commande:n}})},f=(a,n)=>{a.preventDefault(),window.confirm("Voulez-vous annuler la commande ?")&&A.deleteCommande(n.id).then(()=>{x(s.filter(y=>y.id!==n.id)),_.success("Commande annulée avec succès",{position:"top-center"})}).catch(y=>{_.error(y.message,{position:"top-center"})})},b=h*c,N=b-c,C=s.slice(N,b),v=a=>m(a),l=a=>{switch(a){case"to_delivered":return e.jsx(V,{className:"w-5 h-5 text-blue-500"});case"delivered":return e.jsx(M,{className:"w-5 h-5 text-green-500"});case"sale":return e.jsx(M,{className:"w-5 h-5 text-green-500"});default:return e.jsx(z,{className:"w-5 h-5 text-yellow-500"})}},i=a=>{switch(a){case"to_delivered":return"En cours de livraison";case"delivered":return"Livré";case"sale":return"Validé";default:return"En attente"}},r=a=>a==="not_paid"?"text-red-500":"text-green-500",t=a=>{switch(a){case"online":return"En ligne";case"domicile":return"À domicile";case"echelonne":return"Échelonné";default:return a}};return e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h2",{className:"text-2xl font-bold",children:"Commandes Simples"})}),p?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):s.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"Votre liste de commandes est vide"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 text-left",children:"Commande"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Date"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Statut"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Mode de Paiement"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Paiement"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Montant"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Actions"})]})}),e.jsx("tbody",{children:C.map(a=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsxs("td",{className:"py-2 px-4",children:["#",a.name]}),e.jsx("td",{className:"py-2 px-4",children:F(a.date_order)}),e.jsx("td",{className:"py-2 px-4",children:e.jsxs("div",{className:"flex items-center",children:[l(a.state),e.jsx("span",{className:"ml-2",children:i(a.state)})]})}),e.jsx("td",{className:"py-2 px-4",children:t(a.payment_mode)}),e.jsx("td",{className:"py-2 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r(a.advance_payment_status)}`,children:a.advance_payment_status==="not_paid"?"Non Payé":"Payé"})}),e.jsx("td",{className:"py-2 px-4",children:e.jsx("span",{className:r(a.advance_payment_status),children:w(a.amount_total)})}),e.jsx("td",{className:"py-2 px-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:n=>u(n,a),className:"flex items-center px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(O,{className:"w-4 h-4 mr"})}),(a.state==="sale"||a.state==="to_delivered")&&a.advance_payment_status==="not_paid"&&e.jsx("button",{onClick:n=>f(n,a),className:"flex items-center px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:e.jsx(K,{className:"w-4 h-4 mr"})})]})})]},a.id))})]})}),!p&&s.length>c&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>v(h-1),disabled:h===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(T,{className:"h-5 w-5","aria-hidden":"true"})]}),Array.from({length:Math.ceil(s.length/c)}).map((a,n)=>e.jsx("button",{onClick:()=>v(n+1),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium
                      ${h===n+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:n+1},n)),e.jsxs("button",{onClick:()=>v(h+1),disabled:h===Math.ceil(s.length/c),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(I,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})}function ge({type:s=3}){const[x,p]=o.useState([]),[d,h]=o.useState(!0),[m,c]=o.useState(1),[j]=o.useState(5),{user:g}=P(),u=L();o.useEffect(()=>{(async()=>{h(!0);try{const a=await oe.getPreCommandes(g.id);if(Array.isArray(a)){const n=a.filter(y=>y.state!=="cancel");console.log("Filtered pre-commandes:",n),p(n)}else console.error("Received data is not an array:",a),p([])}catch(a){console.error("Erreur lors de la récupération des modèles",a)}finally{h(!1)}})()},[g.id]);const f=(t,a)=>{t.preventDefault(),console.log(a),u(`/pre-commandes/${a.id}/détails`,{state:{commande:a}})},b=m*j,N=b-j,C=x.slice(N,b),v=t=>c(t),l=t=>{switch(t){case"to_delivered":return e.jsx(V,{className:"w-5 h-5 text-blue-500"});case"delivered":return e.jsx(M,{className:"w-5 h-5 text-green-500"});default:return e.jsx(U,{className:"w-5 h-5 text-yellow-500"})}},i=t=>{switch(t){case"to_delivered":return"En cours de livraison";case"delivered":return"Livré";default:return"Validé"}},r=t=>{switch(t){case"not_paid":return"text-red-500";case"partial":return"text-yellow-500";case"paid":return"text-green-500";default:return""}};return e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[e.jsx("div",{className:"flex items-center mb-6",children:e.jsx("h2",{className:"text-2xl font-bold",children:"Précommandes"})}),d?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):x.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"Votre Liste de précommandes est vide"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 text-left",children:"Précommande"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Date"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Statut"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Payment"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Montant"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Action"})]})}),e.jsx("tbody",{children:C.map(t=>e.jsxs("tr",{className:"border-b",children:[e.jsxs("td",{className:"py-2 px-4",children:["#",t.name]}),e.jsx("td",{className:"py-2 px-4",children:F(t.date_order)}),e.jsx("td",{className:"py-2 px-4",children:e.jsxs("div",{className:"flex items-center",children:[l(t.state),e.jsx("span",{className:"ml-2 capitalize",children:i(t.state)})]})}),e.jsx("td",{className:"py-2 px-4",children:e.jsxs("div",{className:r(t.advance_payment_status),children:[t.advance_payment_status==="not_paid"&&"Non Effectif",t.advance_payment_status==="partial"&&"Partiellement payé",t.advance_payment_status==="paid"&&"Effectif",t.advance_payment_status==="partial"&&e.jsxs("p",{className:"text-sm",children:["Reste : ",w(t.amount_residual)]})]})}),e.jsx("td",{className:"py-2 px-4",children:e.jsx("span",{className:r(t.advance_payment_status),children:w(t.amount_total)})}),e.jsx("td",{className:"py-2 px-4",children:e.jsxs("button",{onClick:a=>f(a,t),className:"flex items-center px-3 py-1 bg-bleu-logo text-white rounded hover:bg-bleu-claire transition-colors",children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Détails"]})})]},t.id))})]})}),!d&&x.length>j&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>v(m-1),disabled:m===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(T,{className:"h-5 w-5","aria-hidden":"true"})]}),Array.from({length:Math.ceil(x.length/j)}).map((t,a)=>e.jsx("button",{onClick:()=>v(a+1),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium
                  ${m===a+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:a+1},a)),e.jsxs("button",{onClick:()=>v(m+1),disabled:m===Math.ceil(x.length/j),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(I,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})}function ye(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"items-wrapper-bank-payment w-full",children:[e.jsxs("ul",{className:"items",children:[e.jsxs("li",{className:"sm:flex justify-between items-center w-full py-[30px] border-b border-light-purple",children:[e.jsxs("div",{className:"flex space-x-5 items-center mb-3 sm:mb-0",children:[e.jsx("div",{className:"sm:w-[120px] sm:h-[120px] flex items-center justify-center rounded-full sm:bg-[#F2F2F2]",children:e.jsx("img",{src:"undefined/images/card-1.svg",alt:"payment"})}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("p",{className:"sm:text-xl text-lg tracking-wide text-qblack font-bold",children:"Datch Bangla Bank Ltd"}),e.jsx("p",{className:"text-thin-light-gray sm:text-18 text-sm tracking-wide",children:"Bank **********5535"}),e.jsx("p",{className:"sm:text-18 text-sm tracking-wide text-green-500",children:"Verified"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"button",className:"w-[116px] sm:h-[46px] h-[40px]  bg-qyellow text-qblack font-medium sm:text-18 text-sm tracking-wide",children:e.jsx("span",{children:"Manage"})})})]}),e.jsxs("li",{className:"sm:flex justify-between items-center w-full py-[30px] border-b border-light-purple",children:[e.jsxs("div",{className:"flex space-x-5 items-center mb-3 sm:mb-0",children:[e.jsx("div",{className:"sm:w-[120px] sm:h-[120px] flex items-center justify-center rounded-full sm:bg-[#F2F2F2]",children:e.jsx("img",{src:"undefined/images/card-2.svg",alt:"payment"})}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("p",{className:"sm:text-xl text-lg tracking-wide text-qblack font-bold",children:"Datch Bangla Bank Ltd"}),e.jsx("p",{className:"text-thin-light-gray sm:text-18 text-sm tracking-wide",children:"Bank **********5535"}),e.jsx("p",{className:"sm:text-18 text-sm tracking-wide text-green-500",children:"Verified"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"button",className:"w-[116px] sm:h-[46px] h-[40px]  bg-qyellow text-qblack font-medium sm:text-18 text-sm tracking-wide",children:e.jsx("span",{children:"Manage"})})})]}),e.jsxs("li",{className:"sm:flex justify-between items-center w-full py-[30px] border-b border-light-purple",children:[e.jsxs("div",{className:"flex space-x-5 items-center mb-3 sm:mb-0",children:[e.jsx("div",{className:"sm:w-[120px] sm:h-[120px] flex items-center justify-center rounded-full sm:bg-[#F2F2F2]",children:e.jsx("img",{src:"undefined/images/card-3.svg",alt:"payment"})}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("p",{className:"sm:text-xl text-lg tracking-wide text-qblack font-bold",children:"Datch Bangla Bank Ltd"}),e.jsx("p",{className:"text-thin-light-gray sm:text-18 text-sm tracking-wide",children:"Bank **********5535"}),e.jsx("p",{className:"sm:text-18 text-sm tracking-wide text-green-500",children:"Verified"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"button",className:"w-[116px] sm:h-[46px] h-[40px]  bg-qyellow text-qblack font-medium sm:text-18 text-sm tracking-wide",children:e.jsx("span",{children:"Manage"})})})]}),e.jsxs("li",{className:"sm:flex justify-between items-center w-full py-[30px] border-b border-light-purple",children:[e.jsxs("div",{className:"flex space-x-5 items-center mb-3 sm:mb-0",children:[e.jsx("div",{className:"sm:w-[120px] sm:h-[120px] flex items-center justify-center rounded-full sm:bg-[#F2F2F2]",children:e.jsx("img",{src:"undefined/images/card-4.svg",alt:"payment"})}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("p",{className:"sm:text-xl text-lg tracking-wide text-qblack font-bold",children:"Datch Bangla Bank Ltd"}),e.jsx("p",{className:"text-thin-light-gray sm:text-18 text-sm tracking-wide",children:"Bank **********5535"}),e.jsx("p",{className:"sm:text-18 text-sm tracking-wide text-green-500",children:"Verified"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"button",className:"w-[116px] sm:h-[46px] h-[40px]  bg-qyellow text-qblack font-medium sm:text-18 text-sm tracking-wide",children:e.jsx("span",{children:"Manage"})})})]})]}),e.jsxs("div",{className:"flex space-x-4 ",children:[e.jsx("button",{type:"button",className:"text-white bg-qblack w-[126px] h-[50px] text-sm font-semibold",children:"Add Card"}),e.jsx("button",{type:"button",className:"text-qblack  w-[126px] h-[50px] text-sm font-semibold border border-qblack",children:"Add Bank"})]})]})})}function Ne(){const{user:s,parent:x}=P(),p=L(),d=o.useRef(null),[h,m]=o.useState(null),c=l=>l==null?!1:typeof l=="boolean"?!0:typeof l=="number"?l!==0:typeof l=="string"?l.trim()!=="":!0,j=l=>typeof l=="boolean"?l?"Oui":"Non":l instanceof Date?l.toLocaleDateString("fr-FR"):l,g=l=>{var i;return(i=s==null?void 0:s[l])!=null?i:x==null?void 0:x[l]},u=()=>{const l=g("telephone");if(c(l))return{value:l,label:"Téléphone"};const i=g("partner_phone");return c(i)?{value:i,label:"Téléphone"}:null},f=()=>{const l=g("prenom"),i=g("nom");if(c(l)&&c(i))return[{value:l,label:"Prénom",key:"prenom"},{value:i,label:"Nom",key:"nom"}];const r=g("name");return c(r)?[{value:r,label:"Nom complet",key:"name"}]:[]},b={identite:{fields:[{key:"email",label:"Email"},{key:"date_naissance",label:"Date de naissance"},{key:"lieu_naissance",label:"Lieu de naissance"},{key:"nationalite",label:"Nationalité"},{key:"cni_number",label:"Numéro CNI"}]},contact:{fields:[{key:"adresse",label:"Adresse"},{key:"partner_city",label:"Ville"},{key:"country_name",label:"Pays"},{key:"country_code",label:"Code pays"},{key:"is_verified",label:"Compte vérifié"}]},professionnel:{title:"Informations Professionnelles",fields:[{key:"profession",label:"Profession"},{key:"rib",label:"RIB"},{key:"employer_partner_name",label:"Employeur"},{key:"employer_partner_email",label:"Email employeur"},{key:"employer_partner_phone",label:"Téléphone employeur"},{key:"employer_partner_adresse",label:"Adresse employeur"}]}},N=l=>{const i=l.fields.filter(r=>{const t=g(r.key);return c(t)});return i.length===0?null:e.jsxs("div",{className:"mb-6 sm:mb-7 md:mb-8",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-3 sm:mb-4 pb-2 border-b border-gray-200",children:l.title}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:i.map(r=>{const t=g(r.key),a=r.format?r.format(t):j(t);return e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-600 mb-1",children:r.label}),e.jsx("div",{className:"text-sm sm:text-base text-gray-900 font-semibold break-words",children:a})]},r.key)})})]},l.title)};o.useEffect(()=>{if(!s){p("/login");return}const l="avatar_"+s.id,i=localStorage.getItem(l);s.avatar?m(s.avatar):m(i||"/images/edit-profileimg.jpg")},[s,p]);const C=l=>{const i=l.target.files[0],r="avatar_"+s.id;if(i){const t=new FileReader;t.onload=async a=>{m(a.target.result),localStorage.setItem(r,a.target.result);try{const n=await ee.updateUserAvatar(a.target.result);n.status==="success"&&(_.success(n.message,{position:"top-center",autoClose:5e3}),m(n.avatar))}catch(n){_.error("Erreur lors de la mise à jour de l'avatar")}},t.readAsDataURL(i)}else m("/images/edit-profileimg.jpg"),localStorage.removeItem(r)},v=()=>{var l;(l=d.current)==null||l.click()};return s?e.jsx("div",{className:"container mx-auto px-3 sm:px-4 md:px-6 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row space-y-4 sm:space-y-6 md:space-y-8 lg:space-y-0 lg:space-x-6 xl:space-x-8",children:[e.jsx("div",{className:"w-full lg:w-1/3 xl:w-1/4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-5 md:p-6",children:[e.jsxs("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-800 flex items-center mb-4 sm:mb-5 md:mb-6",children:[e.jsx("span",{className:"hidden sm:inline",children:"Mettre à jour le profil"}),e.jsx("span",{className:"sm:hidden",children:"Profil"}),e.jsx("span",{className:"ml-2",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M10 0C4.47457 0 0 4.47791 0 10C0 15.5221 4.47791 20 10 20C15.5221 20 20 15.5221 20 10C19.9967 4.48126 15.5221 0.00669344 10 0ZM10 16.67C9.53815 16.67 9.16667 16.2985 9.16667 15.8367C9.16667 15.3748 9.53815 15.0033 10 15.0033C10.4618 15.0033 10.8333 15.3748 10.8333 15.8367C10.8333 16.2952 10.4618 16.67 10 16.67ZM11.6098 10.425C11.1078 10.7396 10.8132 11.2952 10.8333 11.8842V12.5033C10.8333 12.9652 10.4618 13.3367 10 13.3367C9.53815 13.3367 9.16667 12.9652 9.16667 12.5033V11.8842C9.14324 10.6861 9.76907 9.56827 10.8032 8.96586C11.4357 8.61781 11.7704 7.90161 11.6366 7.19545C11.5027 6.52276 10.9772 5.99732 10.3046 5.8668C9.40094 5.69946 8.5308 6.29853 8.36346 7.20214C8.34673 7.30254 8.33668 7.40295 8.33668 7.50335C8.33668 7.96519 7.9652 8.33668 7.50335 8.33668C7.0415 8.33668 6.67002 7.96519 6.67002 7.50335C6.67002 5.66265 8.16265 4.17001 10.0067 4.17001C11.8474 4.17001 13.34 5.66265 13.34 7.50669C13.3333 8.71821 12.674 9.83601 11.6098 10.425Z",fill:"#374557",fillOpacity:"0.6"})})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 rounded-full overflow-hidden relative mx-auto",children:e.jsx("img",{src:h||"/images/edit-profileimg.jpg",alt:"CCBM Shop Profile",className:"object-cover w-full h-full"})}),e.jsx("input",{ref:d,onChange:C,type:"file",className:"hidden",accept:"image/*"}),e.jsx("button",{onClick:v,className:"absolute bottom-1 right-1 sm:bottom-2 sm:right-2 w-8 h-8 sm:w-10 sm:h-10 bg-blue-500 rounded-full flex items-center justify-center cursor-pointer hover:bg-blue-600 transition-colors shadow-lg","aria-label":"Modifier l'avatar",children:e.jsx(le,{className:"text-white w-4 h-4 sm:w-5 sm:h-5"})})]})})]})}),e.jsx("div",{className:"w-full lg:w-2/3 xl:w-3/4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-5 md:p-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-5 md:mb-6 text-gray-800",children:"Informations Personnelles"}),e.jsxs("div",{className:"mb-6 sm:mb-7 md:mb-8",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-3 sm:mb-4 pb-2 border-b border-gray-200",children:"Identité"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[f().map(l=>e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-600 mb-1",children:l.label}),e.jsx("div",{className:"text-sm sm:text-base text-gray-900 font-semibold break-words",children:j(l.value)})]},l.key)),b.identite.fields.map(l=>{const i=g(l.key);if(!c(i))return null;const r=l.format?l.format(i):j(i);return e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-600 mb-1",children:l.label}),e.jsx("div",{className:"text-sm sm:text-base text-gray-900 font-semibold break-words",children:r})]},l.key)})]})]}),e.jsxs("div",{className:"mb-6 sm:mb-7 md:mb-8",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-3 sm:mb-4 pb-2 border-b border-gray-200",children:"Contact"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[(()=>{const l=u();return l?e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-600 mb-1",children:l.label}),e.jsx("div",{className:"text-sm sm:text-base text-gray-900 font-semibold break-words",children:j(l.value)})]},"telephone"):null})(),b.contact.fields.map(l=>{const i=g(l.key);if(!c(i))return null;const r=l.format?l.format(i):j(i);return e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-600 mb-1",children:l.label}),e.jsx("div",{className:"text-sm sm:text-base text-gray-900 font-semibold break-words",children:r})]},l.key)})]})]}),N(b.professionnel)]})})]})}):null}function ve({className:s}){const{wishlist:x,removeFromWishlist:p,addToCart:d,cart:h,preorder:m,addToPreorder:c}=o.useContext(H);console.log(x);const j=(f,b)=>{f.preventDefault(),p(b)},g=(f,b)=>{f.preventDefault(),d(b,b.quantity),_.success("Produit ajouté",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),console.log("Ajout au panier :",h)},u=(f,b)=>{f.preventDefault(),c(b,b.quantity),console.log("Ajout au pré-commande :",m),_.success("Produit ajouté",{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`w-full ${s||""}`,children:e.jsx("div",{className:"relative w-full overflow-x-auto border border-[#EDEDED]",children:e.jsx("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"text-[13px] font-medium text-black bg-[#F6F6F6] whitespace-nowrap px-2 border-b default-border-bottom uppercase",children:[e.jsx("td",{className:"py-4 pl-10 block whitespace-nowrap  w-[380px]",children:"Produit"}),e.jsx("td",{className:"py-4 whitespace-nowrap text-center",children:"PRIX"}),e.jsx("td",{className:"py-4 whitespace-nowrap  text-center",children:"Quantité"}),e.jsx("td",{className:"py-4 whitespace-nowrap  text-center",children:"Total"}),e.jsx("td",{className:"py-4 whitespace-nowrap text-right w-[114px] block"})]}),x.map((f,b)=>e.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[e.jsx("td",{className:"pl-10  py-4 ",children:e.jsxs("div",{className:"flex space-x-6 items-center",children:[e.jsx("div",{className:"w-[80px] h-[80px] overflow-hidden flex justify-center items-center border border-[#EDEDED]",children:e.jsx("img",{src:`${f.image_1920}`,alt:"product",className:"w-full h-full object-contain"})}),e.jsx("div",{className:"flex-1 flex flex-col",children:e.jsx("p",{className:"font-medium text-[15px] text-qblack",children:f.name})})]})}),e.jsx("td",{className:"text-center py-4 px-2",children:e.jsx("div",{className:"flex space-x-1 items-center justify-center",children:e.jsxs("span",{className:"text-[15px] font-normal",children:[" ",w(f.list_price)]})})}),e.jsx("td",{className:" py-4",children:e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(W,{produit:f})})}),e.jsx("td",{className:"text-center py-4 px-2",children:e.jsx("div",{className:"flex space-x-1 items-center justify-center",children:e.jsxs("span",{className:"text-[15px] font-normal",children:[" ",w(f.list_price*f.quantity)]})})}),e.jsx("td",{className:"text-right py-4",children:e.jsxs("div",{className:"flex space-x-5 items-center justify-center",children:[e.jsx("button",{onClick:N=>j(N,f),className:"duration-200 hover:scale-150",children:e.jsx(Y,{className:"hover:text-red-500"})}),e.jsx("button",{onClick:N=>g(N,f),className:"duration-200 hover:scale-150",children:e.jsx(J,{className:"hover:text-yellow-500"})}),e.jsx("button",{onClick:N=>u(N,f),className:"duration-200 hover:scale-150",children:e.jsx(J,{className:"hover:text-green-500"})})]})})]},b))]})})})}),x.length>0&&e.jsx("div",{className:"w-full mt-[30px] flex sm:justify-end justify-start",children:e.jsxs("div",{className:"sm:flex sm:space-x-[30px] items-center",children:[e.jsx("button",{type:"button",children:e.jsx("div",{className:"w-full text-sm font-semibold text-qred mb-5 sm:mb-0",children:"Supprimer la liste"})}),e.jsx("div",{className:"w-[180px] h-[50px]",children:e.jsx("button",{type:"button",className:"blue-logo-btn",children:e.jsx("div",{className:"w-full text-sm font-semibold",children:"Commander"})})})]})}),x.length==0&&e.jsx("p",{className:"text-center mt-5 ",children:"Votre liste de souhait est vide "})]})}function we({className:s}){const{cart:x}=o.useContext(H);return console.log(x),e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-full mt-[23px]",children:e.jsxs("div",{className:"container-x mx-auto",children:[e.jsx(me,{className:"mb-[30px]"}),e.jsx("div",{className:"w-full sm:flex justify-between",children:e.jsxs("div",{className:"flex space-x-2.5 items-center",children:[e.jsx(S,{children:e.jsx("div",{className:"w-[220px] h-[50px] bg-[#F6F6F6] flex justify-center items-center",children:e.jsx("span",{className:"text-sm font-semibold",children:"Continuer vos achats"})})}),e.jsx(S,{children:e.jsx("div",{className:"w-[140px] h-[50px] bg-[#F6F6F6] flex justify-center items-center",children:e.jsx("span",{className:"text-sm font-semibold",children:"Update Cart"})})})]})}),e.jsx("div",{className:"w-full mt-[30px] flex sm:justify-end",children:e.jsxs("div",{className:"sm:w-[370px] w-full border border-[#EDEDED] px-[30px] py-[26px]",children:[e.jsxs("div",{className:"sub-total mb-6",children:[e.jsxs("div",{className:" flex justify-between mb-6",children:[e.jsx("p",{className:"text-[15px] font-medium text-qblack",children:"Subtotal"}),e.jsx("p",{className:"text-[15px] font-medium text-qred",children:"$365"})]}),e.jsx("div",{className:"w-full h-[1px] bg-[#EDEDED]"})]}),e.jsxs("div",{className:"shipping mb-6",children:[e.jsx("span",{className:"text-[15px] font-medium text-qblack mb-[18px] block",children:"Shipping"}),e.jsxs("ul",{className:"flex flex-col space-y-1",children:[e.jsx("li",{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex space-x-2.5 items-center",children:[e.jsx("div",{className:"input-radio",children:e.jsx("input",{type:"radio",name:"price",className:"accent-pink-500"})}),e.jsx("span",{className:"text-[13px] text-normal text-qgraytwo",children:"Free Shipping"})]}),e.jsx("span",{className:"text-[13px] text-normal text-qgraytwo",children:"+$00.00"})]})}),e.jsx("li",{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex space-x-2.5 items-center",children:[e.jsx("div",{className:"input-radio",children:e.jsx("input",{type:"radio",name:"price",className:"accent-pink-500"})}),e.jsx("span",{className:"text-[13px] text-normal text-qgraytwo",children:"Flat Rate"})]}),e.jsx("span",{className:"text-[13px] text-normal text-qgraytwo",children:"+$00.00"})]})}),e.jsx("li",{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex space-x-2.5 items-center",children:[e.jsx("div",{className:"input-radio",children:e.jsx("input",{type:"radio",name:"price",className:"accent-pink-500"})}),e.jsx("span",{className:"text-[13px] text-normal text-qgraytwo",children:"Local Delivery"})]}),e.jsx("span",{className:"text-[13px] text-normal text-qgraytwo",children:"+$00.00"})]})})]})]}),e.jsxs("div",{className:"shipping-calculation w-full mb-3",children:[e.jsx("div",{className:"title mb-[17px]",children:e.jsx("h1",{className:"text-[15px] font-medium",children:"Calculate Shipping"})}),e.jsxs("div",{className:"w-full h-[50px] border border-[#EDEDED] px-5 flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-[13px] text-qgraytwo",children:"Select Country"}),e.jsx("span",{children:e.jsx("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5.4 6.8L0 1.4L1.4 0L5.4 4L9.4 0L10.8 1.4L5.4 6.8Z",fill:"#222222"})})})]}),e.jsx("div",{className:"w-full h-[50px]",children:e.jsx(W,{inputClasses:"w-full h-full",type:"text",placeholder:"Postcode / ZIP"})})]}),e.jsx("button",{type:"button",className:"w-full mb-10",children:e.jsx("div",{className:"w-full h-[50px] bg-[#F6F6F6] flex justify-center items-center",children:e.jsx("span",{className:"text-sm font-semibold",children:"Update Cart"})})}),e.jsx("div",{className:"total mb-6",children:e.jsxs("div",{className:" flex justify-between",children:[e.jsx("p",{className:"text-[18px] font-medium text-qblack",children:"Total"}),e.jsx("p",{className:"text-[18px] font-medium text-qred",children:"$365"})]})}),e.jsx(S,{to:"/checkout",children:e.jsx("div",{className:"w-full h-[50px] black-btn flex justify-center items-center",children:e.jsx("span",{className:"text-sm font-semibold",children:"Proceed to Checkout"})})})]})})]})})})}function Ce({className:s}){const{preorder:x}=o.useContext(H);console.log(x);const p=(d,h)=>{d.preventDefault()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"welcome-msg w-full",children:e.jsx("div",{children:e.jsx("h1",{className:"font-bold text-[24px] text-qblack",children:"Panier Précommande"})})}),e.jsx("div",{className:`w-full ${s||""}`,children:e.jsx("div",{className:"relative w-full overflow-x-auto border border-[#EDEDED]",children:e.jsx("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"text-[13px] font-medium text-black bg-[#F6F6F6] whitespace-nowrap px-2 border-b default-border-bottom uppercase",children:[e.jsx("td",{className:"py-4 pl-10 block whitespace-nowrap  w-[380px]",children:"Produit"}),e.jsx("td",{className:"py-4 whitespace-nowrap text-center",children:"PRIX"}),e.jsx("td",{className:"py-4 whitespace-nowrap  text-center",children:"Quantité"}),e.jsx("td",{className:"py-4 whitespace-nowrap  text-center",children:"Total"}),e.jsx("td",{className:"py-4 whitespace-nowrap text-right w-[114px] block"})]}),x.map((d,h)=>e.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[e.jsx("td",{className:"pl-10  py-4 ",children:e.jsxs("div",{className:"flex space-x-6 items-center",children:[e.jsx("div",{className:"w-[80px] h-[80px] overflow-hidden flex justify-center items-center border border-[#EDEDED]",children:e.jsx("img",{src:`${d.image_1920}`,alt:"product",className:"w-full h-full object-contain"})}),e.jsx("div",{className:"flex-1 flex flex-col",children:e.jsx("p",{className:"font-medium text-[15px] text-qblack",children:d.name})})]})}),e.jsx("td",{className:"text-center py-4 px-2",children:e.jsx("div",{className:"flex space-x-1 items-center justify-center",children:e.jsxs("span",{className:"text-[15px] font-normal",children:[" ",w(d.list_price)]})})}),e.jsx("td",{className:" py-4",children:e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(W,{produit:d})})}),e.jsx("td",{className:"text-center py-4 px-2",children:e.jsx("div",{className:"flex space-x-1 items-center justify-center",children:e.jsxs("span",{className:"text-[15px] font-normal",children:[" ",w(d.list_price*d.quantity)]})})}),e.jsx("td",{className:"text-right py-4",children:e.jsx("div",{className:"flex space-x-5 items-center justify-center",children:e.jsx("button",{onClick:m=>p(m),className:"duration-200 hover:scale-150",children:e.jsx(Y,{className:"hover:text-red-500"})})})})]},h))]})})})}),e.jsx("div",{className:"w-full mt-[30px] flex sm:justify-end justify-start",children:e.jsxs("div",{className:"sm:flex sm:space-x-[30px] items-center",children:[e.jsx("button",{type:"button",children:e.jsx("div",{className:"w-full text-sm font-semibold text-qred mb-5 sm:mb-0",children:"Vider le panier"})}),e.jsx("div",{className:"w-[180px] h-[50px]",children:e.jsx("button",{type:"button",className:"blue-logo-btn",children:e.jsx("div",{className:"w-full text-sm font-semibold",children:"Valider Pré Commande"})})})]})})]})}function ke(s){return{source:"OM",transaction_id:s.transaction_id,order_id:s.order&&s.order.id,order_name:s.order&&s.order.name,order_type:s.order&&s.order.type_sale||"order",amount:Number(s.amount)||0,currency:s.currency||"XOF",phone:s.customer_msisdn||"",description:s.description||"",url_facture:s.url_facture||"",status_raw:String(s.status||"").toUpperCase(),payment_date:s.completed_at||s.updated_at||s.created_at||null}}function _e(s){var x,p;return{source:"WAVE",transaction_id:s.transaction_id,order_id:(x=s.order)==null?void 0:x.id,order_name:(p=s.order)==null?void 0:p.name,order_type:s.order&&s.order.type_sale||s.order_type||"order",amount:Number(s.amount)||0,currency:s.currency||"XOF",phone:s.phone||"",description:s.description||"",url_facture:s.url_facture||"",status_raw:String(s.status||"").toUpperCase(),payment_date:s.completed_at||s.created_at||null}}function R(s){const x=String(s).toUpperCase();return["SUCCESS","SUCCEEDED","COMPLETED","PAID","SALE"].includes(x)?"paid":["FAILED","CANCELLED","CANCELED","EXPIRED","REJECTED"].includes(x)?"failed":"pending"}function Pe(){const[s,x]=o.useState([]),[p,d]=o.useState(!0),[h,m]=o.useState(1),[c]=o.useState(5),[j,g]=o.useState(!1),[u,f]=o.useState(null),{user:b}=P();o.useEffect(()=>{let n=!0;async function y(){d(!0);try{const[k,q]=await Promise.all([G.getOrangeTransactionsByPartner(b.partner_id),G.getWaveTransactionsByPartner(b.partner_id)]);console.log(k,q);const E=[...Array.isArray(k)?k.map(ke):[],...Array.isArray(q)?q.map(_e):[]];E.sort((B,X)=>{const se=B.payment_date?new Date(B.payment_date).getTime():0;return(X.payment_date?new Date(X.payment_date).getTime():0)-se}),n&&x(E)}catch(k){console.error("Erreur chargement paiements:",k),n&&x([])}finally{n&&d(!1)}}return y(),()=>{n=!1}},[b.partner_id]);const N=(n,y)=>{n.preventDefault(),f(y),g(!0)},C=()=>{g(!1),f(null)},v=(n,y)=>{n.preventDefault(),y&&window.open(y,"_blank","noopener,noreferrer")},l=h*c,i=l-c,r=s.slice(i,l),t=Math.ceil(s.length/c),a=n=>m(n);return e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[e.jsx("div",{className:"flex items-center mb-6",children:e.jsx("h2",{className:"text-2xl font-bold",children:"Détails des paiements"})}),p?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):s.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"Aucun paiement effectué"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 text-left",children:"Passerelle"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Commande"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Date"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Statut"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Montant"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Action"})]})}),e.jsx("tbody",{children:r.map((n,y)=>{const k=R(n.status_raw),q=k==="pending",E=k==="paid";return e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2 px-4",children:n.source}),e.jsxs("td",{className:"py-2 px-4",children:["#",n.order_name]}),e.jsx("td",{className:"py-2 px-4",children:n.payment_date?F(n.payment_date):"-"}),e.jsx("td",{className:"py-2 px-4",children:e.jsxs("div",{className:"flex items-center",children:[E?e.jsx(M,{className:"w-5 h-5 text-green-500 mr-2"}):q?e.jsx(Z,{className:"w-5 h-5 text-yellow-500 mr-2"}):e.jsx(Z,{className:"w-5 h-5 text-red-500 mr-2"}),e.jsx("span",{className:E?"text-green-600":q?"text-yellow-600":"text-red-600",children:E?"Payé":q?"En attente":"Échoué"})]})}),e.jsx("td",{className:"py-2 px-4",children:e.jsx("span",{className:E?"text-green-600":q?"text-yellow-600":"text-red-600",children:w(n.amount)})}),e.jsx("td",{className:"py-2 px-4",children:e.jsxs("button",{onClick:B=>N(B,n),className:"flex items-center px-3 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors",children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Détails"]})})]},`${n.source}-${n.transaction_id}-${y}`)})})]})}),!p&&s.length>c&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>a(h-1),disabled:h===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(T,{className:"h-5 w-5","aria-hidden":"true"})]}),Array.from({length:t}).map((n,y)=>e.jsx("button",{onClick:()=>a(y+1),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${h===y+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:y+1},y)),e.jsxs("button",{onClick:()=>a(h+1),disabled:h===t,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(I,{className:"h-5 w-5","aria-hidden":"true"})]})]})}),j&&u&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-md",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Détails du paiement"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Passerelle :"})," ",u.source]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Transaction ID :"})," ",u.transaction_id]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Date :"})," ",u.payment_date?F(u.payment_date):"-"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Statut :"})," ",R(u.status_raw)==="paid"?"Payé":R(u.status_raw)==="pending"?"En attente":"Échoué"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsxs("strong",{children:["Nom ",u.order_type==="order"?"Commande":"Précommande"," :"]})," ",u.order_name]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Montant payé :"})," ",w(u.amount)]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Téléphone :"})," ",u.phone||"-"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Description :"})," ",u.description||"-"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Facture :"})," ",u.url_facture?e.jsx("button",{className:"text-blue-500 underline",onClick:n=>v(n,u.url_facture),children:"Ouvrir la facture"}):e.jsx("span",{children:"-"})]})]}),e.jsx("button",{onClick:C,className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition-colors",children:"Fermer"})]})})]})}function qe(){const[s,x]=o.useState([]),[p,d]=o.useState(!0),[h,m]=o.useState(1),[c]=o.useState(10),{user:j}=P(),g=L();o.useEffect(()=>{(async()=>{d(!0);try{const r=(await A.getCommandes(j.id)).filter(t=>t.state==="draft");x(r),console.log(r)}catch(i){console.error("Erreur lors de la récupération des modèles",i)}finally{d(!1)}})()},[j.id]);const u=(l,i)=>{l.preventDefault(),console.log(i),g(`/commandes/${i.id}/détails`,{state:{commande:i}})},f=(l,i)=>{l.preventDefault(),console.log(i),window.confirm("Voulez-vous supprimer cette commande?")&&A.deleteCommande(i.id).then(()=>{x(s.filter(r=>r.id!==i.id)),console.log("Commande supprimée avec succès"),_.success("Commande supprimée avec succès",{position:"top-center"})}).catch(r=>{console.error("Erreur lors de la suppression",r),_.error(r.message,{position:"top-center"})})},b=h*c,N=b-c,C=s.slice(N,b),v=l=>m(l);return e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[e.jsx("div",{className:"flex items-center mb-6",children:e.jsx("h2",{className:"text-2xl font-bold",children:"Commandes brouillon"})}),p?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):s.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"Aucune commande brouillon trouvée"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 text-left",children:"Commande"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Date"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Statut"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Montant"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Actions"})]})}),e.jsx("tbody",{children:C.map(l=>e.jsxs("tr",{className:"border-b",children:[e.jsxs("td",{className:"py-2 px-4",children:["#",l.name]}),e.jsx("td",{className:"py-2 px-4",children:F(l.date_order)}),e.jsx("td",{className:"py-2 px-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(U,{className:"w-5 h-5 text-yellow-500 mr-2"}),e.jsx("span",{children:"Brouillon"})]})}),e.jsx("td",{className:"py-2 px-4",children:w(l.amount_total)}),e.jsx("td",{className:"py-2 px-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:i=>u(i,l),className:"flex items-center px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Détails"]}),e.jsxs("button",{onClick:i=>f(i,l),className:"flex items-center px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Supprimer"]})]})})]},l.id))})]})}),!p&&s.length>c&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>v(h-1),disabled:h===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(T,{className:"h-5 w-5","aria-hidden":"true"})]}),Array.from({length:Math.ceil(s.length/c)}).map((l,i)=>e.jsx("button",{onClick:()=>v(i+1),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium
                  ${h===i+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:i+1},i)),e.jsxs("button",{onClick:()=>v(h+1),disabled:h===Math.ceil(s.length/c),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(I,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})}function Ee({className:s}){const x=L(),{user:p}=P(),[d,h]=o.useState([]),[m,c]=o.useState(!0),[j,g]=o.useState(1),[u]=o.useState(5);o.useEffect(()=>{p.id&&f(p.id)},[p.id]);const f=async t=>{c(!0);try{const a=await he(t);console.log(a),h(a)}catch(a){console.error("Error fetching clients:",a)}finally{c(!1)}},b=(t,a)=>{t.preventDefault(),x(`/credit-commandes/${a.id}/détails`,{state:{commande:a}})},N=j*u,C=N-u,v=d.slice(C,N),l=t=>g(t),i=t=>t.state==="delivered"&&t.advance_payment_status==="paid"?e.jsx(M,{className:"w-5 h-5 text-green-500"}):t.state==="cancel"?e.jsx(Z,{className:"w-5 h-5 text-red-500"}):t.state==="validation"?e.jsx(z,{className:"w-5 h-5 text-yellow-500"}):t.validation_rh_state==="pending"||t.validation_admin_state==="pending"?e.jsx(re,{className:"w-5 h-5 text-orange-500"}):t.state==="sale"?e.jsx(V,{className:"w-5 h-5 text-blue-500"}):e.jsx(U,{className:"w-5 h-5 text-gray-500"}),r=t=>t.state==="delivered"&&t.advance_payment_status==="paid"?"Livré et payé":t.state==="cancel"?"Annulé":t.state==="validation"?"En validation":t.validation_rh_state==="pending"||t.validation_admin_state==="pending"?"En attente de validation":t.state==="sale"?"En cours":t.state==="draft"?"Brouillon":"Inconnu";return e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4 sm:p-6",children:[e.jsx("div",{className:"flex items-center mb-6",children:e.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Commandes à crédit"})}),m?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):d.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"Aucune commande trouvée"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 text-left",children:"Nom"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Type"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Somme"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Date"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"État"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Action"})]})}),e.jsx("tbody",{children:v.map(t=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2 px-4 whitespace-nowrap",children:t.name}),e.jsx("td",{className:"py-2 px-4 whitespace-nowrap",children:t.credit_type=="direct"?"Direct":"Financé"}),e.jsxs("td",{className:"py-2 px-4 whitespace-nowrap",children:[t.advance_payment_status==="not_paid"&&e.jsx("span",{className:"text-red-500",children:w(t.amount_total)}),t.advance_payment_status==="paid"&&e.jsxs("span",{className:"text-green-500",children:[" ",w(t.amount_total)," "]}),t.advance_payment_status==="partial"&&e.jsxs("span",{className:"text-yellow-500",children:[" ",w(t.amount_total)]})]}),e.jsx("td",{className:"py-2 px-4 whitespace-nowrap",children:new Date(t.date_order).toLocaleDateString()}),e.jsx("td",{className:"py-2 px-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[i(t),e.jsx("span",{className:"ml-2 capitalize",children:r(t)})]})}),e.jsx("td",{className:"py-2 px-4 whitespace-nowrap",children:e.jsxs("button",{onClick:a=>b(a,t),className:"flex items-center px-3 py-1 bg-bleu-logo text-white rounded hover:bg-bleu-claire transition-colors",children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Détails"]})})]},t.id))})]})}),!m&&d.length>u&&e.jsx("div",{className:"mt-6 flex flex-wrap justify-center",children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px overflow-x-auto max-w-full py-2","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>l(j-1),disabled:j===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(T,{className:"h-5 w-5","aria-hidden":"true"})]}),Array.from({length:Math.ceil(d.length/u)}).map((t,a)=>e.jsx("button",{onClick:()=>l(a+1),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium
                                    ${j===a+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:a+1},a)),e.jsxs("button",{onClick:()=>l(j+1),disabled:j===Math.ceil(d.length/u),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(I,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})}function De(){const[s,x]=o.useState([]),[p,d]=o.useState(!0),[h,m]=o.useState(1),[c]=o.useState(10),[j,g]=o.useState(new Set),{user:u}=P();o.useEffect(()=>{const r=async()=>{d(!0);try{const t=await A.getCommandesVenteCher(u.id);x(Array.isArray(t)?t:[])}catch(t){console.error("Erreur lors de la récupération des commandes en cher",t),_.error("Erreur lors de la récupération des commandes en cher",{position:"top-center"})}finally{d(!1)}};u&&u.id&&r()},[u]);const f=h*c,b=f-c,N=s.slice(b,f),C=r=>m(r),v=r=>{switch(r){case"to_delivered":return e.jsx(V,{className:"w-5 h-5 text-blue-500"});case"delivered":case"sale":return e.jsx(M,{className:"w-5 h-5 text-green-500"});default:return e.jsx(z,{className:"w-5 h-5 text-yellow-500"})}},l=r=>{switch(r){case"to_delivered":return"En cours de livraison";case"delivered":return"Livré";case"sale":return"Validé";default:return"En attente"}},i=r=>{g(t=>{const a=new Set(t);return a.has(r)?a.delete(r):a.add(r),a})};return e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h2",{className:"text-2xl font-bold",children:"Commandes Vente en cher"})}),p?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):s.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"Aucune commande Vente en cher pour le moment"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 text-left w-8"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Commande"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Date"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Statut"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Montant"})]})}),e.jsx("tbody",{children:N.map(r=>{const t=j.has(r.id),a=Array.isArray(r.order_lines)?r.order_lines:[];return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-2 px-4",children:a.length>0&&e.jsx("button",{onClick:()=>i(r.id),className:"p-1 hover:bg-gray-200 rounded transition-colors","aria-label":t?"Réduire":"Développer",children:t?e.jsx(ne,{className:"w-4 h-4"}):e.jsx(ie,{className:"w-4 h-4"})})}),e.jsxs("td",{className:"py-2 px-4",children:["#",r.name||r.id]}),e.jsx("td",{className:"py-2 px-4",children:r.date_order?F(r.date_order):"-"}),e.jsx("td",{className:"py-2 px-4",children:e.jsxs("div",{className:"flex items-center",children:[v(r.state),e.jsx("span",{className:"ml-2",children:l(r.state)})]})}),e.jsx("td",{className:"py-2 px-4 font-semibold text-qblack",children:w(r.amount_total||0)})]},r.id),t&&a.length>0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"py-4 px-4 bg-gray-50",children:e.jsxs("div",{className:"pl-4",children:[e.jsx("h4",{className:"font-semibold text-sm mb-3 text-gray-700",children:"Produits de la commande :"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-3 text-left text-xs font-semibold text-gray-700",children:"Produit"}),e.jsx("th",{className:"py-2 px-3 text-left text-xs font-semibold text-gray-700",children:"Quantité"}),e.jsx("th",{className:"py-2 px-3 text-left text-xs font-semibold text-gray-700",children:"Prix unitaire"}),e.jsx("th",{className:"py-2 px-3 text-left text-xs font-semibold text-gray-700",children:"Total"})]})}),e.jsx("tbody",{children:a.map((n,y)=>e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"py-2 px-3",children:n.product_name||`Produit #${n.id||y+1}`}),e.jsx("td",{className:"py-2 px-3",children:n.quantity||0}),e.jsx("td",{className:"py-2 px-3",children:w(n.list_price||0)}),e.jsx("td",{className:"py-2 px-3 font-semibold",children:w((n.list_price||0)*(n.quantity||0))})]},y))})]})})]})})})]})})})]})}),s.length>c&&e.jsx("div",{className:"mt-6 flex justify-center space-x-2",children:Array.from({length:Math.ceil(s.length/c)}).map((r,t)=>e.jsx("button",{onClick:()=>C(t+1),className:`px-3 py-1 rounded text-sm ${h===t+1?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:t+1},t))})]})]})}function ze(){const{user:s,logout:x}=P(),p=L(),h=ce().hash.split("#"),[m,c]=o.useState("dashboard"),[j,g]=o.useState(!1),u=()=>{g(!j)};o.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"}),c(h&&h.length>1?h[1]:"dashboard")},[h]),o.useEffect(()=>{m!=""&&g(!1)},[m]);function f(){x(),p("/login")}return e.jsx(de,{childrenClasses:"pt-0 pb-0",children:e.jsx("div",{className:"profile-page-wrapper w-full",children:e.jsx("div",{className:"container-x mx-auto px-3 sm:px-4 md:px-6",children:e.jsxs("div",{className:"w-full my-4 sm:my-6 md:my-8 lg:my-10",children:[e.jsx(xe,{paths:[{name:"Accueil",path:"/"},{name:"profile",path:"/profile"}]}),e.jsxs("div",{className:"w-full bg-white px-3 sm:px-6 md:px-8 lg:px-10 py-4 sm:py-6 md:py-8 lg:py-9 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"title-area w-full flex justify-between items-center mb-4 sm:mb-6 md:mb-8",children:[e.jsx("h1",{className:"text-lg sm:text-xl md:text-[22px] font-bold text-qblack",children:"Tableau de bord"}),e.jsx("button",{className:"block lg:hidden text-qblack p-2 hover:bg-gray-100 rounded-md transition-colors",onClick:u,"aria-label":"Toggle menu",children:j?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6 sm:w-7 sm:h-7",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6 sm:w-7 sm:h-7",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16m-7 6h7"})})})]}),e.jsxs("div",{className:"profile-wrapper w-full flex flex-col lg:flex-row lg:space-x-6 xl:space-x-10",children:[e.jsx("div",{className:`w-full lg:w-[236px] xl:w-[280px] lg:min-h-[600px] border-b lg:border-b-0 lg:border-r border-[rgba(0, 0, 0, 0.1)] pb-6 lg:pb-0 pr-0 lg:pr-6 xl:pr-10 ${j?"block":"hidden"} lg:block transition-all duration-300 ease-in-out`,children:e.jsxs("div",{className:"flex flex-col space-y-4 sm:space-y-6 md:space-y-8 lg:space-y-10",children:[e.jsx(D,{to:"/profile#dashboard",icon:e.jsx(pe,{}),text:"Tableau de bord",onClick:()=>c("dashboard")}),e.jsx(D,{to:"/profile#profile",icon:e.jsx(je,{}),text:"Information Personnel",onClick:()=>c("profile")}),e.jsx(D,{to:"/profile#order",icon:e.jsx($,{}),text:"Commandes",onClick:()=>c("order")}),s&&e.jsx(D,{to:"/profile#commandes-vente-cher",icon:e.jsx($,{}),text:"Commandes Vente en cher",onClick:()=>c("commandes-vente-cher")}),s&&e.jsx(D,{to:"/profile#commandes-a-credit",icon:e.jsx($,{}),text:"Commandes à crédit",onClick:()=>c("commandes-a-credit")}),e.jsx(D,{onClick:f,icon:e.jsx(ue,{}),text:"Déconnexion"})]})}),e.jsx("div",{className:`flex-1 ${j?"hidden":"block"} lg:block mt-4 lg:mt-0`,children:e.jsxs("div",{className:"item-body dashboard-wrapper w-full",children:[m==="dashboard"&&e.jsx(fe,{}),m==="profile"&&e.jsx(Ne,{}),m==="payment"&&e.jsx(ye,{}),m==="order"&&e.jsx(be,{}),m==="orderDraft"&&e.jsx(qe,{}),m==="payments"&&e.jsx(Pe,{}),m==="preorder"&&e.jsx(ge,{}),m==="wishlist"&&e.jsx(ve,{}),m==="paniercommande"&&e.jsx(we,{}),s&&m==="commandes-a-credit"&&e.jsx(Ee,{}),s&&m==="commandes-vente-cher"&&e.jsx(De,{}),m==="panierprecommande"&&e.jsx(Ce,{})]})})]})]})]})})})})}const D=({to:s,icon:x,text:p,onClick:d})=>e.jsx("div",{className:"item group",children:s?e.jsx(S,{to:s,onClick:d,children:e.jsxs("div",{className:"flex space-x-2 sm:space-x-3 items-center text-qgray hover:text-qblack transition-colors py-2 px-2 rounded-md hover:bg-gray-50",children:[e.jsx("span",{className:"flex-shrink-0",children:x}),e.jsx("span",{className:"font-normal text-sm sm:text-base",children:p})]})}):e.jsx("button",{onClick:d,className:"w-full text-left",children:e.jsxs("div",{className:"flex space-x-2 sm:space-x-3 items-center text-qgray hover:text-qblack transition-colors py-2 px-2 rounded-md hover:bg-gray-50",children:[e.jsx("span",{className:"flex-shrink-0",children:x}),e.jsx("span",{className:"font-normal text-sm sm:text-base",children:p})]})})});export{ze as default};

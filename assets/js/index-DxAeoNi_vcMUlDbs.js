const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/index-COZVrSChSda-wu8t.js","assets/js/react-vendor-oXU13CxVON7vKjIB.js","assets/js/vendor-CztfEaG7C0izJ0f1.js","assets/css/vendor-Dla3QSd698hn3jvw.css","assets/js/ui-libs-DW48STyta0ayNJBW.js","assets/css/react-vendor-BI5q-NTI1o2TTLNM.css","assets/js/DataIteration-B4oL-6elJU5n-SSP.js","assets/js/redux-BZdFRlKmMnL7MBoD.js","assets/js/index-DRFJjbRs5kdgS4vS.js","assets/js/Pagination-BC75wDt-ANCsRj2D.js","assets/js/index-XzAUGZh5K6PRq9NL.js","assets/js/Star-DV9s4yWsO5CGo2tN.js","assets/js/InputCom-Ck-yeogGHyPTjpE0.js","assets/js/index-Dpucu61nTmMvpftj.js","assets/js/index-bziLYeQGVzcmaC7Q.js","assets/js/paimentService-BZriFefE3_EHweaY.js","assets/js/date-format-qL-o8H-fTKutKBrM.js","assets/js/precommandeService-ChXQSxZ5djhQzBGw.js","assets/js/UserContext-Bgxd_yKBjDGSgAOg.js","assets/js/index-CN4_c_ecndUei6YG.js","assets/js/creditCommandeService-DA83YpRVkp1E9At4.js","assets/js/wave-orange-payment-service-C4C_1TvlryCMCsUR.js","assets/js/index-CC19d8U2ynDJBTT1.js","assets/js/index-GjIzlaEV314B3qww.js","assets/js/index-CJvD7U-H3NwHiOCb.js","assets/js/index-D2x4TkzK0M-AdzU2.js","assets/js/ProductsTable-C-FzJ0dy541msByP.js","assets/js/BannerPub-C1y8aLlQ_lMoxDge.js","assets/js/index-C6KkNXpkMv9HGi6j.js","assets/js/index-pHPFrlVFTM-dg2Dw.js","assets/js/index-CQaKdisM5FUsUA1h.js","assets/js/InputQuantityCom-CWK_y4NmzJK0RiAV.js","assets/js/index-CtOmf1dtgdLLLUDP.js","assets/js/entrepriseFunctionService-DnEQnv-oLmQX_d5Q.js","assets/js/index-CLZhrHpI6UlkECjt.js","assets/js/index-Bw8XyQnEdORoc_5v.js","assets/js/index-g8uvd-V4Qj3J_OXA.js","assets/js/index-BhUkA7bqbU4Eu9LU.js","assets/js/index-M921mme35rfZrbhf.js","assets/js/index-ZVyFNN2XI4KdbUOr.js","assets/js/index-CEUtWtZS4g_i6Ol3.js","assets/js/index-C_uP17J_4u4z-RMF.js","assets/js/index-C9wmeKc0gJY-GE6I.js","assets/js/index-Bf8QqAlofZxsHaaX.js","assets/js/index-vWwU0-CRBszVC7oi.js","assets/js/index-CDFxCAkG-mFKoDr_.js","assets/js/index-9Q1Xk7kns1qB_xX8.js","assets/js/index-DwobiS1DoRoP-j_R.js","assets/js/index-BBscU9gg2lmhel_h.js","assets/js/index-ZOKElsYeJo5CNEJA.js","assets/js/index-ofbapbrOkxZ1aYYS.js","assets/js/index-BXDUeDlqiuWQnlJr.js","assets/js/index-qNahCRfn1ZIWU4CZ.js","assets/js/index-BFh09eXRyBfT1-fh.js","assets/js/information-ValJgNjQa7LIWVCo.js"])))=>i.map(i=>d[i]);
var is=Object.defineProperty,ds=Object.defineProperties;var us=Object.getOwnPropertyDescriptors;var Ue=Object.getOwnPropertySymbols;var Nt=Object.prototype.hasOwnProperty,kt=Object.prototype.propertyIsEnumerable;var Ct=(s,t,o)=>t in s?is(s,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[t]=o,I=(s,t)=>{for(var o in t||(t={}))Nt.call(t,o)&&Ct(s,o,t[o]);if(Ue)for(var o of Ue(t))kt.call(t,o)&&Ct(s,o,t[o]);return s},M=(s,t)=>ds(s,us(t));var ue=(s,t)=>{var o={};for(var c in s)Nt.call(s,c)&&t.indexOf(c)<0&&(o[c]=s[c]);if(s!=null&&Ue)for(var c of Ue(s))t.indexOf(c)<0&&kt.call(s,c)&&(o[c]=s[c]);return o};import{b as r,j as e,R as ne,L as T,u as ae,S as Ye,d as $e,H as pt,C as Qe,D as ms,e as le,F as ps,T as et,f as ge,h as xs,i as xt,M as Dt,k as qt,l as ht,A as hs,m as fs,U as gs,X as Ze,n as ft,o as gt,p as js,q as bs,P as ys,s as Pt,t as vs,v as ot,w as Fe,B as Pe,x as ws,y as Q,E as Cs,z as Ns,G as ks,I as Ps,J as Ss,K as Vt,N as Mt,O as Ut,Q as _s,V as Es,W as Ts,Y as zt,Z as Ht,_ as Bt,$ as Gt,a0 as Jt,a1 as Wt,a2 as Xt,a3 as As,a4 as Fs,a5 as Is,a6 as Ls}from"./react-vendor-oXU13CxVON7vKjIB.js";import{_ as X,$ as Zt,a0 as $s,a1 as Os,e as Rs,a2 as Ds}from"./vendor-CztfEaG7C0izJ0f1.js";import{c as qs}from"./redux-BZdFRlKmMnL7MBoD.js";import"./ui-libs-DW48STyta0ayNJBW.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))c(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const i of u.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function o(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function c(a){if(a.ep)return;a.ep=!0;const u=o(a);fetch(a.href,u)}})();const Kt=r.createContext(void 0);function ie(){const s=r.useContext(Kt);if(s===void 0)throw new Error("useAuthContext must be used within an AuthProvider");return s}const ze="__CCBME_REACT_AUTH__PROD",nt="__CCBME_REACT_AUTH__TOKEN__PROD",He="__CCBME_REACT_AUTH__USER_INFO__PROD",Vs="__CCBME_REACT_AUTH__SESSION__PROD",lt="__CCBME_REACT_AUTH__COMPANY__PROD",St="__CCBME_REACT_AUTH__USER_CONTEXT__PROD",ct="__CCBME_REACT_AUTH__IS_VERIFIED__PROD",it="__CCBME_REACT_AUTH__PARET_ID__PROD";function Ms({children:s}){const[t,o]=r.useState(()=>{const P=X.getCookie(it);return P?JSON.parse(P):void 0}),[c,a]=r.useState(()=>{const P=X.getCookie(lt);return P?JSON.parse(P):void 0}),[u,i]=r.useState(()=>{const P=X.getCookie(St);return P?JSON.parse(P):void 0}),[d,p]=r.useState(()=>{const P=X.getCookie(ct);return P?JSON.parse(P):void 0}),[x,b]=r.useState(()=>{const P=X.getCookie(nt);return P?JSON.parse(P):void 0}),[g,C]=r.useState(()=>{const P=X.getCookie(He);return P?JSON.parse(P):void 0}),[N,l]=r.useState(()=>{const P=X.getCookie(ze);return P?JSON.parse(P):void 0}),v=r.useCallback(P=>{X.setCookie(He,JSON.stringify(P.user_info)),C(P.user_info)},[]),f=r.useCallback(P=>{L(P.user_info,g,C),L(P.company,c,a),L(P.parent,t,o),L(P.user_context,u,i),L(P.is_verified,d,p),X.setCookie(ze,JSON.stringify(P)),X.setCookie(nt,JSON.stringify(P.access_token)),X.setCookie(He,JSON.stringify(P.user_info)),X.setCookie(lt,JSON.stringify(P.company)),X.setCookie(ct,JSON.stringify(P.is_verified)),X.setCookie(it,JSON.stringify(P.parent))},[g,c,t,u,d]),S=r.useCallback(()=>{X.deleteCookie(ze),X.deleteCookie(nt),X.deleteCookie(He),X.deleteCookie(Vs),X.deleteCookie(lt),X.deleteCookie(ct),X.deleteCookie(St),X.deleteCookie(it),b(void 0),C(void 0),l(void 0),a(void 0),p(void 0),i(void 0),o(void 0)},[]),G=r.useCallback(async()=>{S(),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("token"),localStorage.removeItem("uid"),localStorage.removeItem("expires_in"),localStorage.removeItem("is_verified"),localStorage.removeItem("refresh_expires_in"),localStorage.removeItem("refresh_token"),localStorage.removeItem("company_id"),localStorage.removeItem("user_context"),localStorage.removeItem("partner_id"),localStorage.removeItem("parent")},[S]),L=(P,R,n)=>{JSON.stringify(P)!==JSON.stringify(R)&&n(P)},J=r.useCallback(async P=>{L(P.user_info,g,C),L(P.company,c,a),L(P.parent,t,o),L(P.user_context,u,i),L(P.is_verified,d,p)},[g,c,t,u,d]),F=r.useCallback(()=>x,[x]),A=r.useCallback(()=>g,[g]),$=r.useCallback(()=>c,[c]),z=r.useCallback(()=>u,[u]),B=r.useMemo(()=>({session:N,logout:G,user:g,token:x,userInfo:g,company:c,parent:t,userContext:u,isVerified:d,getUserInfo:A,getCompany:$,getUserContext:z,getToken:F,saveSession:f,saveUserInfo:v,removeSession:S,isAuthenticated:X.hasCookie(ze)&&d,refreshContext:J}),[N,G,g,x,c,t,u,d,A,$,z,F,f,v,S,J]);return e.jsx(Kt.Provider,{value:B,children:s})}const Yt="https://orbitcity.odoo.com/",Us=Yt,E=Zt.create({baseURL:Yt}),zs=["/auth","/produits","/tags","/categories","/new_compte","/tracking","/sendResetPasswordMail","/create_leads","/api/produits-filtrer","/api/produits-filter-promo","/api/produits-filtrer-tabaski","/api/produits-filtrer-ramadan","/api/produits","/api/auth/get_tokens","/api/new-password","/api/reset-password-sms","/api/new_compte","/api/reset-password-email","/api/auth/refresh_token","/api/get-pub"];E.interceptors.request.use(s=>{zs.some(o=>s.url.startsWith(o)),console.log(localStorage.getItem("access_token")),console.log("access_token");const t=typeof FormData!="undefined"&&s.data instanceof FormData;return!t&&!s.headers["Content-Type"]&&(s.headers["Content-Type"]="application/json"),t&&s.headers["Content-Type"]==="application/json"&&delete s.headers["Content-Type"],s.headers.Accept=s.headers.Accept||"application/json",s},s=>Promise.reject(s));E.interceptors.response.use(s=>s,async s=>{const t=s.config;if(s.response&&s.response.status===401&&!t._retry){t._retry=!0;try{const o=localStorage.getItem("refresh_token"),c=await Zt.post(Us,{refreshToken:o}),{accessToken:a}=c.data;return localStorage.setItem("access_token",a),t.headers["Access-Token"]=`${a}`,E(t)}catch(o){console.error("Refresh token failed",o)}}return Promise.reject(s)});const Be={sendCRMData:async s=>{try{return await E.post("api/create_or_update_crm",s)}catch(t){throw console.error("Error sending CRM data:",t),t}}},tt=()=>(r.useEffect(()=>{ne.initialize("G-RFPT6N0J05")},[]),{trackImageClick:()=>{ne.event({category:"Image",action:"Clicked on product image"})},trackPageView:p=>{ne.send({hitType:"pageview",page:p})},trackEvent:(p,x,b,g)=>{ne.event({category:p,action:x,label:b,value:g})},trackAddToCart:(p,x)=>{ne.event({category:"Ecommerce",action:"Add to Cart",label:p.name,value:p.list_price*x})},trackAddToPreCart:(p,x)=>{ne.event({category:"Ecommerce",action:"Add to PreCart",label:p.name,value:p.preorder_price*x})},trackAddToCreditCart:(p,x)=>{ne.event({category:"Ecommerce",action:"Add to CreditCart",label:p.name,value:p.creditorder_price*x})},trackRemoveFromCart:p=>{ne.event({category:"Ecommerce",action:"Remove from Cart",label:p.name})},trackPurchase:(p,x,b)=>{ne.event({category:"Ecommerce",action:"Purchase",label:p,value:x}),ne.send({hitType:"event",eventCategory:"Ecommerce",eventAction:"Purchase",eventLabel:p,eventValue:x,ecommerce:{purchase:{actionField:{id:p,revenue:x},products:b.map(g=>({name:g.name,price:g.list_price,quantity:g.quantity}))}}})}}),re=r.createContext(),Hs=({children:s})=>{const{user:t}=ie(),{trackEvent:o,trackAddToCart:c,trackAddToPreCart:a,trackAddToCreditCart:u}=tt(),[i,d]=r.useState([]),[p,x]=r.useState([]),[b,g]=r.useState([]),[C,N]=r.useState([]),[l,v]=r.useState([]),[f,S]=r.useState(null),G=Bs();r.useEffect(()=>{(async()=>{try{const j=await fetch("https://ipinfo.io/json?token=a7bca817c4bc37");if(!j.ok)throw new Error("Error fetching location data");const h=await j.json();S(h)}catch(j){console.error("Error:",j)}})(),H()},[]),r.useEffect(()=>{i.length>0&&L()},[i]),r.useEffect(()=>{b.length>0&&J()},[b]),r.useEffect(()=>{C.length>0&&F()},[C]),r.useEffect(()=>{l.length>0&&A()},[l]);const L=async()=>{if(!i.length){console.warn("Panier vide : aucune donnée à envoyer au CRM.");return}const m=B(i),j={guest_id:G||"Guest-Id",location:f?`${f.city}/${f.region}/${f.country} Ip: ${f.ip}`:"",localisation:(f==null?void 0:f.loc)||"",name:t?t.name:"Guest",phone:t?t.partner_phone:"Guest",email:t?t.email:"Guest",type:"commande",total:De(),date:new Date().toLocaleString(),produits:m.map(h=>({id:h.id,nom:h.name,quantité:h.quantity,prix:h.en_promo?h.promo_price:h.list_price,location:h.location,panier:"Commande",date:h.date}))};console.log(j);try{const h=await Be.sendCRMData(j);console.log(h)}catch(h){console.error("Error sending CRM data:",h)}},J=async()=>{const m=B(b),j={guest_id:G,location:f?`${f.city}/${f.region}/${f.country} Ip: ${f.ip}`:"",localisation:(f==null?void 0:f.loc)||"",name:t?t.name:"Guest",phone:t?t.partner_phone:"Guest",email:t?t.email:"Guest",type:"precommande",total:he(),date:new Date().toLocaleString(),produits:m.map(h=>({id:h.id,nom:h.name,quantité:h.quantity,prix:h.en_promo?h.promo_price:h.list_price,location:h.location,panier:"PreCommande",date:h.date}))};console.log(j);try{const h=await Be.sendCRMData(j);console.log(h)}catch(h){console.error("Error sending CRM data:",h)}},F=async()=>{const m=B(C),j={guest_id:G,location:f?`${f.city}/${f.region}/${f.country} Ip: ${f.ip}`:"",localisation:(f==null?void 0:f.loc)||"",name:t?t.name:"Guest",phone:t?t.partner_phone:"Guest",email:t?t.email:"Guest",type:"acredit",total:_(),date:new Date().toLocaleString(),produits:m.map(h=>({id:h.id,nom:h.name,quantité:h.quantity,prix:h.en_promo?h.promo_price:h.list_price,location:h.location,panier:"Crédit",date:h.date}))};console.log(j);try{const h=await Be.sendCRMData(j);console.log(h)}catch(h){console.error("Error sending CRM data:",h)}},A=async()=>{if(!l.length){console.warn("Panier Vente en cher vide : aucune donnée à envoyer au CRM.");return}const m=B(l),j={guest_id:G,location:f?`${f.city}/${f.region}/${f.country} Ip: ${f.ip}`:"",localisation:(f==null?void 0:f.loc)||"",name:t?t.name:"Guest",phone:t?t.partner_phone:"Guest",email:t?t.email:"Guest",type:"ventecher",total:xe(),date:new Date().toLocaleString(),produits:m.map(h=>({id:h.id,nom:h.name,quantité:h.quantity,prix:h.list_price,location:h.location,panier:"Vente en cher",date:h.date}))};console.log(j);try{const h=await Be.sendCRMData(j);console.log(h)}catch(h){console.error("Error sending CRM data (Vente en cher):",h)}};r.useEffect(()=>{y()},[i,p,b,C,l]);const $=(m,j)=>{const h=C.findIndex(D=>D.id===m.id);if(h!==-1){const D=C.map((te,oe)=>oe===h?M(I({},te),{quantity:te.quantity+j}):te);N(D)}else{const D=M(I({},m),{quantity:j,date:new Date().toLocaleString(),location:f?`${f.city}/${f.region}/${f.country} IP: ${f.ip}`:"Localisation non disponible"});N([...C,D])}o("Ecommerce","Add to CreditCart",m.name,m.creditorder_price*j),u(m,j)},z=(m,j)=>{const h=i.findIndex(D=>D.id===m.id);if(h!==-1){const D=i.map((te,oe)=>oe===h?M(I({},te),{quantity:te.quantity+j}):te);d(D)}else{const D=M(I({},m),{quantity:j,date:new Date().toLocaleString(),location:f?`${f.city}/${f.region}/${f.country} IP: ${f.ip}`:"Localisation non disponible"});d([...i,D])}c(m,j),o("Ecommerce","Add to Cart",m.name,m.list_price*j)},B=m=>m.reduce((h,D)=>(h.find(oe=>oe.id===D.id)||h.push(D),h),[]),P=(m,j)=>{const h=b.findIndex(D=>D.id===m.id);if(h!==-1)b[h].quantity+=j;else{const D=M(I({},m),{quantity:j,date:new Date().toLocaleString(),location:f?`${f.city}/${f.region}/${f.country} IP: ${f.ip}`:"Localisation non disponible"});g([...b,D])}o("Ecommerce","Add to PreCart",m.name,m.preorder_price*j),a(m,j)},R=(m,j)=>{const h=l.findIndex(D=>D.id===m.id);if(h!==-1){const D=l.map((te,oe)=>oe===h?M(I({},te),{quantity:te.quantity+j}):te);v(D)}else{const D=M(I({},m),{quantity:j,date:new Date().toLocaleString(),location:f?`${f.city}/${f.region}/${f.country} IP: ${f.ip}`:"Localisation non disponible"});v([...l,D])}o("Ecommerce","Add to VenteCherCart",m.name,m.list_price*j)},n=(m,j)=>{N(C.map(h=>h.id===m.id?M(I({},h),{quantity:j}):h))},k=()=>{N([])},w=m=>{N(C.filter(j=>j.id!==m.id))},_=()=>C.reduce((m,j)=>m+j.creditorder_price*j.quantity,0),Z=m=>{d(i.filter(j=>j.id!==m.id))},K=(m,j)=>{d(i.map(h=>h.id===m.id?M(I({},h),{quantity:j}):h))},q=()=>{d([])},V=()=>{p.map(m=>{z(m,m.quantity)})},ee=(m,j)=>{de(m)||x([...p,M(I({},m),{quantity:j})])},Y=m=>{x(p.filter(j=>j.id!==m.id))},Re=(m,j)=>{x(p.map(h=>h.id===m.id?M(I({},h),{quantity:j}):h))},W=()=>{x([])},rt=m=>i.some(j=>j.id===m.id),de=m=>p.some(j=>j.id===m.id),De=()=>i.reduce((m,j)=>m+(j.en_promo?j.promo_price:j.list_price)*j.quantity,0),xe=()=>l.reduce((m,j)=>m+(j.list_price||0)*j.quantity,0),qe=m=>{v(l.filter(j=>j.id!==m.id))},Te=(m,j)=>{v(l.map(h=>h.id===m.id?M(I({},h),{quantity:j}):h))},Ae=()=>{v([])},je=()=>p.reduce((m,j)=>m+(j.en_promo?j.promo_price:j.list_price)*j.quantity,0),be=m=>{g(b.filter(j=>j.id!==m.id))},ye=(m,j)=>{g(b.map(h=>h.id===m.id?M(I({},h),{quantity:j}):h))},ve=()=>{g([])},we=m=>b.some(j=>j.id===m.id),he=()=>b.reduce((j,h)=>j+h.preorder_price*h.quantity,0),Ve=()=>b.reduce((h,D)=>h+D.preorder_price*D.quantity,0)*.3,Me=()=>b.reduce((h,D)=>h+D.preorder_price*D.quantity,0)*.3,at=()=>b.reduce((h,D)=>h+D.preorder_price*D.quantity,0)*.4,y=()=>{localStorage.setItem("cart",JSON.stringify(i)),localStorage.setItem("wishlist",JSON.stringify(p)),localStorage.setItem("preorder",JSON.stringify(b)),localStorage.setItem("creditOrder",JSON.stringify(C)),localStorage.setItem("venteCherCart",JSON.stringify(l))},H=()=>{const m=localStorage.getItem("cart"),j=localStorage.getItem("wishlist"),h=localStorage.getItem("preorder"),D=localStorage.getItem("creditOrder"),te=localStorage.getItem("venteCherCart");m&&d(JSON.parse(m)),j&&x(JSON.parse(j)),h&&g(JSON.parse(h)),D&&N(JSON.parse(D)),te&&v(JSON.parse(te))};return e.jsx(re.Provider,{value:{cart:i,venteCherCart:l,creditOrder:C,addToCreditOrder:$,removeFromCreditOrder:w,updateCreditOrder:n,clearCreditOrder:k,getCreditOrderTotal:_,setCart:d,setWishlist:x,wishlist:p,preorder:b,setPreorder:g,addToCart:z,removeFromCart:Z,updateCart:K,clearCart:q,addToWishlist:ee,addAllWhislistToCart:V,removeFromWishlist:Y,updateWishlist:Re,clearWishlist:W,isProductInCart:rt,isProductInWishlist:de,addToPreorder:P,removeFromPreorder:be,updatePreorder:ye,clearPreorder:ve,isProductInPreorder:we,getCartTotal:De,addToVenteCherCart:R,removeFromVenteCherCart:qe,updateVenteCherCart:Te,clearVenteCherCart:Ae,getVenteCherCartTotal:xe,getWishlistTotal:je,getPreorderTotal:he,getPremierTranche:Ve,getDeuxiemeTranche:Me,getTroisiemeTranche:at},children:s})};function Bs(){let s=localStorage.getItem("guestId");return s||(s=$s(),localStorage.setItem("guestId",s)),s}const Gs="modulepreload",Js=function(s){return"/"+s},_t={},U=function(t,o,c){let a=Promise.resolve();if(o&&o.length>0){let p=function(x){return Promise.all(x.map(b=>Promise.resolve(b).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),d=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=p(o.map(x=>{if(x=Js(x),x in _t)return;_t[x]=!0;const b=x.endsWith(".css"),g=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${g}`))return;const C=document.createElement("link");if(C.rel=b?"stylesheet":Gs,b||(C.as="script"),C.crossOrigin="",C.href=x,d&&C.setAttribute("nonce",d),document.head.appendChild(C),b)return new Promise((N,l)=>{C.addEventListener("load",N),C.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${x}`)))})}))}function u(i){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=i,window.dispatchEvent(d),!d.defaultPrevented)throw i}return a.then(i=>{for(const d of i||[])d.status==="rejected"&&u(d.reason);return t().catch(u)})};function Qt({paths:s=[{name:"Accueil",path:"/"}]}){return e.jsx(e.Fragment,{children:s&&s.length>0&&e.jsx("div",{className:"breadcrumb-wrapper font-400 text-[13px] text-qblack mb-[23px]",children:s.map(t=>e.jsxs("span",{children:[e.jsx(T,{to:t.path,children:e.jsx("span",{className:"mx-1 capitalize",children:t.name})}),e.jsx("span",{className:"sperator",children:"/"})]},t.name))})})}function Ws({title:s,breadcrumb:t=[]}){return e.jsx("div",{className:"page-title-wrapper bg-[#FFFAEF] w-full h-[173px] py-10",children:e.jsxs("div",{className:"container-x mx-auto",children:[e.jsx("div",{className:"mb-5",children:e.jsx(Qt,{paths:t})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("h1",{className:"text-3xl font-semibold text-qblack",children:s})})]})})}function Xs({className:s}){return e.jsx("svg",{width:"21",height:"18",viewBox:"0 0 21 18",fill:"none",className:s,xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M4.97214 0.0251923C3.71435 0.183434 2.6616 0.701674 1.7705 1.60365C0.970091 2.41068 0.489057 3.26519 0.213053 4.37683C-0.275867 6.30342 0.0789948 8.20232 1.25398 9.98649C2.00708 11.1298 2.98097 12.1781 4.76711 13.7764C5.90266 14.7931 9.36848 17.7601 9.53802 17.859C9.69574 17.954 9.75488 17.9658 10.09 17.9658C10.4252 17.9658 10.4843 17.954 10.642 17.859C10.8116 17.7601 14.2853 14.7891 15.413 13.7764C17.207 12.1702 18.173 11.1258 18.9261 9.98649C20.1011 8.20232 20.4559 6.30342 19.967 4.37683C19.691 3.26519 19.21 2.41068 18.4096 1.60365C17.6131 0.800575 16.7614 0.337719 15.6456 0.100357C15.0857 -0.0183239 14.0526 -0.0301933 13.5637 0.0805759C12.1995 0.377279 11.1546 1.06167 10.2004 2.28013L10.09 2.41859L9.98357 2.28013C9.04122 1.08541 8.01212 0.401016 6.69913 0.100357C6.30878 0.00936699 5.4098 -0.0301933 4.97214 0.0251923ZM6.28907 1.23178C7.40885 1.42958 8.37487 2.07837 9.13979 3.15046C9.26991 3.3364 9.43156 3.55793 9.49465 3.64892C9.78643 4.06035 10.3936 4.06035 10.6854 3.64892C10.7485 3.55793 10.9102 3.3364 11.0403 3.15046C12.0851 1.68673 13.5401 0.998377 15.1251 1.21596C16.8837 1.45728 18.2558 2.69156 18.7802 4.50738C19.1942 5.94342 19.0128 7.45067 18.2597 8.80759C17.6289 9.94298 16.5761 11.1337 14.7427 12.7834C13.8555 13.5786 10.1255 16.7988 10.09 16.7988C10.0506 16.7988 6.33638 13.5904 5.4374 12.7834C2.61823 10.2476 1.50633 8.66518 1.23821 6.8098C1.06472 5.61112 1.31312 4.32145 1.91639 3.30475C2.82326 1.77376 4.58968 0.935081 6.28907 1.23178Z",fill:"black"})})}const ce={getProduits:async()=>{try{return(await E.get("/api/produits")).data}catch(s){throw console.error("Erreur lors de la récupération des produits",s),s}},getFilteredProducts:async s=>{try{const t=new URLSearchParams(s);return(await E.get(`/api/produits-filtrer?${t}`)).data}catch(t){throw console.error("Erreur lors de la récupération des produits",t),t}},getFilteredProductsPromo:async s=>{try{const t=new URLSearchParams(s);return(await E.get(`/api/produits-filtrer-promo?${t}`)).data}catch(t){throw console.error("Erreur lors de la récupération des produits",t),t}},getFilteredProductsFlash:async s=>{try{const t=new URLSearchParams(s);return(await E.get(`/api/produits-filtrer-ramadan?${t}`)).data}catch(t){throw console.error("Erreur lors de la récupération des produits",t),t}},getFilteredProductsTabaski:async s=>{try{const t=new URLSearchParams(s);return(await E.get(`/api/produits-filtrer-tabaski?${t}`)).data}catch(t){throw console.error("Erreur lors de la récupération des produits",t),t}},getFilteredProductsVenteCher:async s=>{try{const t=new URLSearchParams(s);return(await E.get(`/api/produits-filtrer-vente-cher?${t}`)).data}catch(t){throw console.error("Erreur lors de la récupération des produits en vente en cher",t),t}},getProduitsPrecommande:async()=>{try{return(await E.get("/api/produits-precommande")).data}catch(s){throw console.error("Erreur lors de la récupération des produits precommande",s),s}},getProduitsCreditCommande:async()=>{try{return(await E.get("/api/produits-creditcommande")).data}catch(s){throw console.error("Erreur lors de la récupération des produits credit commande",s),s}},getProduitById:async s=>{try{return(await E.get(`/api/produits/${s}`)).data}catch(t){throw console.error(`Erreur lors de la récupération du modèle avec l'ID ${s}`,t),t}},getProduitByCategorie:async s=>{try{return(await E.get(`/api/produits/categorie/${s}`)).data}catch(t){throw console.error(`Erreur lors de la sélection des produits avec la catégorie ${s}`,t),t}},createProduit:async s=>{try{return(await E.post("/api/produits",s)).data}catch(t){throw console.error("Erreur lors de la création du modèle",t),t}},updateProduit:async(s,t)=>{try{return(await E.put(`/api/produits/${s}`,t)).data}catch(o){throw console.error(`Erreur lors de la mise à jour du modèle avec l'ID ${s}`,o),o}},deleteProduit:async s=>{try{return(await E.delete(`/api/produits/${s}`)).data}catch(t){throw console.error(`Erreur lors de la suppression du produit avec l'ID ${s}`,t),t}}},Se=r.createContext(),Zs=({children:s})=>{const[t,o]=r.useState(!1),[c,a]=r.useState([]),[u,i]=r.useState(0),[d,p]=r.useState([]),[x,b]=r.useState(null),[g,C]=r.useState(null),[N,l]=r.useState({category:"All",search:"",min:1,max:5e6,page:1,limit:9,productType:"All",tag:"All"}),v=r.useRef(!0);r.useEffect(()=>(v.current=!0,()=>{v.current=!1}),[]);const f=["CONGELATEUR","TELEVISION","REFRIGERATEUR","CUISINIERE"],S=n=>Array.isArray(n)?n:[],G=n=>typeof n=="string"?n.toUpperCase():"",L=n=>{const k=f.indexOf(G(n&&n.categ_id));return k===-1?Number.MAX_SAFE_INTEGER:k},J=n=>{const k=Number(n&&n.rang);return Number.isFinite(k)?k:Number.MAX_SAFE_INTEGER},F=n=>[...n].sort((k,w)=>L(k)-L(w)),A=n=>[...n].sort((k,w)=>{const _=J(k)-J(w);return _!==0?_:L(k)-L(w)}),$=r.useCallback(async()=>{o(!0),C(null);try{const n={category:"All",search:"",min:1,max:5e6,page:1,limit:6,productType:"All",tag:"All"},k=await ce.getFilteredProducts(n),w=S(k&&k.products||k&&k.data&&k.data.products||[]),_=A(w);v.current&&p(_)}catch(n){v.current&&(p([]),C(n&&n.message||"Erreur lors du chargement des produits Home"))}finally{v.current&&o(!1)}},[]),z=r.useCallback(async()=>{o(!0),b(null),v.current&&a([]);try{const n=await ce.getFilteredProducts(N),k=F(S(n&&n.products||n&&n.data&&n.data.products||[])),w=Number(n&&n.total||n&&n.data&&n.data.total||k.length)||0;v.current&&(a(k),i(w))}catch(n){v.current&&(a([]),i(0),b(n&&n.message||"Erreur lors du chargement de la liste des produits"))}finally{v.current&&o(!1)}},[N]);r.useEffect(()=>{z(),$()},[z,$]);const B=r.useCallback(n=>{l(k=>{var K,q,V,ee,Y;const w=I(I({},k),n);w.category=n.category||k.category||"All",w.search=n.search!==void 0?n.search:(K=k.search)!=null?K:"";const _=Number((q=w.min)!=null?q:1),Z=Number((V=w.max)!=null?V:5e6);return w.min=Number.isFinite(_)?_:1,w.max=Number.isFinite(Z)?Z:5e6,w.min>w.max&&([w.min,w.max]=[w.max,w.min]),w.page=Math.max(1,Number((ee=w.page)!=null?ee:1)),w.limit=Math.max(1,Number((Y=w.limit)!=null?Y:9)),w})},[]),P=r.useCallback(()=>{l({category:"All",search:"",min:1,max:5e6,page:1,limit:9,productType:"All",tag:"All"})},[]),R=r.useMemo(()=>({currentProducts:c,totalProducts:u,produitHome:d,isLoadingProduct:t,errorList:x,errorHome:g,fetchProducts:z,fetchProduitsHome:$,updateFilters:B,resetFilters:P,filters:N,selectedCategory:N.category}),[c,u,d,t,x,g,z,$,B,P,N]);return e.jsx(Se.Provider,{value:R,children:s})},mt={getCategories:async()=>{try{return(await E.get("/api/categories")).data}catch(s){throw console.error("Erreur lors de la récupération des categories",s),s}},getTags:async()=>{try{return(await E.get("/api/tags")).data}catch(s){throw console.error("Erreur lors de la récupération des categories",s),s}},getCategorieById:async s=>{try{return(await E.get(`/api/categories/${s}`)).data}catch(t){throw console.error(`Erreur lors de la récupération du modèle avec l'ID ${s}`,t),t}},createCategorie:async s=>{try{return(await E.post("/api/categories",s)).data}catch(t){throw console.error("Erreur lors de la création du modèle",t),t}},updateCategorie:async(s,t)=>{try{return(await E.put(`/api/categories/${s}`,t)).data}catch(o){throw console.error(`Erreur lors de la mise à jour du modèle avec l'ID ${s}`,o),o}},deleteCategorie:async s=>{try{return(await E.delete(`/api/categories/${s}`)).data}catch(t){throw console.error(`Erreur lors de la suppression du Categorie avec l'ID ${s}`,t),t}}},es=r.createContext(),Ks=({children:s})=>{const[t,o]=r.useState([]),[c,a]=r.useState(!1),[u,i]=r.useState("All"),[d,p]=r.useState([]),[x,b]=r.useState(!1);r.useEffect(()=>{(async()=>{b(!0);try{const N=await mt.getTags();p(N),console.log(N),console.log("categorie")}catch(N){console.error("Erreur lors de la récupération des catégories",N)}finally{b(!1)}})()},[]),r.useEffect(()=>{(async()=>{a(!0);try{const l=(await mt.getCategories()).filter(v=>!["Services","Expenses","Internal","Office Furniture","Consumable","Deliveries","Saleable","Software","All"].includes(v.name));o([{id:"All",name:"All"},...l])}catch(N){console.error("Erreur lors de la récupération des catégories",N)}finally{a(!1)}})()},[]);const g=C=>{i(C)};return e.jsx(es.Provider,{value:{categories:t,isLoadingCategorie:c,selectedCategory:u,updateSelectedCategory:g,tags:d,isLoadingTags:x},children:s})},st=()=>r.useContext(es),_e=r.createContext(),Ys=({children:s})=>{const[t,o]=r.useState(!1),[c,a]=r.useState([]),[u,i]=r.useState(0),[d,p]=r.useState([]),[x,b]=r.useState(null),[g,C]=r.useState(null),[N,l]=r.useState(!1),[v,f]=r.useState([]),[S,G]=r.useState(0),[L,J]=r.useState([]),[F,A]=r.useState(null),[$,z]=r.useState(null),[B,P]=r.useState(!1),[R,n]=r.useState([]),[k,w]=r.useState(0),[_,Z]=r.useState([]),[K,q]=r.useState(null),[V,ee]=r.useState(null),[Y,Re]=r.useState({category:"All",search:"",min:1,max:5e6,page:1,limit:9,productType:"All",tag:"All"}),W=r.useRef(!0);r.useEffect(()=>(W.current=!0,()=>{W.current=!1}),[]);const rt=["CONGELATEUR","TELEVISION","REFRIGERATEUR","CUISINIERE"],de=y=>Array.isArray(y)?y:[],De=y=>typeof y=="string"?y.toUpperCase():"",xe=y=>{const H=rt.indexOf(De(y&&y.categ_id));return H===-1?Number.MAX_SAFE_INTEGER:H},qe=y=>{const H=Number(y&&y.rang);return Number.isFinite(H)?H:Number.MAX_SAFE_INTEGER},Te=y=>[...y].sort((H,m)=>xe(H)-xe(m)),Ae=y=>[...y].sort((H,m)=>{const j=qe(H)-qe(m);return j!==0?j:xe(H)-xe(m)}),je=r.useCallback(async()=>{P(!0),ee(null);try{const y=await ce.getFilteredProductsTabaski({page:1,limit:12}),H=Ae(de(y&&y.products||y&&y.data&&y.data.products||[]));W.current&&Z(H)}catch(y){W.current&&(Z([]),ee(y&&y.message||"Erreur lors de la récupération des produits Tabaski (home)"))}finally{W.current&&P(!1)}},[]),be=r.useCallback(async()=>{l(!0),z(null);try{const y=await ce.getFilteredProductsFlash({tag:"Ramadan",page:1,limit:12}),H=Ae(de(y&&y.products||y&&y.data&&y.data.products||[]));W.current&&J(H)}catch(y){W.current&&(J([]),z(y&&y.message||"Erreur lors de la récupération des produits Flash (home)"))}finally{W.current&&l(!1)}},[]),ye=r.useCallback(async()=>{o(!0),C(null);try{const y=await ce.getFilteredProductsPromo({page:1,limit:12}),H=Ae(de(y&&y.products||y&&y.data&&y.data.products||[]));W.current&&p(H)}catch(y){W.current&&(p([]),C(y&&y.message||"Erreur lors de la récupération des produits Promo (home)"))}finally{W.current&&o(!1)}},[]),ve=r.useCallback(async()=>{l(!0),A(null),W.current&&f([]);try{const y=await ce.getFilteredProductsFlash(Y),H=Te(de(y&&y.products||y&&y.data&&y.data.products||[])),m=Number(y&&y.total||y&&y.data&&y.data.total||H.length)||0;W.current&&(f(H),G(m))}catch(y){W.current&&(f([]),G(0),A(y&&y.message||"Erreur lors du chargement des produits Flash (listing)"))}finally{W.current&&l(!1)}},[Y]),we=r.useCallback(async()=>{o(!0),b(null),W.current&&a([]);try{const y=await ce.getFilteredProductsPromo(Y),H=Te(de(y&&y.products||y&&y.data&&y.data.products||[])),m=Number(y&&y.total||y&&y.data&&y.data.total||H.length)||0;W.current&&(a(H),i(m))}catch(y){W.current&&(a([]),i(0),b(y&&y.message||"Erreur lors du chargement des produits Promo (listing)"))}finally{W.current&&o(!1)}},[Y]),he=r.useCallback(async()=>{P(!0),q(null),W.current&&n([]);try{const y=await ce.getFilteredProductsTabaski(Y),H=Te(de(y&&y.products||y&&y.data&&y.data.products||[])),m=Number(y&&y.total||y&&y.data&&y.data.total||H.length)||0;W.current&&(n(H),w(m))}catch(y){W.current&&(n([]),w(0),q(y&&y.message||"Erreur lors du chargement des produits Tabaski (listing)"))}finally{W.current&&P(!1)}},[Y]);r.useEffect(()=>{we(),ve(),he(),ye(),be(),je()},[we,ve,he,ye,be,je]);const Ve=r.useCallback(y=>{Re(H=>{var D,te,oe,vt,wt;const m=I(I({},H),y);m.category=y.category||H.category||"All",m.search=y.search!==void 0?y.search:(D=H.search)!=null?D:"";const j=Number((te=m.min)!=null?te:1),h=Number((oe=m.max)!=null?oe:5e6);return m.min=Number.isFinite(j)?j:1,m.max=Number.isFinite(h)?h:5e6,m.min>m.max&&([m.min,m.max]=[m.max,m.min]),m.page=Math.max(1,Number((vt=m.page)!=null?vt:1)),m.limit=Math.max(1,Number((wt=m.limit)!=null?wt:9)),m})},[]),Me=r.useCallback(()=>{Re({category:"All",search:"",min:1,max:5e6,page:1,limit:9,productType:"All",tag:"All"})},[]),at=r.useMemo(()=>({currentProductsPromo:c,totalProductsPromo:u,produitHomePromo:d,isLoadingProductPromo:t,errorPromoList:x,errorPromoHome:g,fetchProdcutsPromo:we,fetchProduitsHomePromo:ye,currentProductsFlash:v,totalProductsFlash:S,produitHomeFlash:L,isLoadingProductFlash:N,errorFlashList:F,errorFlashHome:$,fetchProdcutsFlash:ve,fetchProductsHomeFlash:be,currentProductsTabaski:R,totalProductsTabaski:k,produitHomeTabaski:_,isLoadingProductTabaski:B,errorTabaskiList:K,errorTabaskiHome:V,fetchProdcutsTabaski:he,fetchProductsHomeTabaski:je,filters:Y,selectedCategory:Y.category,updateFilters:Ve,resetFilters:Me}),[c,u,d,t,x,g,we,ye,v,S,L,N,F,$,ve,be,R,k,_,B,K,V,he,je,Y,Ve,Me]);return e.jsx(_e.Provider,{value:at,children:s})},jt=r.createContext(),Qs=({children:s})=>{const[t,o]=r.useState(!1),[c,a]=r.useState([]),[u,i]=r.useState(0),[d,p]=r.useState([]),[x,b]=r.useState(null),[g,C]=r.useState(null),[N,l]=r.useState({category:"All",search:"",min:1,max:5e6,page:1,limit:9,productType:"All",tag:"All"}),v=r.useRef(!0);r.useEffect(()=>(v.current=!0,()=>{v.current=!1}),[]);const f=["CONGELATEUR","TELEVISION","REFRIGERATEUR","CUISINIERE"],S=n=>Array.isArray(n)?n:[],G=n=>typeof n=="string"?n.toUpperCase():"",L=n=>{const k=f.indexOf(G(n&&n.categ_id));return k===-1?Number.MAX_SAFE_INTEGER:k},J=n=>{const k=Number(n&&n.rang);return Number.isFinite(k)?k:Number.MAX_SAFE_INTEGER},F=n=>[...n].sort((k,w)=>L(k)-L(w)),A=n=>[...n].sort((k,w)=>{const _=J(k)-J(w);return _!==0?_:L(k)-L(w)}),$=r.useCallback(async()=>{o(!0),C(null);try{const n=await ce.getFilteredProductsVenteCher({page:1,limit:12}),k=A(S(n&&n.products||n&&n.data&&n.data.products||[]));v.current&&p(k)}catch(n){v.current&&(p([]),C(n&&n.message||"Erreur lors de la récupération des produits en vente en cher (home)"))}finally{v.current&&o(!1)}},[]),z=r.useCallback(async()=>{o(!0),b(null),v.current&&a([]);try{const n=await ce.getFilteredProductsVenteCher(N),k=F(S(n&&n.products||n&&n.data&&n.data.products||[])),w=Number(n&&n.total||n&&n.data&&n.data.total||k.length)||0;v.current&&(a(k),i(w))}catch(n){v.current&&(a([]),i(0),b(n&&n.message||"Erreur lors du chargement des produits en vente en cher (listing)"))}finally{v.current&&o(!1)}},[N]);r.useEffect(()=>{z(),$()},[z,$]);const B=r.useCallback(n=>{l(k=>{var K,q,V,ee,Y;const w=I(I({},k),n);w.category=n.category||k.category||"All",w.search=n.search!==void 0?n.search:(K=k.search)!=null?K:"";const _=Number((q=w.min)!=null?q:1),Z=Number((V=w.max)!=null?V:5e6);return w.min=Number.isFinite(_)?_:1,w.max=Number.isFinite(Z)?Z:5e6,w.min>w.max&&([w.min,w.max]=[w.max,w.min]),w.page=Math.max(1,Number((ee=w.page)!=null?ee:1)),w.limit=Math.max(1,Number((Y=w.limit)!=null?Y:9)),w})},[]),P=r.useCallback(()=>{l({category:"All",search:"",min:1,max:5e6,page:1,limit:9,productType:"All",tag:"All"})},[]),R=r.useMemo(()=>({currentProductsVenteCher:c,totalProductsVenteCher:u,produitHomeVenteCher:d,isLoadingProductVenteCher:t,errorVenteCherList:x,errorVenteCherHome:g,fetchProductsVenteCher:z,fetchProduitsHomeVenteCher:$,filters:N,selectedCategory:N.category,updateFilters:B,resetFilters:P}),[c,u,d,t,x,g,z,$,N,B,P]);return e.jsx(jt.Provider,{value:R,children:s})};function er({className:s,open:t,action:o}){const c=ae(),{user:a,logout:u}=ie(),[i,d]=r.useState("menu"),{cart:p,wishlist:x,creditOrder:b,preorder:g,venteCherCart:C}=r.useContext(re),{updateFilters:N,resetFilters:l,filters:v}=r.useContext(Se),{updateFilters:f,resetFilters:S,filters:G,produitHomeTabaski:L,produitHomeFlash:J,produitHomePromo:F}=r.useContext(_e),{produitHomeVenteCher:A}=r.useContext(jt),{categories:$,selectedCategory:z,updateSelectedCategory:B}=st(),P=(n,k)=>{n.preventDefault();const w=new URLSearchParams(location.search);k.name!=="All"?w.set("category",k.name):w.delete("category"),w.set("page","1"),o(),B(k.name);const _={category:k.name,page:1,search:"",min:1e3,max:5e6,limit:9,productType:"All",tag:"All"};location.pathname==="/en-promo"?(f(_),c(`/en-promo?${w.toString()}`)):location.pathname==="/promo-ramadan"?(f(_),c(`/promo-ramadan?${w.toString()}`)):location.pathname==="/promo-tabaski"?(f(_),c(`/promo-tabaski?${w.toString()}`)):(N(_),c(`/boutique?${w.toString()}`))};r.useEffect(()=>{if(location.pathname==="/boutique"||location.pathname==="/en-promo"||location.pathname==="/promo-ramadan"||location.pathname==="/promo-tabaski"){const n=new URLSearchParams(location.search),k=n.get("category")||"All",w={page:Number(n.get("page"))||1,category:k,search:n.get("search")||"",min:Number(n.get("min"))||1e3,max:Number(n.get("max"))||5e6,limit:9,productType:n.get("productType")||"All",tag:n.get("tag")||"All"};location.pathname==="/en-promo"||location.pathname==="/promo-ramadan"||location.pathname==="/promo-tabaski"?f(w):N(w),B(k)}},[location.search,location.pathname,N,f,B]);function R(){u(),c("/login")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`w-[280px] transition-all duration-300 ease-in-out h-screen overflow-y-auto overflow-x-hidden bg-white fixed top-0 z-[100] ${t?"left-0":"-left-[280px]"}`,children:[t&&e.jsx("div",{onClick:o,className:"w-full h-screen bg-black bg-opacity-40 z-40 left-0 top-0 fixed"}),e.jsxs("div",{className:`w-[280px] transition-all duration-300 ease-in-out h-screen overflow-y-auto overflow-x-hidden overflow-style-none bg-white fixed top-0 z-50 ${t?"left-0":"-left-[280px]"}`,children:[e.jsx("div",{className:"w-full px-5 mt-5 mb-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"text-center h-auto rounded overflow-hidden my-5 lg:my-0",children:e.jsx(T,{to:"/",children:e.jsx("img",{src:"logo.png",alt:"about",className:"w-10 "})})}),e.jsxs("div",{className:"flex space-x-5 items-center",children:[p&&p.length>0&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"compaire relative",children:[e.jsx(T,{to:"/cart",children:e.jsx("span",{children:e.jsx(Ye,{})})}),e.jsx("span",{className:"w-[18px] h-[18px] bg-bleu-logo rounded-full absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px]",children:p?p.length:0})]})}),g&&g.length>0&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"compaire relative",children:[e.jsx(T,{to:"/pre-cart",children:e.jsx("span",{children:e.jsx($e,{})})}),e.jsx("span",{className:"w-[18px] h-[18px] bg-bleu-logo rounded-full absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px]",children:g?g.length:0})]})}),b&&b.length>0&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"compaire relative",children:[e.jsx(T,{to:"/credit-cart",children:e.jsx("span",{children:e.jsx(pt,{})})}),e.jsx("span",{className:"w-[18px] h-[18px] bg-bleu-logo rounded-full absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px]",children:b?b.length:0})]})}),C&&C.length>0&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"compaire relative",children:[e.jsx(T,{to:"/vente-cher-cart",children:e.jsx("span",{children:e.jsx($e,{})})}),e.jsx("span",{className:"w-[18px] h-[18px] bg-bleu-logo rounded-full absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px]",children:C?C.length:0})]})}),x&&x.length>0&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"favorite relative",children:[e.jsx(T,{to:"/wishlist",children:e.jsx("span",{children:e.jsx(Xs,{})})}),e.jsx("span",{className:"  bg-bleu-logo  w-[18px] h-[18px] rounded-full  absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px]",children:x.length>0?x.length:0})]})})]}),e.jsx("button",{onClick:o,type:"button",children:e.jsx(Qe,{className:"text-red-500"})})]})}),e.jsxs("div",{className:"w-full mt-5 px-5 flex items-center space-x-3",children:[e.jsx("span",{onClick:()=>d("menu"),className:`text-base font-semibold ${i==="menu"?"text-qblack":"text-qgray "}`,children:"Menu"}),e.jsx("span",{className:"w-[1px] h-[14px] bg-qgray"}),e.jsx("span",{onClick:()=>d("category"),className:`text-base font-semibold  ${i==="category"?"text-qblack":"text-qgray"}`,children:z?e.jsxs(e.Fragment,{children:[" ",z=="All"?"Catégories":z.toUpperCase()," "]}):e.jsx(e.Fragment,{children:" Catégories "})})]}),i==="category"?e.jsx("div",{className:"category-item mt-5 w-full h-[calc(97vh-150px)] overflow-y-auto",children:e.jsx("ul",{className:"categories-list",children:$.map(n=>e.jsx("li",{className:"category-item",children:e.jsx("a",{href:"#",onClick:k=>P(k,n),children:e.jsxs("div",{className:"flex justify-between items-center px-5 h-12 bg-white transition-all duration-300 ease-in-out cursor-pointer",style:{"--hover-bg-color":"var(--bleu-logo)"},onMouseEnter:k=>k.currentTarget.style.backgroundColor="var(--hover-bg-color)",onMouseLeave:k=>k.currentTarget.style.backgroundColor="white",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx(ms,{}),e.jsx("span",{className:"text-sm font-400",children:n.name==="All"?"Tout":n.name.toUpperCase()})]}),e.jsx("div",{children:e.jsx(le,{})})]})})},n.id))})}):e.jsx("div",{className:"menu-item mt-5 w-full",children:e.jsxs("ul",{className:"categories-list",children:[e.jsx("li",{className:"category-item",children:e.jsx(T,{to:"/",children:e.jsxs("div",{className:"flex justify-between items-center px-5 h-12 bg-white transition-all duration-300 ease-in-out cursor-pointer",style:{"--hover-bg-color":"var(--bleu-logo)"},onMouseEnter:n=>n.currentTarget.style.backgroundColor="var(--hover-bg-color)",onMouseLeave:n=>n.currentTarget.style.backgroundColor="white",children:[e.jsx("div",{className:"flex items-center space-x-6",children:e.jsx("span",{className:"text-sm font-400",children:"Accueil"})}),e.jsx("div",{children:e.jsx(le,{})})]})})}),e.jsx("li",{className:"category-item",children:e.jsx(T,{to:"/boutique",children:e.jsxs("div",{className:"flex justify-between items-center px-5 h-12 bg-white transition-all duration-300 ease-in-out cursor-pointer",style:{"--hover-bg-color":"var(--bleu-logo)"},onMouseEnter:n=>n.currentTarget.style.backgroundColor="var(--hover-bg-color)",onMouseLeave:n=>n.currentTarget.style.backgroundColor="white",children:[e.jsx("div",{className:"flex items-center space-x-6",children:e.jsx("span",{className:"text-sm font-400",children:"Boutique"})}),e.jsx("div",{children:e.jsx(le,{})})]})})}),F&&F.length>0&&e.jsx("li",{className:"category-item",children:e.jsx(T,{to:"/en-promo",children:e.jsxs("div",{className:"flex justify-between items-center px-5 h-12 bg-white transition-all duration-300 ease-in-out cursor-pointer",style:{"--hover-bg-color":"var(--bleu-logo)"},onMouseEnter:n=>n.currentTarget.style.backgroundColor="var(--hover-bg-color)",onMouseLeave:n=>n.currentTarget.style.backgroundColor="white",children:[e.jsx("div",{className:"flex items-center space-x-6",children:e.jsx("span",{className:"text-sm font-400",children:"En promo"})}),e.jsx("div",{children:e.jsx(le,{})})]})})}),L&&L.length>0&&e.jsx("li",{className:"category-item",children:e.jsx(T,{to:"/promo-tabaski",children:e.jsxs("div",{className:"flex justify-between items-center px-5 h-12 bg-white transition-all duration-300 ease-in-out cursor-pointer",style:{"--hover-bg-color":"var(--bleu-logo)"},onMouseEnter:n=>n.currentTarget.style.backgroundColor="var(--hover-bg-color)",onMouseLeave:n=>n.currentTarget.style.backgroundColor="white",children:[e.jsx("div",{className:"flex items-center space-x-6",children:e.jsx("span",{className:"text-sm font-400",children:"Promo Tabaski"})}),e.jsx("div",{children:e.jsx(le,{})})]})})}),A&&A.length>0&&e.jsx("li",{className:"category-item",children:e.jsx(T,{to:"/vente-en-cher",children:e.jsxs("div",{className:"flex justify-between items-center px-5 h-12 bg-white transition-all duration-300 ease-in-out cursor-pointer",style:{"--hover-bg-color":"var(--bleu-logo)"},onMouseEnter:n=>n.currentTarget.style.backgroundColor="var(--hover-bg-color)",onMouseLeave:n=>n.currentTarget.style.backgroundColor="white",children:[e.jsx("div",{className:"flex items-center space-x-6",children:e.jsx("span",{className:"text-sm font-400",children:"Vente en cher"})}),e.jsx("div",{children:e.jsx(le,{})})]})})}),e.jsx("li",{className:"category-item",children:e.jsx(T,{to:"/credit-commandes",children:e.jsxs("div",{className:"flex justify-between items-center px-5 h-12 bg-white transition-all duration-300 ease-in-out cursor-pointer",style:{"--hover-bg-color":"var(--bleu-logo)"},onMouseEnter:n=>n.currentTarget.style.backgroundColor="var(--hover-bg-color)",onMouseLeave:n=>n.currentTarget.style.backgroundColor="white",children:[e.jsx("div",{className:"flex items-center space-x-6",children:e.jsx("span",{className:"text-sm font-400",children:"À crédit"})}),e.jsx("div",{children:e.jsx(le,{})})]})})}),e.jsx("li",{className:"category-item",children:e.jsx(T,{to:"/informations",children:e.jsxs("div",{className:"flex justify-between items-center px-5 h-12 bg-white transition-all duration-300 ease-in-out cursor-pointer",style:{"--hover-bg-color":"var(--bleu-logo)"},onMouseEnter:n=>n.currentTarget.style.backgroundColor="var(--hover-bg-color)",onMouseLeave:n=>n.currentTarget.style.backgroundColor="white",children:[e.jsx("div",{className:"flex items-center space-x-6",children:e.jsx("span",{className:"text-sm font-400",children:"Informations"})}),e.jsx("div",{children:e.jsx(le,{})})]})})}),a&&e.jsx("li",{className:"category-item",children:e.jsx(T,{onClick:R,children:e.jsxs("div",{className:"flex justify-between items-center px-5 h-12 bg-white transition-all duration-300 ease-in-out cursor-pointer",style:{"--hover-bg-color":"var(--bleu-logo)"},onMouseEnter:n=>n.currentTarget.style.backgroundColor="var(--hover-bg-color)",onMouseLeave:n=>n.currentTarget.style.backgroundColor="white",children:[e.jsx("div",{className:"flex items-center space-x-6",children:e.jsx("span",{className:"text-sm font-400",children:"Deconnexion"})}),e.jsx("div",{children:e.jsx(le,{})})]})})})]})})]})]})})}function tr({className:s}){return e.jsx("svg",{width:"10",height:"16",viewBox:"0 0 10 16",fill:"none",className:s,xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M3 16V9H0V6H3V4C3 1.3 4.7 0 7.1 0C8.3 0 9.2 0.1 9.5 0.1V2.9H7.8C6.5 2.9 6.2 3.5 6.2 4.4V6H10L9 9H6.3V16H3Z"})})}function sr({className:s}){return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:s,xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M12.1016 4.90039C12.6538 4.90039 13.1016 4.45268 13.1016 3.90039C13.1016 3.34811 12.6538 2.90039 12.1016 2.90039C11.5493 2.90039 11.1016 3.34811 11.1016 3.90039C11.1016 4.45268 11.5493 4.90039 12.1016 4.90039Z"}),e.jsx("path",{d:"M8 12C5.8 12 4 10.2 4 8C4 5.8 5.8 4 8 4C10.2 4 12 5.8 12 8C12 10.2 10.2 12 8 12ZM8 6C6.9 6 6 6.9 6 8C6 9.1 6.9 10 8 10C9.1 10 10 9.1 10 8C10 6.9 9.1 6 8 6Z"}),e.jsx("path",{d:"M12 16H4C1.9 16 0 14.1 0 12V4C0 1.9 1.9 0 4 0H12C14.1 0 16 1.9 16 4V12C16 14.1 14.1 16 12 16ZM4 2C3.1 2 2 3.1 2 4V12C2 13 3 14 4 14H12C12.9 14 14 12.9 14 12V4C14 3.1 12.9 2 12 2H4Z"})]})}function rr({className:s}){return e.jsx("svg",{width:"16",height:"12",viewBox:"0 0 16 12",fill:"none",className:s,xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M15.8 2.8C15.6 1.5 15 0.6 13.6 0.4C11.4 8.9407e-08 8 0 8 0C8 0 4.6 8.9407e-08 2.4 0.4C1 0.6 0.3 1.5 0.2 2.8C0 4.1 0 6 0 6C0 6 0 7.9 0.2 9.2C0.4 10.5 1 11.4 2.4 11.6C4.6 12 8 12 8 12C8 12 11.4 12 13.6 11.6C15 11.3 15.6 10.5 15.8 9.2C16 7.9 16 6 16 6C16 6 16 4.1 15.8 2.8ZM6 9V3L11 6L6 9Z"})})}function ar({type:s=3}){return e.jsxs(e.Fragment,{children:[e.jsx("footer",{className:"footer-section-wrapper bg-white print:hidden",children:e.jsxs("div",{className:"container-x block mx-auto pt-[56px]",children:[e.jsxs("div",{className:"w-full flex flex-col items-center mb-[50px]",children:[e.jsx("div",{className:"mb-[40px]",children:s===3?e.jsx(T,{to:"/",children:e.jsx("img",{width:"160",height:"40",src:"/logo.png",alt:"logo"})}):e.jsx(T,{to:"/",children:e.jsx("img",{width:"120",height:"30",src:"/logo.png",alt:"logo"})})}),e.jsx("div",{className:"w-full h-[1px] bg-[#E9E9E9]"})]}),e.jsxs("div",{className:"lg:flex justify-between mb-[50px]",children:[e.jsxs("div",{className:"lg:w-[424px]  ml-0 w-full mb-10 lg:mb-0",children:[e.jsx("h1",{className:"text-[18] font-500 text-[#2F2F2F] mb-5",children:"À propos de nous"}),e.jsx("p",{className:"text-[#9A9A9A] text-[15px] w-[247px] leading-[28px] text-justify ",children:"CCBM Shop, la plateforme de vente du groupe CCBM, propose une vaste sélection de produits et un service après-vente avec des options de garantie étendues."})]}),e.jsxs("div",{className:"flex-1 lg:flex",children:[e.jsxs("div",{className:"lg:w-1/2 w-full mb-10 lg:mb-0",children:[e.jsx("div",{className:"mb-5",children:e.jsx("h6",{className:"text-[18] font-500 text-[#2F2F2F]",children:"Liens Utiles"})}),e.jsx("div",{children:e.jsxs("ul",{className:"flex flex-col space-y-4 ",children:[e.jsx("li",{children:e.jsx(T,{to:"/informations",children:e.jsx("span",{className:"text-[#9A9A9A] text-[15px] hover:text-qblack border-b border-transparent hover:border-qblack cursor-pointer capitalize",children:"À propos de nous"})})}),e.jsx("li",{children:e.jsx(T,{to:"/processus-de-commande-de-credit",children:e.jsx("span",{className:"text-[#9A9A9A] text-[15px] hover:text-qblack border-b border-transparent hover:border-qblack cursor-pointer capitalize",children:"Commandes à crédit"})})}),e.jsx("li",{children:e.jsx(T,{to:"/tracking-order",children:e.jsx("span",{className:"text-[#9A9A9A] text-[15px] hover:text-qblack border-b border-transparent hover:border-qblack cursor-pointer capitalize",children:"Suivre Commande"})})})]})})]}),e.jsx("div",{className:"lg:w-1/2 lg:flex lg:flex-col items-center w-full mb-10 lg:mb-0",children:e.jsxs("div",{children:[e.jsx("div",{className:"mb-5",children:e.jsx("h6",{className:"text-[18] font-500 text-[#2F2F2F]",children:"Nos Services"})}),e.jsx("div",{children:e.jsxs("ul",{className:"flex flex-col space-y-4 ",children:[e.jsx("li",{children:e.jsx(T,{to:"/faq",children:e.jsx("span",{className:"text-[#9A9A9A] text-[15px] hover:text-qblack border-b border-transparent hover:border-qblack cursor-pointer capitalize",children:"FAQ"})})}),e.jsx("li",{children:e.jsx(T,{to:"/politique-de-confidentialite",children:e.jsx("span",{className:"text-[#9A9A9A] text-[15px] hover:text-qblack border-b border-transparent hover:border-qblack cursor-pointer capitalize",children:"Politique de confidentialité"})})})]})})]})}),e.jsx("div",{className:"lg:w-1/2 lg:flex lg:flex-col items-center w-full mb-10 lg:mb-0",children:e.jsxs("div",{children:[e.jsx("div",{className:"mb-5",children:e.jsx("h6",{className:"text-[18] font-500 text-[#2F2F2F]",children:"Nos Coordonnées"})}),e.jsx("div",{children:e.jsxs("ul",{className:"flex flex-col space-y-4 ",children:[e.jsx("li",{className:"text-[#9A9A9A] text-[15px] hover:text-qblack ",children:e.jsx("a",{href:"https://wa.me/221709221775",target:"_blank",rel:"noreferrer",children:"+221 70 92 21 775"})}),e.jsx("li",{className:"text-[#9A9A9A] text-[15px] hover:text-qblack ",children:e.jsx("a",{href:"https://wa.me/221708430436",target:"_blank",rel:"noreferrer",children:"+221 70 843 04 36"})}),e.jsx("li",{className:"text-[#9A9A9A] text-[15px] hover:text-qblack ",children:e.jsx("span",{children:" Dakar, Avenue Lamine Gueye"})})]})})]})})]})]}),e.jsxs("div",{className:"bottom-bar border-t border-qgray-border lg:h-[82px] lg:flex justify-between items-center",children:[e.jsxs("div",{className:"flex lg:space-x-5 justify-between items-center mb-3",children:[e.jsxs("div",{className:"flex space-x-5 items-center",children:[e.jsx(T,{to:"https://www.instagram.com/ccbmshop/",children:e.jsx(sr,{className:"fill-current text-qgray hover:text-qblack"})}),e.jsx(T,{to:"https://www.facebook.com/Orbitcityccbm?locale=fr_FR",children:e.jsx(tr,{className:"fill-current text-qgray hover:text-qblack"})}),e.jsx(T,{to:"https://www.youtube.com/@orbitcitybyccbm2908",children:e.jsx(rr,{className:"fill-current text-qgray hover:text-qblack"})})]}),e.jsxs("span",{className:"sm:text-base text-[10px] text-qgray font-300",children:["©2024",e.jsx("a",{href:"https://www.ccbmshop.com/",target:"_blank",rel:"noreferrer",className:"font-500 text-qblack mx-1",children:"CCBM-Shop"}),"Tous droits réservés"]})]}),e.jsx("div",{className:"",children:e.jsx(T,{tp:"/",children:e.jsx("img",{width:"318",height:"28",src:"/paydunya.png",alt:"CCBM SHOP payment getways"})})})]})]})}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-3 lg:hidden z-50",children:e.jsxs("a",{href:"tel:+221709221775",className:"flex items-center justify-center space-x-2 text-green-600",children:[e.jsx(ps,{className:"h-5 w-5 animate-pulse"}),e.jsx("span",{className:"font-medium",children:"+221 70 922 17 75"})]})})]})}const se=s=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(s);function or({className:s,type:t=3}){const{cart:o,getCartTotal:c,removeFromCart:a}=r.useContext(re),u=(i,d)=>{i.preventDefault(),a(d)};return e.jsx(e.Fragment,{children:o&&o.length>0&&e.jsx("div",{style:{boxShadow:" 0px 15px 50px 0px rgba(0, 0, 0, 0.14)"},className:`w-[300px] bg-white border-t-[3px] ${t===3?"border-qh3-blue":"cart-wrappwer"}  ${s||""}`,children:e.jsxs("div",{className:"w-full h-full",children:[e.jsx("div",{className:"product-items h-[310px] overflow-y-scroll",children:e.jsx("ul",{children:o.map(i=>e.jsxs("li",{className:"w-full h-full flex",children:[e.jsxs("div",{className:"flex space-x-[6px] justify-center items-center px-4 my-[20px]",children:[e.jsx("div",{className:"w-[65px] h-full",children:e.jsx("img",{src:`${i.image_256?"data:image/png;base64,"+i.image_256:"https://readymadeui.com/images/coffee1.webp"}`,alt:"image produit ccbm shop",className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"flex-1 h-full flex flex-col justify-center ",children:[e.jsx("p",{className:"title mb-2 text-[13px] font-600 text-qblack leading-4 line-clamp-2 hover:text-blue-600",children:i.name}),e.jsx("p",{className:"price",children:e.jsxs("span",{className:"offer-price text-qred font-600 text-[15px] ml-2",children:["Prix : ",se(i.en_promo?i.promo_price:i.list_price)," X"," ",i.quantity]})})]})]}),e.jsx("span",{className:"mt-[20px] mr-[15px] inline-flex cursor-pointer ",children:e.jsx("div",{onClick:d=>u(d,i),className:"duration-200 hover:red-150",children:e.jsx(et,{className:"hover:text-red-500"})})})]},i.id))})}),e.jsx("div",{className:"w-full px-4 mt-[20px] mb-[12px]",children:e.jsx("div",{className:"h-[1px] bg-[#F0F1F3]"})}),e.jsxs("div",{className:"product-actions px-4 mb-[30px]",children:[e.jsxs("div",{className:"total-equation flex justify-between items-center mb-[28px]",children:[e.jsx("span",{className:"text-[15px] font-500 text-qblack",children:"Sou Total"}),e.jsxs("span",{className:"text-[15px] font-500 text-qred ",children:[" ",se(c())]})]}),e.jsx("div",{className:"product-action-btn",children:e.jsx(T,{to:"/cart",children:e.jsx("div",{className:"gray-btn w-full h-[50px] mb-[10px] ",children:e.jsx("span",{children:"Panier Commande"})})})})]})]})})})}function nr({className:s,type:t}){const{preorder:o,getPreorderTotal:c,removeFromPreorder:a}=r.useContext(re),u=(i,d)=>{i.preventDefault(),a(d)};return e.jsx(e.Fragment,{children:o&&o.length>0&&e.jsx("div",{style:{boxShadow:" 0px 15px 50px 0px rgba(0, 0, 0, 0.14)"},className:`w-[300px] bg-white border-t-[3px] ${t===3?"border-qh3-blue":"cart-wrappwer"}  ${s||""}`,children:e.jsxs("div",{className:"w-full h-full",children:[e.jsx("div",{className:"product-items h-[310px] overflow-y-scroll",children:e.jsx("ul",{children:o&&o.map(i=>e.jsxs("li",{className:"w-full h-full flex",children:[e.jsxs("div",{className:"flex space-x-[6px] justify-center items-center px-4 my-[20px]",children:[e.jsx("div",{className:"w-[65px] h-full",children:e.jsx("img",{src:`${i.image_256?"data:image/png;base64,"+i.image_256:"https://readymadeui.com/images/coffee1.webp"}`,alt:"image produit ccbm shop",className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"flex-1 h-full flex flex-col justify-center ",children:[e.jsx("p",{className:"title mb-2 text-[13px] font-600 text-qblack leading-4 line-clamp-2 hover:text-blue-600",children:i.name}),e.jsx("p",{className:"price",children:e.jsxs("span",{className:"offer-price text-qred font-600 text-[15px] ml-2",children:["Prix : ",se(i.preorder_price)," X"," ",i.quantity]})})]})]}),e.jsx("span",{className:"mt-[20px] mr-[15px] inline-flex cursor-pointer ",children:e.jsx("button",{onClick:d=>u(d,i),className:"duration-200 hover:red-150",children:e.jsx(et,{className:"hover:text-red-500"})})})]},i.id))})}),e.jsx("div",{className:"w-full px-4 mt-[20px] mb-[12px]",children:e.jsx("div",{className:"h-[1px] bg-[#F0F1F3]"})}),e.jsxs("div",{className:"product-actions px-4 mb-[30px]",children:[e.jsxs("div",{className:"total-equation flex justify-between items-center mb-[28px]",children:[e.jsx("span",{className:"text-[15px] font-500 text-qblack",children:"Sous Total"}),e.jsxs("span",{className:"text-[15px] font-500 text-qred ",children:[" ",se(c())]})]}),e.jsx("div",{className:"product-action-btn",children:e.jsx(T,{to:"/pre-cart",children:e.jsx("div",{className:"gray-btn w-full h-[50px] mb-[10px] ",children:e.jsx("span",{children:"Panier Précommande"})})})})]})]})})})}function Ke({className:s}){return e.jsx("svg",{width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:e.jsx("path",{d:"M19.992 19.729C19.9004 18.043 19.438 16.4886 18.617 15.1176C17.6046 13.4237 16.2096 12.1244 14.4679 11.2475C14.0773 11.0522 13.878 10.9645 13.3878 10.7772L12.9334 10.6138L13.4954 10.1833C14.5476 9.38621 15.3408 8.08689 15.6118 6.70387C15.6955 6.28936 15.7035 5.22918 15.6317 4.78278C15.4643 3.77043 14.9582 2.70227 14.2766 1.92507C13.4356 0.976485 12.2439 0.30291 11.0084 0.079713C10.7971 0.0398565 10.1515 0 9.75289 0C9.60542 0 9.55361 0.00398565 9.53766 0.0079713H9.53368C9.49781 0.011957 9.42607 0.0239139 9.33838 0.0358709H9.32642C9.25468 0.0438422 9.17896 0.0557991 9.10323 0.0677561C8.1666 0.195297 7.01873 0.73336 6.25349 1.41092C5.27302 2.27581 4.59147 3.50339 4.38023 4.78278C4.3045 5.22918 4.31646 6.28936 4.40016 6.70387C4.67118 8.08689 5.46433 9.38621 6.51654 10.1833L7.07852 10.6138L6.62415 10.7772C6.13392 10.9645 5.93464 11.0522 5.54404 11.2475C3.80231 12.1244 2.40335 13.4237 1.39498 15.1176C0.569948 16.4926 0.107613 18.043 0.0159426 19.729L0 20H0.255082H1.1957H18.8123H19.4938H20.008L19.992 19.729ZM5.56397 4.98605C5.73934 3.92188 6.28537 2.95735 7.10642 2.25986C7.91949 1.57035 8.94779 1.19171 10 1.19171C10.2352 1.19171 10.4743 1.21164 10.7094 1.24751C13.1606 1.64607 14.8386 3.95775 14.444 6.39299C14.2686 7.45715 13.7226 8.42168 12.9016 9.11917C12.0885 9.80869 11.0602 10.1873 10.008 10.1873C9.77282 10.1873 9.53368 10.1674 9.29852 10.1315C6.84735 9.72898 5.16939 7.42128 5.56397 4.98605ZM2.54285 15.5281C3.73057 13.7146 5.31287 12.4751 7.25389 11.8414C8.17059 11.5424 9.09526 11.391 10.004 11.391C10.9127 11.391 11.8374 11.5424 12.7541 11.8414C14.6951 12.4751 16.2814 13.7146 17.4651 15.5281C18.047 16.4169 18.5134 17.6963 18.7086 18.8721H1.29932C1.49462 17.6963 1.96094 16.4169 2.54285 15.5281Z",fill:"black"})})}function lr({className:s,type:t=3}){const{creditOrder:o,getCreditOrderTotal:c,removeFromCreditOrder:a}=r.useContext(re),u=(i,d)=>{i.preventDefault(),a(d)};return e.jsx(e.Fragment,{children:o&&o.length>0&&e.jsx("div",{style:{boxShadow:" 0px 15px 50px 0px rgba(0, 0, 0, 0.14)"},className:`w-[300px] bg-white border-t-[3px] ${t===3?"border-qh3-blue":"cart-wrappwer"}  ${s||""}`,children:e.jsxs("div",{className:"w-full h-full",children:[e.jsx("div",{className:"product-items h-[310px] overflow-y-scroll",children:e.jsx("ul",{children:o.map(i=>e.jsxs("li",{className:"w-full h-full flex",children:[e.jsxs("div",{className:"flex space-x-[6px] justify-center items-center px-4 my-[20px]",children:[e.jsx("div",{className:"w-[65px] h-full",children:e.jsx("img",{src:`${i.image_256?"data:image/png;base64,"+i.image_256:"https://readymadeui.com/images/coffee1.webp"}`,alt:"image produit ccbm shop",className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"flex-1 h-full flex flex-col justify-center ",children:[e.jsx("p",{className:"title mb-2 text-[13px] font-600 text-qblack leading-4 line-clamp-2 hover:text-blue-600",children:i.name}),e.jsx("p",{className:"price",children:e.jsxs("span",{className:"offer-price text-qred font-600 text-[15px] ml-2",children:["Prix : ",se(i.creditorder_price)," X"," ",i.quantity]})})]})]}),e.jsx("span",{className:"mt-[20px] mr-[15px] inline-flex cursor-pointer ",children:e.jsx("div",{onClick:d=>u(d,i),className:"duration-200 hover:red-150",children:e.jsx(et,{className:"hover:text-red-500"})})})]},i.id))})}),e.jsx("div",{className:"w-full px-4 mt-[20px] mb-[12px]",children:e.jsx("div",{className:"h-[1px] bg-[#F0F1F3]"})}),e.jsxs("div",{className:"product-actions px-4 mb-[30px]",children:[e.jsxs("div",{className:"total-equation flex justify-between items-center mb-[28px]",children:[e.jsx("span",{className:"text-[15px] font-500 text-qblack",children:"Sou Total"}),e.jsxs("span",{className:"text-[15px] font-500 text-qred ",children:[" ",se(c())]})]}),e.jsx("div",{className:"product-action-btn",children:e.jsx(T,{to:"/credit-cart",children:e.jsx("div",{className:"gray-btn w-full h-[50px] mb-[10px] ",children:e.jsx("span",{children:"Panier Crédit commande"})})})})]})]})})})}function cr({className:s,type:t}){const{venteCherCart:o,getVenteCherCartTotal:c,removeFromVenteCherCart:a}=r.useContext(re),u=(i,d)=>{i.preventDefault(),a(d)};return e.jsx(e.Fragment,{children:o&&o.length>0&&e.jsx("div",{style:{boxShadow:" 0px 15px 50px 0px rgba(0, 0, 0, 0.14)"},className:`w-[300px] bg-white border-t-[3px] ${t===3?"border-qh3-blue":"cart-wrappwer"}  ${s||""}`,children:e.jsxs("div",{className:"w-full h-full",children:[e.jsx("div",{className:"product-items h-[310px] overflow-y-scroll",children:e.jsx("ul",{children:o&&o.map(i=>e.jsxs("li",{className:"w-full h-full flex",children:[e.jsxs("div",{className:"flex space-x-[6px] justify-center items-center px-4 my-[20px]",children:[e.jsx("div",{className:"w-[65px] h-full",children:e.jsx("img",{src:`${i.image_256?"data:image/png;base64,"+i.image_256:"https://readymadeui.com/images/coffee1.webp"}`,alt:"image produit ccbm shop",className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"flex-1 h-full flex flex-col justify-center ",children:[e.jsx("p",{className:"title mb-2 text-[13px] font-600 text-qblack leading-4 line-clamp-2 hover:text-blue-600",children:i.name}),e.jsx("p",{className:"price",children:e.jsxs("span",{className:"offer-price text-qred font-600 text-[15px] ml-2",children:["Prix : ",se(i.list_price)," X"," ",i.quantity]})})]})]}),e.jsx("span",{className:"mt-[20px] mr-[15px] inline-flex cursor-pointer ",children:e.jsx("button",{onClick:d=>u(d,i),className:"duration-200 hover:red-150",children:e.jsx(et,{className:"hover:text-red-500"})})})]},i.id))})}),e.jsx("div",{className:"w-full px-4 mt-[20px] mb-[12px]",children:e.jsx("div",{className:"h-[1px] bg-[#F0F1F3]"})}),e.jsxs("div",{className:"product-actions px-4 mb-[30px]",children:[e.jsxs("div",{className:"total-equation flex justify-between items-center mb-[28px]",children:[e.jsx("span",{className:"text-[15px] font-500 text-qblack",children:"Sous Total"}),e.jsxs("span",{className:"text-[15px] font-500 text-qred ",children:[" ",se(c())]})]}),e.jsx("div",{className:"product-action-btn",children:e.jsx(T,{to:"/vente-cher-cart",children:e.jsx("div",{className:"gray-btn w-full h-[50px] mb-[10px] ",children:e.jsx("span",{children:"Panier Vente en cher"})})})})]})]})})})}async function ir(s){try{return(await E.post("/api/termeRecherche",s)).data}catch(t){throw console.error("Erreur lors de la création du commentaire",t),t}}function ts({className:s,type:t=3,isMobile:o=!1}){const c=ae(),a=ge(),{trackEvent:u}=tt(),i=r.useRef(null),{updateFilters:d,filters:p,products:x}=r.useContext(Se),{updateFilters:b,filters:g}=r.useContext(_e),{categories:C,isLoadingCategorie:N,selectedCategory:l,updateSelectedCategory:v}=st(),f=new URLSearchParams(a.search),S=f.get("search")||"",G=f.get("category")||"All",[L,J]=r.useState(S),[F,A]=r.useState(!1),[$,z]=r.useState(null),[B,P]=r.useState([]);r.useEffect(()=>{J(S),v(G)},[S,G,v]),r.useEffect(()=>{function q(V){i.current&&!i.current.contains(V.target)&&A(!1)}return document.addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}},[]);const R=r.useCallback(q=>{const V=new URLSearchParams(a.search);return Object.entries(q).forEach(([ee,Y])=>{Y!=null&&Y!==""?V.set(ee,Y.toString()):V.delete(ee)}),V.toString()},[a.search]),n=r.useCallback(q=>{u("Recherche","barre_de_recherche",`Search: ${q}`,1);const V=M(I({},p),{search:q,category:l,page:1});a.pathname==="/en-promo"?(b(V),c(`/en-promo?${R(V)}`)):a.pathname==="/promo-ramadan"?(b(V),c(`/promo-ramadan?${R(V)}`)):a.pathname==="/promo-tabaski"?(b(V),c(`/promo-tabaski?${R(V)}`)):(d(V),c(`/boutique?${R(V)}`));const ee={terme:q,source:a.pathname==="/en-promo"?"en-promo":a.pathname==="/promo-ramadan"?"promo-ramadan":a.pathname==="/promo-tabaski"?"promo-korite":"boutique"};Z(ee),window.scrollTo({top:0,behavior:"smooth"})},[p,l,a.pathname,b,d,c,R,u]),k=r.useCallback(q=>{if(!q||q.length<2){P([]),A(!1);return}const V=x?x.filter(ee=>ee.name.toLowerCase().includes(q.toLowerCase())||ee.description&&ee.description.toLowerCase().includes(q.toLowerCase())).slice(0,5):[];P(V),A(V.length>0)},[x]),w=q=>{q.preventDefault(),n(L),A(!1)},_=q=>{const V=q.target.value;J(V),$&&clearTimeout($),z(setTimeout(()=>{k(V)},300))},Z=async q=>{console.log(q);try{return await ir(q)}catch(V){console.error(V)}},K=q=>{J(q),n(q),A(!1)};return e.jsx("div",{className:`w-full flex items-center rounded-md overflow-visible shadow-md ${s||""} ${o?"flex-col":""}`,ref:i,children:e.jsxs("form",{onSubmit:w,className:`flex-1 flex items-center relative ${o?"w-full flex-col":""}`,children:[e.jsx("input",{type:"search",className:`flex-1 px-4 py-2 text-sm focus:outline-none ${o?"w-full":""} pr-12`,placeholder:"Rechercher un produit...",value:L,onChange:_,onFocus:()=>L.length>=2&&A(B.length>0)}),e.jsx("button",{type:"submit",className:"absolute right-0 top-0 h-full px-4 text-white bg-bleu-logo flex items-center justify-center focus:outline-none",children:e.jsx(xs,{className:"h-4 w-4"})}),F&&e.jsx("div",{className:"absolute top-full left-0 w-full bg-white shadow-lg rounded-b-md z-10 mt-1 max-h-60 overflow-y-auto",children:B.length>0?e.jsx("ul",{className:"py-1",children:B.map((q,V)=>e.jsx("li",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer text-sm",onClick:()=>K(q.name),children:q.name},V))}):e.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"Aucun résultat trouvé"})})]})})}function dr({className:s,type:t=3}){const{user:o}=ie(),{updateFilters:c,resetFilters:a}=r.useContext(Se),{updateFilters:u,resetFilters:i}=r.useContext(_e),{updateSelectedCategory:d}=st(),p=t===3?"var(--bleu-logo)":"var(--qyellow)",x=t===3?"white":"var(--qblack)",{cart:b,wishlist:g,preorder:C,creditOrder:N,venteCherCart:l}=r.useContext(re),v=ae(),f=F=>{F.preventDefault(),v("/cart"),console.log(b)},S=F=>{F.preventDefault(),v("/pre-cart"),console.log(b)},G=F=>{F.preventDefault(),v("/credit-cart")},L=F=>{F.preventDefault(),v("/vente-cher-cart")};r.useEffect(()=>{if(location.pathname==="/boutique"||location.pathname==="/en-promo"||location.pathname=="/promo-ramadan"||location.pathname=="/promo-tabaski"){const F=new URLSearchParams(location.search),A=F.get("category")||"All",$={page:Number(F.get("page"))||1,category:A,search:F.get("search")||"",min:Number(F.get("min"))||1e3,max:Number(F.get("max"))||5e6,limit:9,productType:F.get("productType")||"All",tag:F.get("tag")||"All"};location.pathname==="/en-promo"||location.pathname=="/promo-tabaski"?u($):c($),d(A)}},[location.search,location.pathname,c,u,d]);const J=(F,A)=>{console.log(F,A);const $=new URLSearchParams(location.search);$.set("page","1"),A.name!=="All"?$.set("category",A.name):$.delete("category");const z={category:A.name,page:1,search:F};console.log(z),console.log(location.pathname),console.log($.toString())};return e.jsx("div",{className:`w-full h-[86px] bg-white  ${s}`,children:e.jsx("div",{className:"container-x mx-auto h-full",children:e.jsx("div",{className:"relative h-full",children:e.jsxs("div",{className:"flex justify-between items-center h-full",children:[e.jsx("div",{children:t===3?e.jsx(T,{to:"/",children:e.jsx("img",{width:"120",height:"36",src:"/logo.png",alt:"logo"})}):t===4?e.jsx(T,{to:"/",children:e.jsx("img",{width:"80",height:"36",src:"/logo.png",alt:"logo"})}):e.jsx(T,{to:"/",children:e.jsx("img",{width:"80",height:"36",src:"/logo.png",alt:"logo"})})}),e.jsx("div",{className:"w-[517px] h-[44px]",children:e.jsx(ts,{type:t,className:"search-com",onSearch:J,searchOnInput:!0})}),e.jsxs("div",{className:"flex space-x-6 items-center",children:[g.length>0&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"favorite relative",children:[e.jsx(T,{to:"/wishlist",children:e.jsx("span",{children:e.jsx(xt,{})})}),e.jsx("span",{className:"w-[18px] h-[18px] rounded-full  absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px]",style:{backgroundColor:p,color:x},children:g.length>0?g.length:0})]})}),b.length>0&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"cart-wrapper group relative py-4",children:e.jsx("div",{className:"cart relative cursor-pointer",children:e.jsxs("button",{onClick:f,children:[e.jsx(Ye,{}),e.jsx("span",{className:"w-[18px] h-[18px] rounded-full  absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px] ",style:{backgroundColor:p,color:x},children:b&&b.length>0?b.length:0}),e.jsx(or,{type:t,className:"absolute -right-[45px] top-11 z-50 hidden group-hover:block"})]})})})}),C.length>0&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"cart-wrapper group relative py-4",children:e.jsx("div",{className:"cart relative cursor-pointer",children:e.jsxs("button",{onClick:S,children:[e.jsx("span",{children:e.jsx($e,{})}),e.jsx("span",{className:"w-[18px] h-[18px] rounded-full  absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px] ",style:{backgroundColor:p,color:x},children:C.length>0?C.length:0}),e.jsx(nr,{type:t,className:"absolute -right-[45px] top-11 z-50 hidden group-hover:block"})]})})})}),o&&e.jsx(e.Fragment,{children:N.length>0&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"cart-wrapper group relative py-4",children:e.jsx("div",{className:"cart relative cursor-pointer",children:e.jsxs("button",{onClick:G,children:[e.jsx("span",{children:e.jsx(pt,{})}),e.jsx("span",{className:"w-[18px] h-[18px] rounded-full  absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px] ",style:{backgroundColor:p,color:x},children:N&&N.length>0?N.length:0}),e.jsx(lr,{type:t,className:"absolute -right-[45px] top-11 z-50 hidden group-hover:block"})]})})})})}),l.length>0&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"cart-wrapper group relative py-4",children:e.jsx("div",{className:"cart relative cursor-pointer",children:e.jsxs("button",{onClick:L,children:[e.jsx("span",{children:e.jsx($e,{})}),e.jsx("span",{className:"w-[18px] h-[18px] rounded-full  absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px] ",style:{backgroundColor:p,color:x},children:l&&l.length>0?l.length:0}),e.jsx(cr,{type:t,className:"absolute -right-[45px] top-11 z-50 hidden group-hover:block"})]})})})}),e.jsx("div",{children:o?e.jsx(e.Fragment,{children:e.jsx(T,{to:"/profile",children:e.jsx("span",{children:e.jsx(Ke,{})})})}):e.jsxs(e.Fragment,{children:[" ",e.jsx(T,{to:"/login",children:e.jsx("span",{children:e.jsx(Ke,{})})})]})})]})]})})})})}function ur({className:s,width:t="5.78538",height:o="1.28564"}){return e.jsxs("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",className:s,xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{x:"9.18359",y:"0.90918",width:t,height:o,transform:"rotate(135 9.18359 0.90918)"}),e.jsx("rect",{x:"5.08984",y:"5",width:t,height:o,transform:"rotate(-135 5.08984 5)"})]})}function mr({className:s,type:t=3}){const o=ae(),[c,a]=r.useState(!1),[u,i]=r.useState("0px"),d=ge(),{user:p,logout:x}=ie(),[b,g]=r.useState(null),{updateFilters:C,resetFilters:N}=r.useContext(Se),{updateFilters:l,resetFilters:v,produitHomeTabaski:f,produitHomeFlash:S,produitHomePromo:G}=r.useContext(_e),{produitHomeVenteCher:L}=r.useContext(jt),{categories:J,isLoadingCategorie:F,selectedCategory:A,updateSelectedCategory:$}=st(),z=()=>{a(!c)};r.useEffect(()=>{if(c){const R=document.querySelectorAll(".categories-list li").length;c&&R>0&&i(`${42*R}px`)}else i("0px")},[c]),r.useEffect(()=>{if(d.pathname==="/boutique"||d.pathname==="/en-promo"||d.pathname==="/promo-ramadan"||d.pathname==="/promo-tabaski"){const R=new URLSearchParams(d.search),n=R.get("category")||"All",k={page:Number(R.get("page"))||1,category:n,search:R.get("search")||"",min:Number(R.get("min"))||1e3,max:Number(R.get("max"))||5e6,limit:9,productType:"All",tag:"All"};d.pathname==="/en-promo"||d.pathname==="/promo-ramadan"||d.pathname==="/promo-tabaski"?l(k):C(k),$(n)}},[d.search,d.pathname,C,l,$]);const B=(R,n)=>{R.preventDefault(),a(!1);const k=new URLSearchParams(d.search);k.set("page","1"),n.name!=="All"?k.set("category",n.name):k.delete("category");const w={category:n.name,page:1,search:""};$(n.name),console.log(d.pathname),d.pathname==="/en-promo"?(l(w),o(`/en-promo?${k.toString()}`)):d.pathname==="/promo-ramadan"?(l(w),o(`/promo-ramadan?${k.toString()}`)):d.pathname==="/promo-tabaski"?(l(w),o(`/promo-tabaski?${k.toString()}`)):(C(w),o(`/boutique?${k.toString()}`))};function P(){x(),o("/login")}return e.jsx("div",{className:`fixed nav-widget-wrapper w-full h-[60px]  z-30 bg-bleu-logo ${s||""}`,children:e.jsx("div",{className:"container-x mx-auto h-full",children:e.jsx("div",{className:"w-full h-full relative",children:e.jsx("div",{className:"w-full h-full flex justify-between items-center",children:e.jsxs("div",{className:"category-and-nav flex xl:space-x-7 space-x-3 items-center",children:[e.jsxs("div",{className:"category w-[270px] h-[53px] bg-white px-5 rounded-t-md mt-[6px] relative",children:[e.jsxs("button",{onClick:z,type:"button",className:"w-full h-full flex justify-between items-center",children:[e.jsxs("div",{className:"flex space-x-3 items-center",children:[e.jsx("span",{children:e.jsx(Dt,{})}),e.jsxs("span",{className:"text-sm font-600 text-qblacktext",children:[A==="All"?"Nos Catégories":A.toUpperCase(),F&&e.jsx(qt,{className:"animate-spin"})]})]}),e.jsx("div",{children:e.jsx(ur,{width:"5.78538",height:"1.28564",className:"fill-current text-qblacktext"})})]}),c&&e.jsx("div",{className:"fixed top-0 left-0 w-full h-full -z-10",onClick:z}),e.jsx("div",{className:"category-dropdown w-full absolute left-0 top-[53px] overflow-hidden",style:{height:`${u}`},children:F?e.jsxs(e.Fragment,{children:[" ",e.jsx("div",{className:"flex justify-center",children:e.jsx(ht,{size:100,className:"mr-2 h-4 text-center w-4 animate-spin"})})]}):e.jsxs(e.Fragment,{children:[" ",e.jsx("ul",{className:"categories-list h-[calc(97vh-150px)] overflow-y-auto",children:J.map(R=>e.jsx("li",{children:e.jsx(T,{onClick:n=>B(n,R),children:e.jsxs("div",{className:`flex justify-between items-center px-5 h-10 bg-white  transition-all duration-300 ease-in-out cursor-pointer text-qblack ${t===3?"hover:bg-bleu-logo hover:text-white":"hover:bg-qyellow"}`,children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("span",{children:e.jsx(hs,{})}),e.jsx("span",{className:"text-xs font-400  uppercase ",children:R.name=="All"?"Tout":R.name})]}),e.jsx("div",{children:e.jsx("span",{children:e.jsx(fs,{})})})]})})},R.id))})," "]})})]}),e.jsx("div",{className:"nav",children:e.jsxs("ul",{className:"nav-wrapper flex xl:space-x-10 space-x-5",children:[e.jsx("li",{className:"relative",children:e.jsx(T,{to:"/",children:e.jsx("span",{className:`flex items-center text-sm font-600 cursor-pointer ${t===3?"text-white":"text-qblacktext"}`,children:e.jsx("span",{children:"Accueil"})})})}),e.jsx("li",{children:e.jsx(T,{to:"/boutique",children:e.jsx("span",{className:`flex items-center text-sm font-600 cursor-pointer ${t===3?"text-white":"text-qblacktext"}`,children:e.jsx("span",{children:"Boutique"})})})}),G&&G.length>0&&e.jsx("li",{children:e.jsx(T,{to:"/en-promo",children:e.jsx("span",{className:`flex items-center text-sm font-600 cursor-pointer ${t===3?"text-white":"text-qblacktext"}`,children:e.jsx("span",{children:"En promo"})})})}),f&&f.length>0&&e.jsx("li",{children:e.jsx(T,{to:"/promo-tabaski",children:e.jsx("span",{className:`flex items-center text-sm font-600 cursor-pointer ${t===3?"text-white":"text-qblacktext"}`,children:e.jsx("span",{children:"Promo Tabaski"})})})}),L&&L.length>0&&e.jsx("li",{children:e.jsx(T,{to:"/vente-en-cher",children:e.jsx("span",{className:`flex items-center text-sm font-600 cursor-pointer ${t===3?"text-white":"text-qblacktext"}`,children:e.jsx("span",{children:"Vente en cher"})})})}),e.jsx("li",{children:e.jsx(T,{to:"/credit-commandes",children:e.jsx("span",{className:`flex items-center text-sm font-600 cursor-pointer ${t===3?"text-white":"text-qblacktext"}`,children:e.jsx("span",{children:"A Crédit"})})})}),e.jsx("li",{children:e.jsx(T,{to:"/informations",children:e.jsx("span",{className:`flex items-center text-sm font-600 cursor-pointer ${t===3?"text-white":"text-qblacktext"}`,children:e.jsx("span",{children:"Informations"})})})}),p?e.jsx(e.Fragment,{children:e.jsx("li",{children:e.jsx(T,{onClick:P,children:e.jsx("span",{className:`flex items-center text-sm font-600 cursor-pointer ${t===3?"text-white":"text-qblacktext"}`,children:e.jsx("span",{children:"Déconnexion"})})})})}):e.jsx(e.Fragment,{children:e.jsx("li",{children:e.jsx(T,{to:"/login",children:e.jsx("span",{className:`flex items-center text-sm font-600 cursor-pointer ${t===3?"text-white":"text-qblacktext"}`,children:e.jsx("span",{children:"Connexion"})})})})}),p&&e.jsx(e.Fragment,{children:e.jsx("li",{className:"flex items-center",children:e.jsx(T,{to:"/profile",children:e.jsxs("span",{className:`flex items-center text-sm font-600 cursor-pointer ${t===3?"text-white":"text-qblacktext"}`,children:[e.jsx("span",{className:"mr-2",children:e.jsx(gs,{})}),e.jsx("span",{children:"Profil"})]})})})})]})})]})})})})})}function pr({className:s,drawerAction:t,type:o=3}){const{user:c}=ie(),{cart:a,wishlist:u,preorder:i,creditOrder:d}=r.useContext(re),[p,x]=r.useState(0),b=o===3?"var(--bleu-logo)":"var(--qyellow)",g=o===3?"white":"var(--qblack)";return r.useEffect(()=>{const C=()=>{const N=document.getElementById("fixed-header");N&&x(N.offsetHeight)};return C(),window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C)}},[]),e.jsx(e.Fragment,{children:e.jsxs("header",{id:"fixed-header",className:`${s||""} fixed top-0 left-0 right-0 z-50  bg-white`,children:[e.jsx(dr,{type:o,className:"quomodo-shop-middle-bar lg:block hidden"}),e.jsx(mr,{type:o,className:"quomodo-shop-nav-bar lg:block hidden"}),e.jsxs("div",{className:"quomodo-shop-drawer lg:hidden block w-full bg-white shadow-md fixed top-0 left-0 z-50 ",children:[e.jsxs("div",{className:"w-full h-[60px] flex items-center px-5",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{onClick:t,className:"cursor-pointer",children:e.jsx(Dt,{})}),e.jsx("div",{className:"ml-4",children:e.jsx(T,{to:"/",children:e.jsx("img",{width:o===3?"120":o===4?"152":"70",height:o===3||o===4?"36":"26",src:"/logo.png",alt:"logo"})})})]}),e.jsxs("div",{className:"flex items-center space-x-4 ml-auto",children:[u.length>0&&e.jsxs("div",{className:"cart relative cursor-pointer",children:[e.jsx(T,{to:"/wishlist",children:e.jsx(xt,{})}),e.jsx("span",{className:"w-[18px] h-[18px] rounded-full absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px]",style:{backgroundColor:b,color:g},children:u.length})]}),c&&d.length>0&&e.jsxs("div",{className:"cart relative cursor-pointer",children:[e.jsx(T,{to:"/credit-cart",children:e.jsx(pt,{})}),e.jsx("span",{className:"w-[18px] h-[18px] rounded-full absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px]",style:{backgroundColor:b,color:g},children:d.length})]}),a.length>0&&e.jsxs("div",{className:"cart relative cursor-pointer",children:[e.jsx(T,{to:"/cart",children:e.jsx(Ye,{})}),e.jsx("span",{className:"w-[18px] h-[18px] rounded-full absolute -top-2.5 -right-2.5 flex justify-center items-center text-[9px]",style:{backgroundColor:b,color:g},children:a.length})]}),e.jsx("div",{className:"flex items-center space-x-1",children:c?e.jsxs(T,{to:"/profile",className:"flex items-center space-x-1",children:[e.jsx(Ke,{}),e.jsx("span",{children:"Profil"})]}):e.jsxs(T,{to:"/login",className:"flex items-center space-x-1",children:[e.jsx(Ke,{}),e.jsx("span",{children:"Profil"})]})})]})]}),e.jsx("div",{className:"px-5 pb-4 ",children:e.jsx(ts,{type:o,className:"w-full",isMobile:!0,onSearch:(C,N)=>{console.log(`Searching for "${C}" in category "${N}"`)}})})]})]})})}const xr=()=>{const[s,t]=r.useState(!1),[o,c]=r.useState(!1),[a,u]=r.useState(!1),i=r.useRef(null),d=r.useRef(null),p=r.useRef(null);return r.useEffect(()=>{const x=()=>{c(window.innerWidth<768)};return x(),window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x)}},[]),r.useEffect(()=>{s&&p.current?p.current.play().catch(x=>console.log("Lecture automatique empêchée:",x)):!s&&p.current&&(p.current.pause(),p.current.currentTime=0)},[s]),r.useEffect(()=>{if(s){clearTimeout(d.current),u(!1);return}const x=()=>(u(!0),setTimeout(()=>{u(!1),d.current=setTimeout(()=>{x()},Math.random()*1e4+5e3)},2e3)),b=setTimeout(()=>{x()},3e3);return()=>{clearTimeout(b),clearTimeout(d.current)}},[s]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fixed bottom-10 right-4 z-50 flex flex-col items-end gap-4",children:[s&&e.jsx("div",{ref:i,className:`bg-white rounded-lg shadow-xl p-0 mb-4 animate-popup
                            ${o?"fixed inset-x-4 bottom-20 max-h-[80vh] overflow-y-auto":"w-full max-w-sm"}`,children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-primary",children:"Notre Service Après-Vente"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-700","aria-label":"Fermer",children:e.jsx(Ze,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ft,{className:"h-5 w-5 text-green-500 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Suivi personnalisé"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Un conseiller dédié vous accompagne après votre achat"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(gt,{className:"h-5 w-5 text-blue-500 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Assistance rapide"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Réponse garantie sous 24h à toutes vos questions"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(js,{className:"h-5 w-5 text-purple-500 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Satisfaction client"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Nous nous assurons que vous êtes pleinement satisfait"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(bs,{className:"h-5 w-5 text-amber-500 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Produits garantis"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tous nos produits sont garantis et échangeables selon nos conditions"})]})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-100",children:[e.jsx("div",{className:"bg-blue-50 p-3 rounded-md mb-4 text-center",children:e.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Service client sécurisé et fiable"})}),e.jsx("h4",{className:"font-medium mb-2",children:"Contactez notre SAV"}),e.jsxs("div",{className:`flex ${o?"flex-col":"flex-row"} gap-3`,children:[e.jsxs("a",{href:"tel:+221709221775",className:"flex items-center justify-center gap-1 bg-blue-50 hover:bg-blue-100 text-blue-700 px-3 py-2 rounded-md text-sm transition-colors",children:[e.jsx(ys,{className:"h-4 w-4"}),e.jsx("span",{children:"Appeler"})]}),e.jsxs("a",{href:"https://wa.me/221709221775",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-1 bg-green-50 hover:bg-green-100 text-green-700 px-3 py-2 rounded-md text-sm transition-colors",children:[e.jsx(Pt,{className:"h-4 w-4"}),e.jsx("span",{children:"WhatsApp"})]})]})]})]})]})}),e.jsxs("div",{className:`flex gap-3 md:mb-5 ${a?"animate-attention":""}`,children:[e.jsxs("a",{className:`hidden md:flex items-center justify-center gap-1 bg-blue-50 \r
                        hover:bg-blue-100 text-bleu-logo px-3 py-2 rounded-md text-sm transition-colors duration-300 ease-in-out transform hover:scale-110`,children:[e.jsx(vs,{className:"h-6 w-6"}),e.jsx("span",{children:"(+221) 70 922 17 75"})]}),e.jsx("a",{href:"https://wa.me/221709221775",target:"_blank",rel:"noopener noreferrer",className:"bg-green-500 hover:bg-green-600 text-white rounded-full p-3 shadow-lg flex items-center justify-center transition-all duration-300 ease-in-out transform hover:scale-110","aria-label":"Contact WhatsApp",children:e.jsx(Pt,{className:"h-6 w-6",style:{animation:"shake 2s ease-in-out infinite"}})})]})]}),e.jsx("style",{children:`
                @keyframes shake {
                    0% { transform: rotate(0deg); }
                    1% { transform: rotate(5deg); }
                    3% { transform: rotate(-5deg); }
                    5% { transform: rotate(5deg); }
                    7% { transform: rotate(-5deg); }
                    9% { transform: rotate(0deg); }
                    100% { transform: rotate(0deg); }
                }

                @keyframes attention {
                    0% { transform: translateY(0) scale(1); }
                    10% { transform: translateY(-5px) scale(1.05); }
                    20% { transform: translateY(0) scale(1); }
                    30% { transform: translateY(-5px) scale(1.05); }
                    40% { transform: translateY(0) scale(1); }
                    50% { transform: translateY(-5px) scale(1.05); }
                    60% { transform: translateY(0) scale(1); }
                    70% { transform: translateX(-5px); }
                    80% { transform: translateX(5px); }
                    90% { transform: translateX(-5px); }
                    100% { transform: translateX(0); }
                }

                .animate-attention {
                    animation: attention 2s ease-in-out;
                }

                @keyframes fade-in-right {
                    from {
                        opacity: 0;
                        transform: translateX(20px);
                    }
                    to {
                        opacity: 1;
                        transform: translateX(0);
                    }
                }

                @keyframes zoom-in {
                    from {
                        transform: scale(0.8);
                    }
                    to {
                        transform: scale(1);
                    }
                }

                @keyframes rotate-in {
                    from {
                        transform: rotate(-5deg);
                    }
                    to {
                        transform: rotate(0deg);
                    }
                }

                .animate-popup {
                    animation: fade-in-right 0.3s ease-out forwards, zoom-in 0.3s ease-out forwards, rotate-in 0.3s ease-out forwards;
                }
            `})]})},bt=()=>{const[s,t]=r.useState(!1),o=ge(),c=()=>{t(!1);const a=Date.now();localStorage.setItem("popupLastClosed",a.toString()),setTimeout(()=>{t(!0)},1e4)};return r.useEffect(()=>{const a=["/cart","/pre-cart","/credit-cart"],u=()=>{const i=localStorage.getItem("popupLastClosed");return i?Date.now()-parseInt(i,10)>=1e4:!0};a.includes(o.pathname)&&u()&&t(!0)},[o.pathname]),{showPopup:s,handleClosePopup:c}},ss=()=>{const{showPopup:s,handleClosePopup:t}=bt(),o=ae();return s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`hidden md:block fixed bottom-4 right-4 bg-gradient-to-r from-bleu-logo to-indigo-500 p-6 rounded-lg shadow-2xl z-50
                            text-white max-w-sm sm:max-w-xs w-full
                            transition-opacity duration-300 ease-in-out opacity-100`,children:[e.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-white hover:text-gray-200 transition-colors",children:e.jsx(Ze,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl sm:text-xl font-bold mb-3",children:"Offre Spéciale CCBM Shop!"}),e.jsx("p",{className:"text-lg sm:text-sm mb-4",children:"Inscrivez-vous dés maintenant et obtenez une réduction jusqu à 20 000 FCFA sur votre premier achat sur tout nos produits."}),e.jsx("p",{className:"mb-2 text-center text-sm",children:"*Excepté les produits en promotion"}),e.jsx("button",{onClick:()=>{o("/signup"),t()},className:"w-full bg-white text-blue-600 py-2 px-4 rounded-md hover:bg-gray-100 transition-colors font-semibold text-lg sm:text-base",children:"J'en profite!"}),e.jsx("p",{className:"text-sm mt-3 text-center",children:"*Offre valable pour tout nouvel client sur CCBM Shop"})]})]}),e.jsx("div",{className:`block md:hidden fixed bottom-0 left-0 right-0 bg-gradient-to-r from-bleu-logo to-indigo-600 p-2 shadow-lg z-50 
                        text-white w-full
                        transition-opacity duration-300 ease-in-out opacity-100`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-grow mr-2",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Offre Spéciale!"}),e.jsx("p",{className:"text-xs",children:"Jusqu'à 20 000 FCFA de réduction"})]}),e.jsx("button",{onClick:()=>{o("/signup"),t()},className:"bg-white text-blue-600 py-1 px-2 rounded-md hover:bg-gray-100 transition-colors font-semibold text-xs whitespace-nowrap",children:"J'en profite!"}),e.jsx("button",{onClick:t,className:"ml-2 text-white hover:text-gray-200 transition-colors","aria-label":"Close popup",children:e.jsx(Ze,{size:16})})]})})]}):null};function Oe({children:s,childrenClasses:t}){const o=ge(),{trackPageView:c}=tt(),[a,u]=r.useState(!1),{user:i}=ie(),{preorder:d,creditOrder:p,cart:x}=r.useContext(re),{showPopup:b,handleClosePopup:g}=bt();return r.useEffect(()=>{c(o.pathname)},[o,c]),e.jsxs(e.Fragment,{children:[e.jsx(er,{open:a,action:()=>u(!a)}),e.jsxs("div",{className:"w-full min-h-screen flex flex-col  ",children:[e.jsx(pr,{drawerAction:()=>u(!a)}),e.jsx("main",{className:`w-full flex-grow overflow-visible lg:mt-[130px]  sm:mt-[50px] mt-[50px] ${t||"lg:mt-[190px] md:mt-10 pt-[30px] pb-[60px]"}`,children:e.jsx("div",{className:"container mx-auto px-4",children:s})}),e.jsx(ar,{})]}),b&&!i&&e.jsx(ss,{onClose:g,isVisible:b}),e.jsx(xr,{})]})}const Et={getCommandes:async s=>{try{return(await E.get(`/api/commandes/${s}`)).data}catch(t){throw console.error("Erreur lors de la récupération des commandes",t),t}},getCommandeTracking:async s=>{try{return(await E.post("/api/tracking",s)).data}catch(t){throw console.error("Erreur lors de la réccuperation de la commande",t),t}},deleteCommande:async s=>{try{return(await E.get(`/api/commande/${s}/delete`)).data}catch(t){throw console.error("Erreur lors de la suppression de la commande",t),t}},annulerCommande:async s=>{try{return(await E.get(`/api/commande/${s}/annuler`)).data}catch(t){throw console.error("Erreur lors de la suppression de la commande",t),t}},getCommandeAny:async s=>{try{return(await E.get(`/api/getcommande/${s}`)).data}catch(t){throw console.error("Erreur lors de la récupération des commandes",t),t}},getCommandesVenteCher:async s=>{try{return(await E.get(`/api/commandes-en-cher/${s}`)).data}catch(t){throw console.error("Erreur lors de la récupération des commandes en cher",t),t}},getCommandeById:async(s,t)=>{try{return console.log({commande_id:t,partner_id:s}),(await E.post("/api/commandes/details",{commande_id:t,partner_id:s})).data}catch(o){throw console.error(`Erreur lors de la récupération du modèle avec l'ID ${t}`,o),o}},createCommande:async s=>{try{return(await E.post("/api/commandes",s)).data}catch(t){throw console.error("Erreur lors de la création du modèle",t),t}},createCommandeVenteCher:async s=>{try{return(await E.post("/api/commande-en-cher",s)).data}catch(t){throw console.error("Erreur lors de la création de la commande Vente en cher",t),t}},createCommandePack:async s=>{try{return(await E.post("/api/commande-pack",s)).data}catch(t){throw console.error("Erreur lors de la création du modèle",t),t}},createCommandeWitoutPartner:async s=>{try{return(await E.post("/api/commande-sans-partner",s)).data}catch(t){throw console.error("Erreur lors de la création du modèle",t),t}},updateCommande:async(s,t)=>{try{return(await E.put(`/api/commandes/${s}`,t)).data}catch(o){throw console.error(`Erreur lors de la mise à jour du modèle avec l'ID ${s}`,o),o}}},hr=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),fr=s=>{const t=s.startsWith("221")?s:`221${s}`;return/^2217[0-9]{8}$/.test(t)},gr=({handleCreatePartner:s,order:t,data:o,onClose:c})=>{const[a,u]=r.useState(""),[i,d]=r.useState(""),[p,x]=r.useState(""),[b,g]=r.useState(""),[C,N]=r.useState(""),[l,v]=r.useState({}),[f,S]=r.useState(!1),[G,L]=r.useState(!0),J=()=>{const A={prenom:p?"":"Le prénom est obligatoire.",nom:i?"":"Le nom est obligatoire.",telephone:C?fr(C)?"":"Le numéro de téléphone est invalide.":"Le téléphone est obligatoire.",adresse:b?"":"L'adresse est obligatoire.",email:a?hr(a)?"":"L'adresse email est invalide.":"L'adresse email est obligatoire."};return v(A),Object.values(A).every($=>!$)},F=A=>{if(A.preventDefault(),S(!0),J()){L(!1);let $={name:`${p} ${i}`,email:a,telephone:C,adresse:b,order:o};s($)}else S(!1)};return e.jsxs(ot,{size:"xl",className:"h-auto",show:G,popup:!0,onClose:c,children:[e.jsx(ot.Header,{}),e.jsx(ot.Body,{children:e.jsx("div",{className:"fixed inset-0 p-4 flex justify-center items-center w-full h-full z-[1000] overflow-auto font-[sans-serif]",children:e.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-gray-900 shadow-lg rounded-lg p-8 relative text-gray-800 dark:text-white",children:[e.jsxs("div",{className:"flex items-start border-b border-gray-300 dark:border-gray-700 pb-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("h3",{className:"text-xl font-bold",children:"Vos informations pour la réservation"})}),e.jsx(Qe,{onClick:c,className:"cursor-pointer hover:text-red-500 hover:scale-150 duration-300"})]}),t&&e.jsxs("form",{onSubmit:F,className:"mt-8",children:[e.jsxs("div",{className:"flex sm:flex-row flex-col sm:space-x-5 space-y-5 sm:space-y-0 mb-5",children:[e.jsxs("div",{className:"sm:w-1/2",children:[e.jsx(Fe,{htmlFor:"prenom",value:"Prénom",className:"dark:text-white"}),e.jsx("input",{type:"text",id:"prenom",placeholder:"Prénom",value:p,onChange:A=>x(A.target.value),className:"mt-1 w-full px-3 py-2 bg-white dark:bg-neutral-900 border border-gray-300 dark:border-neutral-700 rounded-md text-sm dark:text-white placeholder-gray-500 dark:placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.prenom&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.prenom})]}),e.jsxs("div",{className:"sm:w-1/2",children:[e.jsx(Fe,{htmlFor:"nom",value:"Nom",className:"dark:text-white"}),e.jsx("input",{type:"text",id:"nom",placeholder:"Nom",value:i,onChange:A=>d(A.target.value),className:"mt-1 w-full px-3 py-2 bg-white dark:bg-neutral-900 border border-gray-300 dark:border-neutral-700 rounded-md text-sm dark:text-white placeholder-gray-500 dark:placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.nom&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.nom})]})]}),e.jsxs("div",{className:"flex sm:flex-row flex-col sm:space-x-5 space-y-5 sm:space-y-0 mb-5",children:[e.jsxs("div",{className:"sm:w-1/2",children:[e.jsx(Fe,{htmlFor:"email",value:"Email",className:"dark:text-white"}),e.jsx("input",{type:"email",id:"email",placeholder:"Adresse Email",value:a,onChange:A=>u(A.target.value),className:"mt-1 w-full px-3 py-2 bg-white dark:bg-neutral-900 border border-gray-300 dark:border-neutral-700 rounded-md text-sm dark:text-white placeholder-gray-500 dark:placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.email&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.email})]}),e.jsxs("div",{className:"sm:w-1/2",children:[e.jsx(Fe,{htmlFor:"phone",value:"Téléphone",className:"dark:text-white"}),e.jsx("input",{type:"tel",id:"phone",placeholder:"77 000 00 00",value:C,onChange:A=>N(A.target.value),className:"mt-1 w-full px-3 py-2 bg-white dark:bg-neutral-900 border border-gray-300 dark:border-neutral-700 rounded-md text-sm dark:text-white placeholder-gray-500 dark:placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.telephone&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.telephone})]})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx(Fe,{htmlFor:"adresse",value:"Adresse",className:"dark:text-white"}),e.jsx("input",{type:"text",id:"adresse",placeholder:"Adresse",value:b,onChange:A=>g(A.target.value),className:"mt-1 w-full px-3 py-2 bg-white dark:bg-neutral-900 border border-gray-300 dark:border-neutral-700 rounded-md text-sm dark:text-white placeholder-gray-500 dark:placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.adresse&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.adresse})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(Pe,{type:"submit",isProcessing:f,disabled:f,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded",children:f?"Envoi en cours...":"Valider ma réservation"})})]})]})})})]})},jr={getPackByCode:async s=>{try{return await E.get("api/pack_product/"+s)}catch(t){throw console.error("Error sending CRM data:",t),t}},getPacks:async()=>{try{return await E.get("api/pack_product")}catch(s){throw console.error("Error sending CRM data:",s),s}}},yt=({title:s,description:t,keywords:o})=>e.jsxs(ws,{children:[e.jsx("title",{children:s}),e.jsx("meta",{name:"description",content:t}),e.jsx("meta",{name:"keywords",content:o})]});function br({className:s,produits:t}){const{cart:o,removeFromCart:c}=r.useContext(re);return console.log(o),e.jsxs("div",{className:`w-full ${s||""}`,children:[e.jsx("div",{className:"relative w-full overflow-x-auto border border-[#EDEDED]",children:e.jsx("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:e.jsxs("tbody",{children:[e.jsx("tr",{className:"text-[13px] font-medium text-black bg-[#F6F6F6] whitespace-nowrap px-2 border-b default-border-bottom uppercase",children:e.jsx("td",{className:"py-4 pl-10 block whitespace-nowrap min-w-[300px]",children:"Produits"})}),t.map((a,u)=>e.jsx("tr",{className:"bg-white border-b hover:bg-gray-50",children:e.jsx("td",{className:"pl-10  py-4  w-[380px]",children:e.jsxs("div",{className:"flex space-x-6 items-center",children:[e.jsx("div",{className:"w-[80px] h-[80px] overflow-hidden flex justify-center items-center border border-[#EDEDED]",children:e.jsx("img",{src:a.image?`${a.image}`:"https://readymadeui.com/images/coffee1.webp",alt:`CCBM Shop pack promo ${a.name}`,className:"w-full h-full object-contain"})}),e.jsx("div",{className:"flex-1 flex flex-col",children:e.jsx("p",{className:"font-medium text-[15px] text-qblack",children:a.name})})]})})},u))]})})}),e.jsx("div",{className:" mt-3 transition-all duration-300 ease-in-out bg-gray-200 text-[15px]  rounded-lg font-medium text-black  text-center py-2",children:"Livraison gratuite sur Dakar"})]})}function yr(){const s=ge(),t=`${s.pathname}${s.search}${s.hash}`,{cart:o,getCartTotal:c,clearCart:a}=r.useContext(re),{user:u}=ie(),[i,d]=r.useState(""),[p,x]=r.useState(!1),[b,g]=r.useState(!1),[C,N]=r.useState(!1),[l,v]=r.useState(null),f=ae(),[S,G]=r.useState(!1),[L,J]=r.useState(),[F,A]=r.useState(),[$,z]=r.useState([]),[B,P]=r.useState(0);r.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"}),u||(Q.dismiss(),Q.warning("Merci de vous connecter pour confirmer votre commande",{position:"top-center",autoClose:5e3}));const _=new URLSearchParams(s.search).get("code");_?(J(_),console.log("Code Pack:",_)):console.error("Aucun code pack trouvé")},[s]),r.useEffect(()=>{L&&(async()=>{try{const _=await jr.getPackByCode(L);if(_.data)A(_.data),z(_.data.produits),P(_.data.sommeTotal);else throw new Error("Pack non trouvé ou plus disponible.")}catch(_){console.error("Erreur lors de la récupération du pack :",_),Q.error("Le pack n'est plus d'actualité ou indisponible.",{position:"top-center",autoClose:5e3}),A(null)}})()},[L]);const R=w=>{console.log(w.target.value),x(!1),d(w.target.value)},n=async w=>{if(w.preventDefault(),console.log("pack "),console.log($),i==""){Q.dismiss(),Q.error("Veuillez choisir un mode de paiement",{position:"top-center",autoClose:5e3}),x(!1);return}if(u){x(!0);const Z={partner_id:u.id,type_sale:"order",payment_mode:i!=""?i:"domicile",state:"sale",type_order:"pack",commitment_date:new Date,order_lines:$.map(K=>({id:K.id,quantity:K.quantity,list_price:K.price_unit}))};console.log(Z);try{const K=await Et.createCommandePack(Z);console.log(K),Q.success("Commande créé avec succés",{position:"top-center",autoClose:5e3}),x(!1),f(`/commandes/${K.id}/détails`),console.log(K)}catch(K){x(!1),Q.error("Commande non validé ",{position:"top-center",autoClose:5e3}),console.error("Erreur lors de la récupération des modèles",K)}}const _={partner_id:null,type_sale:"order",payment_mode:i!=""?i:"online",state:"sale",type_order:"pack",commitment_date:new Date,order_lines:o.map(Z=>({id:Z.id,quantity:Z.quantity,list_price:Z.en_promo?Z.promo_price:Z.list_price}))};v(_),x(!0),N(!0)},k=async w=>{console.log("Payment data: ",w),N(!1),x(!0);try{const _=await Et.createCommandeWitoutPartner(w);console.log(_),Q.success("Commande créé avec succés",{position:"top-center",autoClose:5e3}),f("/boutique"),console.log(_),a(),x(!1)}catch(_){Q.error("Commande non validé ",{position:"top-center",autoClose:5e3}),console.error("Erreur lors de la récupération des modèles",_),x(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(yt,{title:"CCBM Shop | Panier Commande",description:"Découvrez les meilleures offres sur CCBM Shop, votre destination privilégiée pour l'électroménager de qualité. Explorez nos produits allant des réfrigérateurs aux téléviseurs intelligents, et profitez de promotions exclusives !",keywords:"électroménager, boutique en ligne d'électroménager, CCBM Shop, ccbme, appareils électroménagers à prix réduits, smart TV, réfrigérateurs modernes, climatiseurs efficaces, promotions électroménager"}),e.jsx(Oe,{childrenClasses:"pt-0 pb-0",children:e.jsxs("div",{className:"cart-page-wrapper w-full bg-white pb-[60px]",children:[e.jsx("div",{className:"w-full",children:e.jsx(Ws,{title:`Panier Pack ${F&&F.name?F.name:"Commande"}`,breadcrumb:[{name:"Accueil",path:"/"},{name:"Panier Pack Commande : "+(F&&F.name?F.name:"Commande"),path:"/pack-promo"}]})}),e.jsx("div",{className:"w-full mt-[23px]",children:e.jsxs("div",{className:"container-x mx-auto",children:[e.jsx(br,{produits:$,className:"mb-[30px]"}),e.jsx("div",{className:"w-full sm:flex justify-between",children:e.jsx("div",{className:"flex space-x-2.5 items-center",children:e.jsx(T,{to:"/boutique",children:e.jsx("div",{className:"w-[220px] h-[50px] bg-[#F6F6F6] flex justify-center items-center",children:e.jsx("span",{className:"text-sm font-semibold",children:"Continuer vos achats"})})})})}),u?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{}),e.jsx("div",{className:"w-full mt-[30px] flex sm:justify-end",children:e.jsxs("div",{className:"sm:w-[370px] w-full border border-[#EDEDED] px-[30px] py-[26px]",children:[e.jsx("span",{className:"text-[15px] font-medium text-qblack mb-[18px]  items-center block",children:i==""&&b&&e.jsx("span",{className:"text-red-500",children:" Choisir le mode de paiement "})}),e.jsxs("div",{className:"shipping mb-6",children:[e.jsx("span",{className:"text-[15px] font-medium text-qblack mb-[18px] block",children:"Paiement"}),e.jsxs("ul",{className:"flex flex-col space-y-1",children:[e.jsx("li",{children:e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{className:"flex space-x-2.5 items-center",children:[e.jsx("div",{className:"input-radio",children:e.jsx("input",{type:"radio",name:"price",value:"domicile",className:"bg-bleu-logo",onChange:R})}),e.jsx("span",{className:"text-[14px] text-normal text-qblack",children:"A domicile"})]})})}),e.jsx("li",{children:e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{className:"flex space-x-2.5 items-center",children:[e.jsx("div",{className:"input-radio",children:e.jsx("input",{type:"radio",name:"price",value:"online",className:"bg-bleu-logo",onChange:R})}),e.jsx("span",{className:"text-[14px] text-normal text-qblack ",children:"En ligne"})]})})})]})]}),e.jsx("div",{className:"total mb-6",children:e.jsxs("div",{className:" flex justify-between",children:[e.jsx("p",{className:"text-[18px] font-medium text-qblack",children:"Total"}),e.jsxs("p",{className:"text-[18px] font-medium text-qred",children:[" ",se(B)]})]})}),u?e.jsx(e.Fragment,{children:B!=0&&e.jsxs(Pe,{type:"submit",className:"hover:bg-red-500  w-full bg-bleu-logo ",onClick:w=>n(w),disabled:p,children:[p&&e.jsx(ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Valider le Panier"]})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-full mt-[30px] flex sm:justify-end",children:e.jsx(T,{to:`/login?redirectTo=${t}`,children:e.jsx(Pe,{type:"submit",className:"hover:bg-red-500  w-full bg-bleu-logo ",children:"Connectez-vous pour confirmer la commande"})})})})]})})]})}),C&&!u&&e.jsx(e.Fragment,{children:e.jsx(gr,{handleCreatePartner:k,order:o,data:l,onClose:()=>N(!1)})})]})})]})}const vr=()=>{window.dataLayer||(window.dataLayer=[])},rs=(s,t={})=>{vr(),window.dataLayer.push(I({event:s},t))},Aa=(s,t,o)=>{const c=rs("purchase",{orderId:s,total:t,products:o.map(a=>({name:a.name,price:a.list_price,quantity:a.quantity}))});console.log("resultat track purchase "+c)},wr=s=>{const t=rs("click_image_product",{productName:s});console.log("produit cliqué "+s+"r = "+t)};function Cr({datas:s,type:t=3,mode:o="default"}){const c=ae(),{addToCart:a,addToWishlist:u,addToPreorder:i,preorder:d,isProductInWishlist:p,addToCreditOrder:x,addToVenteCherCart:b}=r.useContext(re),{trackEvent:g}=tt(),{showPopup:C,handleClosePopup:N}=bt(),[l,v]=r.useState(!1),{user:f}=ie(),S=s||{},G=Number(S.creditorder_price||0),L=Number(S.list_price||0),J=Number(S.promo_price||0),F=o==="vente-cher"?!1:!!S.en_promo&&J>0,A=!!S.is_creditorder&&G>0,$=_=>{Q.success(_||"Produit ajouté",{position:"top-center",autoClose:2e3})},z=_=>{_.preventDefault(),A&&(x(S,1),v(!0),console.log("Ajout au credit order :",d),$("Produit ajouté à la commande à crédit"))},B=_=>{console.log(`Subscribed with email: ${_}`)},P=_=>{_.preventDefault(),!(!S.sale_ok&&o!=="vente-cher")&&(o==="vente-cher"?(b(S,1),$("Produit ajouté au panier Vente en cher")):(a(S,1),$("Produit ajouté au panier")),v(!0))},R=_=>{_.preventDefault(),u(S,1),$("Produit ajouté aux favoris")},n=_=>{_.preventDefault(),S.id&&(c(`/produits/${S.id}/details`,{state:{produit:S}}),S.name&&(wr(S.name),g("Image","image_produit",S.name,1)))},k=r.useMemo(()=>{const _=S.image_256;return{background:_?`url('data:image/png;base64,${_}')`:"url('https://www.ccbmshop.com/logo.png')",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundColor:"#ffffff",transition:"transform 300ms ease"}},[S.image_256]),w=Array.isArray(S.tags)?S.tags:[];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"product-card-one w-full h-full bg-white relative group overflow-hidden",style:{boxShadow:"0px 15px 64px 0px rgba(0, 0, 0, 0.05)"},children:[e.jsx("button",{type:"button",className:"product-card-img group relative w-full h-[200px] sm:h-[300px] cursor-pointer overflow-hidden outline-none",style:k,onMouseEnter:_=>_.currentTarget.style.transform="scale(1.05)",onMouseLeave:_=>_.currentTarget.style.transform="scale(1)",onClick:n,"aria-label":S.name||"Voir le détail du produit",children:e.jsxs("div",{className:"absolute left-0 right-0 flex justify-between",children:[S.en_promo&&e.jsx("div",{className:"product-type absolute left-[14px] top-[17px]",children:e.jsx("span",{className:`text-[8px] font-bold leading-none py-[5px] px-2 uppercase text-white \r
                      rounded-full tracking-wider bg-bleu-logo`,children:"En promo"})}),S.categ_id&&e.jsx("div",{className:"product-type absolute right-[14px] top-[17px] hidden sm:block",children:e.jsx("span",{className:`text-[8px] font-bold leading-none py-[5px] px-2 uppercase text-white \r
                      rounded-full tracking-wider bg-qyellow`,children:S.categ_id})})]})}),e.jsxs("div",{className:"product-card-details px-[15px] sm:px-[30px] pb-[15px] sm:pb-[30px] relative",children:[S.categ_id&&e.jsx("div",{className:"block sm:hidden mb-1",children:e.jsx("span",{className:"text-[7px] font-medium py-1 px-2 bg-yellow-500 text-white rounded-md",children:S.categ_id})}),e.jsx(T,{to:S.id?`/produits/${S.id}/details`:"#",children:e.jsx("p",{className:"title mb-2 text-[11px] sm:text-[14px] font-600 text-qblack leading-[16px] sm:leading-[24px] line-clamp-2 hover:text-bleu-logo",children:S.name||"Produit"})}),e.jsxs("p",{className:"price",children:[F&&(A||!A)&&e.jsx("span",{className:"offer-price line-through text-qred font-600 text-[14px] sm:text-[16px]",children:se(L)}),!F&&A&&e.jsx("span",{className:"offer-price line-through text-qred font-600 text-[14px] sm:text-[16px]",children:se(G)}),e.jsx("br",{}),F?e.jsx(e.Fragment,{children:e.jsx("span",{className:"offer-price text-bleu-logo font-600 text-[14px] sm:text-[16px]",children:se(J)})}):L>0&&e.jsx(e.Fragment,{children:e.jsx("span",{className:"offer-price text-bleu-logo font-600 text-[14px] sm:text-[16px]",children:se(L)})})]}),e.jsxs("div",{className:"w-full left-0 flex flex-col gap-2 mt-2 items-center",children:[S.sale_ok&&e.jsxs("button",{type:"button",onClick:P,className:`w-full h-12 flex items-center justify-center gap-2 text-[14px] font-medium ${t===3?"blue-logo-btn":"yellow-btn"}`,children:[e.jsx(Ye,{className:"w-5 h-5"}),e.jsx("span",{children:"Commander"})]}),f&&A&&e.jsxs("button",{type:"button",onClick:z,className:"w-full h-12 flex items-center justify-center gap-2 text-[14px] font-medium vert-btn",children:[e.jsx($e,{className:"w-5 h-5"}),e.jsx("span",{children:"À crédit"})]})]})]}),e.jsxs("div",{className:"quick-access-btns flex flex-col space-y-1 sm:space-y-2 absolute group-hover:right-2 sm:group-hover:right-4 -right-10 top-20 transition-all duration-300 ease-in-out",children:[e.jsx("span",{className:"w-8 h-8 sm:w-10 sm:h-10 flex justify-center items-center bg-primarygray rounded",children:e.jsx("div",{className:"flex gap-1",children:e.jsx(T,{to:S.id?`/produits/${S.id}/details`:"#",className:"cursor-pointer hover:text-gray-500 hover:scale-150 duration-300","aria-label":"Voir le détail du produit",children:e.jsx(Cs,{})})})}),e.jsx("span",{className:"w-8 h-8 sm:w-10 sm:h-10 flex justify-center items-center bg-primarygray rounded",children:e.jsx("button",{type:"button",onClick:R,className:"flex items-center justify-center","aria-label":"Ajouter aux favoris",children:e.jsx(xt,{className:`${p(S)?"text-yellow-500":""} cursor-pointer hover:text-yellow-500 hover:scale-150 duration-300`})})}),w.length>0&&e.jsx("span",{className:"w-8 h-8 sm:w-10 sm:h-10 flex justify-center items-center rounded",children:e.jsx("div",{className:"flex gap-1",children:w.map(_=>e.jsx(Ns,{icon:ks,color:"success",children:_.name},_.id))})})]})]}),l&&!f&&e.jsx(ss,{onClose:N,onSubscribe:B,isVisible:C})]})}function Nr({className:s,filterToggle:t,updateUrlParams:o,type:c=3}){const{filters:a,updateFilters:u}=r.useContext(Se),{user:i}=ie(),d=g=>{u(M(I({},a),{min:g[0],max:g[1],page:1})),o(M(I({},a),{min:g[0],max:g[1],page:1}))},p=g=>{const C=g.target.value;u(M(I({},a),{productType:C,page:1})),o(M(I({},a),{productType:C,page:1}))},[x,b]=r.useState([]);return r.useEffect(()=>{(async()=>{try{const C=await mt.getTags();b(C),console.log(C)}catch(C){console.error("Erreur lors de la récupération des catégories",C)}})()},[]),e.jsxs("div",{className:`filter-widget w-full fixed lg:relative left-0 top-0 h-screen z-10 lg:h-auto overflow-y-scroll lg:overflow-y-auto bg-white px-[30px] pt-[40px] ${s||""} ${t?"block":"hidden lg:block"}`,children:[e.jsxs("div",{className:"filter-subject-item pb-10 border-b border-qgray-border",children:[e.jsx("div",{className:"subject-title mb-[20px]",children:e.jsx("h1",{className:"text-black text-base font-500",children:"Type de produits"})}),e.jsxs("div",{className:"flex flex-col gap-3 text-sm text-qgray",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",value:"All",name:"productType",checked:a.productType==="All",onChange:p}),"Tous les produits"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",value:"promo",name:"productType",checked:a.productType==="promo",onChange:p}),"Produits en promo"]}),i&&e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",value:"credit",name:"productType",checked:a.productType==="credit",onChange:p}),"Produits à crédit"]})]})]}),e.jsxs("div",{className:"filter-subject-item pb-10 border-b border-qgray-border mt-10",children:[e.jsx("div",{className:"subject-title mb-[30px]",children:e.jsx("h1",{className:"text-black text-base font-500",children:"Échelle des prix"})}),e.jsx("div",{className:"price-range mb-5",children:e.jsx(Ps,{value:[a.min,a.max],onInput:d,min:1e3,max:5e6})}),e.jsxs("p",{className:"text-xs text-qblack font-400",children:["Prix (FCFA): ",a.min," - ",a.max]})]})]})}const kr=({currentPage:s,totalPages:t,onPageChange:o})=>{const c=()=>{const u=[];for(let i=Math.max(2,s-2);i<=Math.min(t-1,s+2);i++)u.push(i);return s-2>2&&u.unshift("..."),s+2<t-1&&u.push("..."),u.unshift(1),t!==1&&u.push(t),u};return e.jsx("nav",{className:"flex justify-center items-center mt-8 px-4","aria-label":"Pagination",children:e.jsxs("ul",{className:"flex flex-wrap justify-center items-center space-x-1 md:space-x-2",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>o(Math.max(1,s-1)),disabled:s===1,className:"p-2 rounded-full bg-gray-200 text-gray-700 hover:bg-qyellow disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Previous page",children:e.jsx(Ss,{className:"w-5 h-5"})})}),c().map((a,u)=>e.jsx("li",{children:typeof a=="number"?e.jsx("button",{onClick:()=>o(a),className:`hidden sm:block px-3 py-2 rounded ${s===a?"bg-bleu-logo text-white":"bg-gray-200 text-gray-700 hover:bg-qyellow"}`,"aria-current":s===a?"page":void 0,children:a}):e.jsx("span",{className:"hidden sm:block px-3 py-2",children:a})},u)),e.jsx("li",{className:"sm:hidden",children:e.jsxs("span",{className:"px-3 py-2 text-gray-700",children:[s," / ",t]})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>o(Math.min(t,s+1)),disabled:s===t,className:"p-2 rounded-full bg-gray-200 text-gray-700 hover:bg-qyellow disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Next page",children:e.jsx(le,{className:"w-5 h-5"})})})]})})};function Pr(){const{updateFilters:s,filters:t,resetFilters:o,fetchProdcutsTabaski:c,isLoadingProductTabaski:a,currentProductsTabaski:u,totalProductsTabaski:i}=r.useContext(_e),d=ge(),p=ae();r.useEffect(()=>{o();const l=new URLSearchParams(d.search),v={page:Number.parseInt(l.get("page"))||1,category:l.get("category")||"All",search:l.get("search")||"",min:Number.parseInt(l.get("min"))||1e3,max:Number.parseInt(l.get("max"))||5e6,limit:9};s(v),console.log(t),window.scrollTo({top:0,left:100,behavior:"smooth"})},[d.search,d.pathname,o,s]),r.useEffect(()=>{c()},[c]);const x=l=>{g(M(I({},t),{page:l}))},b=l=>{g({category:l||"All",page:1})},g=r.useCallback(l=>{const v=new URLSearchParams(d.search);Object.entries(l).forEach(([f,S])=>{S!=null&&S!==""?v.set(f,S.toString()):v.delete(f)}),p({search:v.toString()},{replace:!0})},[d.search,p]),C=(t.page-1)*t.limit+1,N=Math.min(t.page*t.limit,i);return e.jsxs(e.Fragment,{children:[e.jsx(yt,{title:"CCBM Shop | Promo Tabaski",description:"Découvrez les meilleures offres promotionnelles sur CCBM Shop, votre destination privilégiée pour l'électroménager de qualité à prix réduits.",keywords:"électroménager, tabaski ,promotions, offres spéciales, CCBM Shop, ccbme, appareils électroménagers à prix réduits"}),e.jsx(Oe,{children:e.jsx("div",{className:"products-page-wrapper w-full",children:e.jsxs("div",{className:"container-x mx-auto",children:[e.jsx(Qt,{}),e.jsxs("div",{className:"w-full lg:flex lg:space-x-[30px]",children:[e.jsx("div",{className:"lg:w-[270px]",children:e.jsx(Nr,{updateUrlParams:g,handleCategoryChange:b})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"products-sorting w-full bg-white flex flex-col md:flex-row justify-between p-[30px] mb-[40px]",children:e.jsxs("p",{className:"font-400 text-[13px]",children:[e.jsx("span",{className:"text-qgray",children:"Affichage"})," ",i>0?`${C}–${N} sur ${i} résultats`:"0 résultat"]})}),a?e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsx(qt,{className:"animate-spin"})," Chargement"]}):u.length===0?e.jsx("div",{className:"flex justify-center items-center",children:"Aucun produit en promotion trouvé"}):e.jsx("div",{className:"grid xl:grid-cols-3 grid-cols-2 gap-[30px]",children:u.map(l=>e.jsx(Cr,{datas:l},l.id))}),e.jsx(kr,{currentPage:t.page,totalPages:Math.ceil(i/t.limit),onPageChange:x})]})]})]})})})]})}const Tt={getUsers:async()=>{try{return(await E.get("/api/users")).data}catch(s){throw console.error("Erreur lors de la récupération des users",s),s}},getCompte:async s=>{try{return(await E.get(`/api/users/${s}/compte`)).data}catch(t){throw console.error(`Erreur lors de la récupération du modèle avec l'ID ${s}`,t),t}},getUserById:async s=>{try{return(await E.get(`/api/users/${s}`)).data}catch(t){throw console.error(`Erreur lors de la récupération du modèle avec l'ID ${s}`,t),t}},createUser:async s=>{try{return(await E.post("/api/new_compte",s)).data}catch(t){throw console.error("Erreur lors de la création du modèle",t),t}},resendOtp:async s=>{try{return(await E.get(`/api/partner/${s}/otp-resend`)).data}catch(t){throw console.error("Erreur lors de la création du modèle",t),t}},verifierCodeOTP:async s=>{try{return(await E.post("/api/partner/otp-verification",s)).data}catch(t){throw console.error("Erreur lors de la vérification du code",t),t}},updateUser:async(s,t)=>{try{return(await E.put(`/api/users/${s}/update`,t)).data}catch(o){throw console.error(`Erreur lors de la mise à jour du modèle avec l'ID ${s}`,o),o}},actualiseInfoUser:async s=>{try{return(await E.get(`/api/partner/compte/${s}`)).data}catch(t){throw console.error(`Erreur lors de la mise à jour du modèle avec l'ID ${s}`,t),t}},updateUserCompte:async(s,t)=>{try{return(await E.post(`/api/partner/${s}/update`,t)).data}catch(o){throw console.error(`Erreur lors de la mise à jour du modèle avec l'ID ${s}`,o),o}},deleteUser:async s=>{try{return(await E.delete(`/api/users/${s}`)).data}catch(t){throw console.error(`Erreur lors de la suppression du user avec l'ID ${s}`,t),t}},login:async s=>{try{return(await E.post(`/api/auth/get_tokens?username=${s.username}&password=${s.password}`)).data}catch(t){throw console.error("Erreur lors de la récupération des tokens",t),t}},verifiedCompte:async s=>{try{return(await E.get(`/api/users/verified/${s}`)).data}catch(t){throw console.error("Erreur lors de la vérification de votre compte",t),t}},resetPasswordMail:async s=>{try{return(await E.get(`/api/reset-password-email/${s}`)).data}catch(t){throw console.error("Erreur lors de la récupération des tokens",t),t}},resetPasswordBySMS:async s=>{try{return(await E.get(`/api/reset-password-sms/${s}`)).data}catch(t){throw console.error("Erreur lors de la récupération des tokens",t),t}},newPassword:async s=>{try{return(await E.post("/api/new-password",s)).data}catch(t){throw console.error("Erreur lors de la récupération des tokens",t),t}},refreshAccessToken:async()=>{const s=localStorage.getItem("refresh_token");try{const t=await E.post("/api/auth/refresh_token",{refresh_token:s}),{access_token:o,expires_in:c}=t.data;return localStorage.setItem("accessToken",o),localStorage.setItem("expires_in",c),t}catch(t){throw console.error("Erreur lors du rafraîchissement du token",t),t}},deleteAccessToken:async s=>{try{return(await E.post("/api/auth/delete_tokens",{refreshToken:s})).data}catch(t){throw console.error("Erreur lors de la suppression du token",t),t}},getCurrentUser:async s=>{try{return(await E.get(`/api/users/${s}`)).data}catch(t){throw console.error(`Erreur lors de la récupération de l'utilisateur avec l'ID ${s}`,t),t}},updateUserAvatar:async s=>{const t=localStorage.getItem("partner_id");try{const o=await E.put(`/api/users/avatar/${t}`,{avatar:s},{headers:{"Content-Type":"application/json"}});return console.log(o),o.data}catch(o){throw console.error("Erreur lors de la mise à jour de l'avatar",o),o}},updateUserInfo:async s=>{try{return(await E.put("/api/users/me",s)).data}catch(t){throw console.error("Erreur lors de la mise à jour des informations de l'utilisateur",t),t}},getPartnerByEmail:async s=>{try{return(await E.get(`/api/partnerByEmail/${s}`)).data}catch(t){throw console.error("Erreur lors de la?}",t),t}},createPasswordPartner:async s=>{try{return(await E.post(`/api/partner-create/${s.email}/update`,s)).data}catch(t){throw console.error("Erreur lors de la création du mot de passe",t),t}},getDetailsCompteUser:async s=>{try{return(await E.get(`api/partner/compte/${s}/details`)).data}catch(t){throw console.error("Erreur lors de la sélection des abonnements:",t),t}}};function Sr(){const s=ae(),t=ge(),[o,c]=r.useState(""),[a,u]=r.useState(["","","",""]),[i,d]=r.useState(""),[p,x]=r.useState(!1);r.useEffect(()=>{window.scrollTo({top:0,left:100,behavior:"smooth"})},[]),r.useEffect(()=>{const l=new URLSearchParams(t.search).get("email");if(!l){Q.error("Information utilisateur manquante. Veuillez vous inscrire à nouveau.",{position:"top-center",autoClose:5e3}),s("/signup");return}c(l)},[t,s]);const b=(N,l)=>{if(l.length>1&&(l=l.charAt(0)),isNaN(l)&&l!=="")return;const v=[...a];if(v[N]=l,u(v),l!==""&&N<3){const f=document.getElementById(`otp-${N+1}`);f&&f.focus()}},g=async()=>{x(!0),d("");const N=a.join("");if(N.length!==4){d("Veuillez entrer les 4 chiffres du code OTP"),x(!1);return}const l={email:o,code:N};try{const v=await Tt.verifierCodeOTP(l);Q.success("Vérification code réussie !",{position:"top-center",autoClose:5e3}),x(!1),s("/login?mail="+o)}catch(v){console.log(v);let f="Échec de la vérification du code OTP";v.response?typeof v.response.data=="string"?f=v.response.data:v.response.data&&typeof v.response.data.message=="string"&&(f=v.response.data.message):typeof v.message=="string"&&(f=v.message),d(f),x(!1)}},C=async()=>{try{await Tt.resendOtp(o),u(["","","",""]),Q.info("Un nouveau code a été envoyé",{position:"top-center",autoClose:3e3})}catch(N){Q.error("Échec de l'envoi du code. Veuillez réessayer.",{position:"top-center",autoClose:3e3})}};return e.jsxs(e.Fragment,{children:[e.jsx(yt,{title:"CCBM Shop | Vérification OTP",description:"Vérifiez votre compte CCBM Shop en saisissant le code OTP reçu par email ou SMS.",keywords:"vérification, OTP, code, CCBM Shop, authentification"}),e.jsx(Oe,{childrenClasses:"pt-0 pb-0",children:e.jsx("div",{className:"login-page-wrapper w-full py-10",children:e.jsx("div",{className:"container-x mx-auto",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-full max-w-md bg-white flex flex-col justify-center sm:p-10 p-5 border border-[#E0E0E0] rounded-md",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"title-area flex flex-col justify-center items-center relative text-center mb-7",children:[e.jsx("h1",{className:"text-[28px] font-bold leading-[40px] text-qblack",children:"Vérification OTP"}),e.jsx("div",{className:"shape -mt-2",children:e.jsx("svg",{width:"172",height:"15",viewBox:"0 0 172 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M0 14.0386C7.40262 5.98596 25.7956 -3.24645 55.5 2.76157C88.3066 9.40708 135.748 13.3711 172 1.97453",stroke:"#FFBB38",strokeWidth:"2",strokeLinecap:"round"})})})]}),e.jsxs("div",{className:"otp-verification mt-8",children:[e.jsx("div",{className:"text-center mb-6",children:e.jsx("p",{className:"text-base text-qgraytwo",children:"Veuillez entrer le code à 4 chiffres envoyé par email et téléphone "})}),e.jsx("div",{className:"otp-inputs flex justify-center gap-3 mb-5",children:[0,1,2,3].map(N=>e.jsx("input",{id:`otp-${N}`,type:"text",maxLength:1,className:"w-14 h-14 text-center text-2xl font-bold border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:a[N],onChange:l=>b(N,l.target.value),onKeyDown:l=>{if(l.key==="Backspace"&&N>0&&a[N]===""){const v=document.getElementById(`otp-${N-1}`);v&&v.focus()}}},N))}),i&&e.jsx("p",{className:"text-red-600 text-center mb-4",children:i}),e.jsx("div",{className:"flex justify-center",children:e.jsx(Pe,{onClick:g,disabled:p,className:"w-full",children:p?e.jsxs(e.Fragment,{children:[e.jsx(ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Vérification en cours..."]}):"Vérifier le code OTP"})}),e.jsx("div",{className:"resend-otp flex justify-center mt-6",children:e.jsxs("p",{className:"text-base text-qgraytwo font-normal",children:["Vous n'avez pas reçu de code?",e.jsx("button",{type:"button",className:"ml-2 hover:text-bleu-logo text-qblack",onClick:C,children:"Renvoyer"})]})}),e.jsx("div",{className:"resend-otp flex justify-center mt-6",children:e.jsx("p",{className:"text-base text-qgraytwo font-normal",children:e.jsx("a",{type:"button",className:"ml-2 hover:text-bleu-logo text-qblack",href:"/login",children:"Se connecter"})})})]})]})})})})})})]})}const Ce="https://orbitcity.odoo.com/",Ne={"Content-Type":"application/json"},ke={initiateWavePayment:async s=>{const t=await fetch(`${Ce}api/payment/wave/initiate`,{method:"POST",headers:Ne,body:JSON.stringify(s)});if(!t.ok){let o="Failed to initiate Wave payment";try{const c=await t.json();o=c&&c.error||c&&c.message||o}catch(c){console.log(c)}throw new Error(o)}return await t.json()},verifyWavePayment:async s=>{const t=await fetch(`${Ce}api/payment/wave/status/${encodeURIComponent(s)}`,{method:"GET",headers:Ne});if(!t.ok){let o="Failed to verify Wave payment";try{const c=await t.json();o=c&&c.error||o}catch(c){console.log(c)}throw new Error(o)}return await t.json()},initiateOrangeMoneyPayment:async s=>{const t=await fetch(`${Ce}api/payment/orange/initiate`,{method:"POST",headers:Ne,body:JSON.stringify(s)});if(!t.ok){let o="Failed to initiate Orange Money payment";try{const c=await t.json();o=c&&c.error||c&&c.message||o}catch(c){console.log(c)}throw new Error(o)}return await t.json()},verifyOrangeMoneyPayment:async s=>{const t=await fetch(`${Ce}api/payment/orange/status/${encodeURIComponent(s)}`,{method:"GET",headers:Ne});if(!t.ok){let o="Failed to verify Orange Money payment";try{const c=await t.json();o=c&&c.error||o}catch(c){console.log(c)}throw new Error(o)}return await t.json()},initiatePayment:async(s,t)=>{if(s==="wave")return await ke.initiateWavePayment(t);if(s==="orange")return await ke.initiateOrangeMoneyPayment(t);throw new Error("Invalid payment method")},verifyPayment:async(s,t)=>{if(s==="wave")return await ke.verifyWavePayment(t);if(s==="orange")return await ke.verifyOrangeMoneyPayment(t);throw new Error("Invalid payment method")},getOrangeTransactionsByPartner:async s=>{const{data:t}=await fetch(`${Ce}api/payment/orange/partner/${s}/transactions`,{method:"GET",headers:Ne});return t},getWaveTransactionsByPartner:async s=>{const{data:t}=await fetch(`${Ce}api/payment/wave/partner/${s}/transactions`,{method:"GET",headers:Ne});return t}};function _r(){const[s]=Vt();ae();const t=s.get("transaction")||"",[o,c]=r.useState(!1),[a,u]=r.useState(null),[i,d]=r.useState(""),p=r.useMemo(()=>{const l=String(a&&a.status||a&&a.payment_status||"").toLowerCase(),v=String(a&&a.checkout_status||"").toLowerCase();return["completed","success","succeeded","paid"].includes(l)||["complete"].includes(v)?"success":["failed","rejected","canceled","cancelled","expired"].includes(l)?"failed":"pending"},[a]),x=r.useMemo(()=>{if(!a)return"";if(a&&a.success_url)return a.success_url;const l=a&&a.order&&a.order.id||a&&a.order_id,v=a&&a.order&&a.order.type_sale||a&&a.order_type||a&&a.type_sale;return l?String(v).toLowerCase()==="creditorder"?`/credit-commandes/${l}/détails`:`/commandes/${l}/détails`:""},[a]),b=r.useMemo(()=>p==="success"?{icon:e.jsx(ft,{className:"h-8 w-8 text-green-600"}),title:"Paiement confirmé",badgeClass:"bg-green-100 text-green-800",note:a&&a.transaction_id?`Transaction ID: ${a.transaction_id}`:""}:p==="failed"?{icon:e.jsx(Qe,{className:"h-8 w-8 text-red-600"}),title:"Paiement échoué",badgeClass:"bg-red-100 text-red-800",note:a&&a.transaction_id?`Transaction ID: ${a.transaction_id}`:""}:{icon:e.jsx(gt,{className:"h-8 w-8 text-yellow-500"}),title:"Paiement en attente",badgeClass:"bg-yellow-100 text-yellow-800",note:a!=null&&a.transaction_id?`Transaction ID: ${a.transaction_id}`:""},[p,a]),g=(l,v="N/A")=>l===!1||l===null||typeof l=="undefined"||l===""?v:l,C=l=>{const v=Number(l);return Number.isFinite(v)?`${se(Math.ceil(v))}`:"N/A"},N=async()=>{if(!t){d("Aucun identifiant de transaction fourni.");return}Q.dismiss(),c(!0),d("");try{const l=await ke.verifyPayment("wave",t);u(l||{}),l&&l.success&&(String(l&&l.status).toLowerCase()==="completed"||String(l&&l.payment_status).toLowerCase()==="succeeded")?Q.success("Paiement confirmé avec succès!"):(l==null?void 0:l.success)===!1&&Q.error("La vérification a échoué.")}catch(l){console.error(l),d(l&&l.message||"Erreur lors de la vérification."),Q.error("Erreur lors de la vérification")}finally{c(!1)}};return r.useEffect(()=>{N()},[t]),e.jsx(Oe,{childrenClasses:"pt-0 pb-0",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-10",children:[e.jsxs("div",{className:"text-sm text-gray-500 mb-6",children:[e.jsx(T,{to:"/",className:"hover:underline",children:"Accueil"})," /"," ",e.jsx("span",{className:"text-gray-700",children:"Vérification Paiement Wave"})]}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6",children:"Vérification Paiement Wave"}),e.jsxs("div",{className:"bg-white rounded-xl shadow border p-6 sm:p-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[b.icon,e.jsxs("div",{children:[e.jsx("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium ${b.badgeClass}`,children:g(a&&a.status,"pending")}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mt-2",children:b.title}),b.note&&e.jsx("p",{className:"text-gray-600",children:b.note})]})]}),i&&e.jsxs("div",{className:"mt-4 flex items-start gap-2 rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:[e.jsx(Mt,{className:"mt-0.5 h-5 w-5"}),e.jsx("span",{children:i})]}),e.jsxs("div",{className:"mt-8 space-y-6",children:[e.jsxs(At,{title:"Informations de transaction",children:[e.jsx(me,{label:"Transaction ID",value:g(a&&a.transaction_id)}),e.jsx(me,{label:"Référence",value:g(a&&a.reference)}),e.jsx(me,{label:"Montant",value:`${C(a&&a.amount)} ${g(a&&a.currency,"XOF")}`}),e.jsx(me,{label:"Téléphone",value:g(a&&a.phone)}),e.jsx(me,{label:"Description",value:g(a&&a.description)}),e.jsx(me,{label:"Payment status",value:g((a&&a.payment_status)==="succeeded"?"VALIDER":"En attente")}),e.jsx(me,{label:"Confirmé le",value:g(a&&a.completed_at)})]}),e.jsxs(At,{title:"Commande",children:[e.jsx(me,{label:"Commande",value:g(a&&a.order&&a.order.name)}),e.jsx(me,{label:"Total commande",value:`${C(a&&a.order&&a.order.amount_total)} ${a&&a.currency||"XOF"}`})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(Pe,{onClick:N,isProcessing:o,className:"w-full sm:w-auto",children:"Vérifier à nouveau"}),x&&e.jsxs("a",{href:x,className:"inline-flex items-center justify-center rounded-lg border px-4 py-2 text-sm font-medium hover:bg-gray-50 w-full sm:w-auto",children:["Ouvrir la commande ",e.jsx(Ut,{className:"ml-2 h-4 w-4"})]})]})]})]})]})})}function At({title:s,children:t}){return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-blue-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s})]}),e.jsx("dl",{className:"divide-y divide-gray-100 border border-gray-100 rounded-lg",children:t})]})}function me({label:s,value:t}){return e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 px-4 py-3",children:[e.jsx("dt",{className:"text-sm text-gray-500",children:s}),e.jsx("dd",{className:"sm:col-span-2 text-sm text-gray-900",children:t})]})}function Er(){const[s]=Vt();ae();const t=s.get("transaction")||"",[o,c]=r.useState(!1),[a,u]=r.useState(null),[i,d]=r.useState(""),p=r.useMemo(()=>{const l=String(a&&a.status||"").toUpperCase();return["SUCCESS","SUCCEEDED","COMPLETED","PAID"].includes(l)?"SUCCESS":["FAILED","REJECTED","CANCELED","CANCELLED","EXPIRED"].includes(l)?"FAILED":"PENDING"},[a]),x=r.useMemo(()=>p==="SUCCESS"?{icon:e.jsx(ft,{className:"h-8 w-8 text-green-600"}),title:"Statut : Paiement confirmé",badgeClass:"bg-green-100 text-green-800"}:p==="FAILED"?{icon:e.jsx(Qe,{className:"h-8 w-8 text-red-600"}),title:"Statut : Paiement échoué",badgeClass:"bg-red-100 text-red-800"}:{icon:e.jsx(gt,{className:"h-8 w-8 text-yellow-500"}),title:"Statut : Paiement en attente",badgeClass:"bg-yellow-100 text-yellow-800"},[p]),b=r.useMemo(()=>{if(console.log(a),!a)return"";const l=a&&a.order&&a.order.id||a&&a.order_id,v=a&&a.order&&a.order.type_sale||a&&a.order_type||a&&a.type_sale;return l?String(v).toLowerCase()==="creditorder"?`/credit-commandes/${l}/détails`:`/commandes/${l}/détails`:""},[a]),g=(l,v="N/A")=>l===!1||l===null||typeof l=="undefined"||l===""?v:l,C=l=>{const v=Number(l);return Number.isFinite(v)?`${se(Math.ceil(v))}`:"N/A"},N=async()=>{if(!t){d("Aucun identifiant de transaction fourni.");return}c(!0),d("");try{const l=await ke.verifyPayment("orange",t);u(l||{}),l&&l.success&&String(l&&l.status).toUpperCase()==="SUCCESS"?Q.success("Paiement Orange Money confirmé !"):(l==null?void 0:l.success)===!1&&Q.error("La vérification a échoué.")}catch(l){console.error(l),d(l&&l.message||"Erreur lors de la vérification."),Q.error("Erreur lors de la vérification")}finally{c(!1)}};return r.useEffect(()=>{N()},[t]),e.jsx(Oe,{childrenClasses:"pt-0 pb-0",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-10",children:[e.jsxs("div",{className:"text-sm text-gray-500 mb-6",children:[e.jsx(T,{to:"/",className:"hover:underline",children:"Accueil"})," /"," ",e.jsx("span",{className:"text-gray-700",children:"Vérification Paiement Orange Money"})]}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6",children:"Vérification Paiement Orange Money"}),e.jsxs("div",{className:"bg-white rounded-xl shadow border p-6 sm:p-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[x.icon,e.jsxs("div",{children:[e.jsx("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium ${x.badgeClass}`,children:g(a&&a.status,"PENDING")}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mt-2",children:x.title}),e.jsx("p",{className:"text-gray-600",children:p==="PENDING"?"Si vous avez validé sur votre téléphone, cliquez sur « Vérifier à nouveau ».":p==="SUCCESS"?"Votre paiement a bien été validé.":"Le paiement n’a pas pu être confirmé."})]})]}),i&&e.jsxs("div",{className:"mt-4 flex items-start gap-2 rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:[e.jsx(Mt,{className:"mt-0.5 h-5 w-5"}),e.jsx("span",{children:i})]}),e.jsxs("div",{className:"mt-8 space-y-6",children:[e.jsxs(Ft,{title:"Informations de transaction",children:[e.jsx(pe,{label:"Transaction ID (Opérateur)",value:g(a&&a.transactionId)}),e.jsx(pe,{label:"Référence",value:g(a&&a.reference)}),e.jsx(pe,{label:"Montant",value:`${C(a&&a.amount)} ${g(a&&a.currency,"XOF")}`}),e.jsx(pe,{label:"Téléphone",value:g(a&&a.customer_msisdn)}),e.jsx(pe,{label:"Description",value:g(a&&a.description)}),e.jsx(pe,{label:"Statut Paiement",value:g((a&&a.status)==="SUCCESS"?"VALIDER":"En attente")}),e.jsx(pe,{label:"Créé le",value:g(a&&a.created_at)})]}),e.jsxs(Ft,{title:"Commande",children:[e.jsx(pe,{label:"Numéro",value:g(a&&a.order&&a.order.name)}),e.jsx(pe,{label:"Total commande",value:`${C(a&&a.order&&a.order.amount_total)} ${a&&a.currency||"XOF"}`})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(Pe,{onClick:N,isProcessing:o,className:"w-full sm:w-auto",children:"Vérifier à nouveau"}),b&&e.jsxs("a",{href:b,className:"inline-flex items-center justify-center rounded-lg border px-4 py-2 text-sm font-medium hover:bg-gray-50 w-full sm:w-auto",children:["Ouvrir la commande ",e.jsx(Ut,{className:"ml-2 h-4 w-4"})]})]})]})]})]})})}function Ft({title:s,children:t}){return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-blue-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s})]}),e.jsx("dl",{className:"divide-y divide-gray-100 border border-gray-100 rounded-lg",children:t})]})}function pe({label:s,value:t}){return e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 px-4 py-3",children:[e.jsx("dt",{className:"text-sm text-gray-500",children:s}),e.jsx("dd",{className:"sm:col-span-2 text-sm text-gray-900",children:t})]})}const It=r.lazy(()=>U(()=>import("./index-COZVrSChSda-wu8t.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Ge=r.lazy(()=>U(()=>import("./index-DRFJjbRs5kdgS4vS.js"),__vite__mapDeps([8,1,2,3,4,5,9,7]))),Lt=r.lazy(()=>U(()=>import("./index-XzAUGZh5K6PRq9NL.js"),__vite__mapDeps([10,1,2,3,4,5,6,11,12,7]))),Tr=r.lazy(()=>U(()=>import("./index-Dpucu61nTmMvpftj.js"),__vite__mapDeps([13,1,2,3,4,5,7]))),Ar=r.lazy(()=>U(()=>import("./index-bziLYeQGVzcmaC7Q.js"),__vite__mapDeps([14,1,2,3,4,5,15,16,17,18,7]))),Fr=r.lazy(()=>U(()=>import("./index-CN4_c_ecndUei6YG.js"),__vite__mapDeps([19,1,2,3,4,5,20,16,21,7]))),Ir=r.lazy(()=>U(()=>import("./index-CC19d8U2ynDJBTT1.js"),__vite__mapDeps([22,1,2,3,4,5,16,15,21,7]))),Lr=r.lazy(()=>U(()=>import("./index-GjIzlaEV314B3qww.js"),__vite__mapDeps([23,1,2,3,4,5,16,7]))),$r=r.lazy(()=>U(()=>import("./index-CJvD7U-H3NwHiOCb.js"),__vite__mapDeps([24,1,2,3,4,5,15,7]))),Or=r.lazy(()=>U(()=>import("./index-D2x4TkzK0M-AdzU2.js"),__vite__mapDeps([25,1,2,3,4,5,26,27,7]))),Rr=r.lazy(()=>U(()=>import("./index-C6KkNXpkMv9HGi6j.js"),__vite__mapDeps([28,1,2,3,4,5,17,27,18,7]))),Dr=r.lazy(()=>U(()=>import("./index-pHPFrlVFTM-dg2Dw.js"),__vite__mapDeps([29,1,2,3,4,5,12,7]))),qr=r.lazy(()=>U(()=>import("./index-CQaKdisM5FUsUA1h.js"),__vite__mapDeps([30,1,2,3,4,5,31,7]))),Vr=r.lazy(()=>U(()=>import("./index-CtOmf1dtgdLLLUDP.js"),__vite__mapDeps([32,1,2,3,4,5,27,20,33,7]))),Mr=r.lazy(()=>U(()=>import("./index-CLZhrHpI6UlkECjt.js"),__vite__mapDeps([34,1,2,3,4,5,11,12,7]))),Ur=r.lazy(()=>U(()=>import("./index-Bw8XyQnEdORoc_5v.js"),__vite__mapDeps([35,1,2,3,4,5,16,7]))),zr=r.lazy(()=>U(()=>import("./index-g8uvd-V4Qj3J_OXA.js"),__vite__mapDeps([36,1,2,3,4,5,7]))),Hr=r.lazy(()=>U(()=>import("./index-BhUkA7bqbU4Eu9LU.js"),__vite__mapDeps([37,1,2,3,4,5,7]))),Br=r.lazy(()=>U(()=>import("./index-M921mme35rfZrbhf.js"),__vite__mapDeps([38,1,2,3,4,5,7]))),Gr=r.lazy(()=>U(()=>import("./index-ZVyFNN2XI4KdbUOr.js"),__vite__mapDeps([39,1,2,3,4,5,7]))),$t=r.lazy(()=>U(()=>import("./index-CEUtWtZS4g_i6Ol3.js"),__vite__mapDeps([40,1,2,3,4,5,33,7]))),Jr=r.lazy(()=>U(()=>import("./index-C_uP17J_4u4z-RMF.js"),__vite__mapDeps([41,1,2,3,4,5,7]))),Wr=r.lazy(()=>U(()=>import("./index-C9wmeKc0gJY-GE6I.js"),__vite__mapDeps([42,1,2,3,4,5,16,17,31,26,33,7]))),Xr=r.lazy(()=>U(()=>import("./index-Bf8QqAlofZxsHaaX.js"),__vite__mapDeps([43,1,2,3,4,5,7]))),Zr=r.lazy(()=>U(()=>import("./index-vWwU0-CRBszVC7oi.js"),__vite__mapDeps([44,1,2,3,4,5,7]))),Kr=r.lazy(()=>U(()=>import("./index-CDFxCAkG-mFKoDr_.js"),__vite__mapDeps([45,1,2,3,4,5,7]))),Yr=r.lazy(()=>U(()=>import("./index-9Q1Xk7kns1qB_xX8.js"),__vite__mapDeps([46,1,2,3,4,5,7]))),Qr=r.lazy(()=>U(()=>import("./index-DwobiS1DoRoP-j_R.js"),__vite__mapDeps([47,1,2,3,4,5,7]))),ea=r.lazy(()=>U(()=>import("./index-BBscU9gg2lmhel_h.js"),__vite__mapDeps([48,1,2,3,4,5,7]))),ta=r.lazy(()=>U(()=>import("./index-ZOKElsYeJo5CNEJA.js"),__vite__mapDeps([49,1,2,3,4,5,7]))),sa=r.lazy(()=>U(()=>import("./index-ofbapbrOkxZ1aYYS.js"),__vite__mapDeps([50,1,2,3,4,5,7]))),ra=r.lazy(()=>U(()=>import("./index-BXDUeDlqiuWQnlJr.js"),__vite__mapDeps([51,1,2,3,4,5,7]))),aa=r.lazy(()=>U(()=>import("./index-qNahCRfn1ZIWU4CZ.js"),__vite__mapDeps([52,1,2,3,4,5,9,7]))),oa=r.lazy(()=>U(()=>import("./index-BFh09eXRyBfT1-fh.js"),__vite__mapDeps([53,1,2,3,4,5,7]))),na=r.lazy(()=>U(()=>import("./information-ValJgNjQa7LIWVCo.js"),__vite__mapDeps([54,1,2,3,4,5,27,7]))),O=()=>e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[e.jsx("img",{src:"/logo_192.png",alt:"CCBM Shop - Loading logo",className:"max-w-[150px] max-h-[150px] mb-4 animate-pulse object-contain"}),e.jsx("div",{className:"spinner-border animate-spin inline-block w-8 h-8 border-4 rounded-full text-blue-500",role:"status",children:e.jsx("span",{className:"visually-hidden"})})]}),fe=({children:s})=>{const{isAuthenticated:t}=ie();return t?s:e.jsx(Ts,{to:"/login",replace:!0})};function la(){const s=_s([{children:[{path:"/",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(It,{})})},{path:"/boutique",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Ge,{})})},{path:"/produits",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Ge,{})})},{path:"/en-promo",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(ra,{})})},{path:"/vente-en-cher",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(aa,{})})},{path:"/promo-ramadan",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Tr,{})})},{path:"/promo-tabaski",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Pr,{})})},{path:"/all-products",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Ge,{})})},{path:"/pre-commandes",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Ge,{})})},{path:"/single-product/:id",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Lt,{})})},{path:"/produits/:id/details",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Lt,{})})},{path:"/products-compaire",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Mr,{})})},{path:"/informations",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(na,{})})},{path:"/tracking-order",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Ur,{})})},{path:"/faq",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(zr,{})})},{path:"/privacy-policy",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Xr,{})})},{path:"/terms-condition",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Zr,{})})},{path:"/conditions-generales-de-vente",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Kr,{})})},{path:"/livraison-et-retours",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Yr,{})})},{path:"/achats-securises",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Qr,{})})},{path:"/politique-de-confidentialite",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(ea,{})})},{path:"/processus-de-commande-de-credit",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(sa,{})})},{path:"/cart",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Or,{})})},{path:"/pre-cart",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Rr,{})})},{path:"/vente-cher-cart",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(oa,{})})},{path:"/credit-commandes",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(ta,{})})},{path:"/wishlist",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(qr,{})})}]},{children:[{path:"/login",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Hr,{})})},{path:"/new-password",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Br,{})})},{path:"/forgot-password",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Gr,{})})},{path:"/signup",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx($t,{})})},{path:"/verification-code",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Sr,{})})},{path:"/inscription",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx($t,{})})},{path:"/create-compte",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Jr,{})})},{path:"/pack-promo",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(yr,{})})}]},{children:[{path:"/pre-commandes/:id/détails",element:e.jsx(fe,{children:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Ar,{})})})},{path:"/credit-commandes/:id/détails",element:e.jsx(fe,{children:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Fr,{})})})},{path:"/commandes/:id/détails",element:e.jsx(fe,{children:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Ir,{})})})},{path:"/commande-validation",element:e.jsx(fe,{children:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Lr,{})})})},{path:"/payment-state",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx($r,{})})},{path:"/wave-paiement",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(_r,{})})},{path:"/om-paiement",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Er,{})})},{path:"/checkout",element:e.jsx(fe,{children:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Dr,{})})})},{path:"/credit-cart",element:e.jsx(fe,{children:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Vr,{})})})},{path:"/profile",element:e.jsx(fe,{children:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(Wr,{})})})}]},{path:"*",element:e.jsx(r.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(It,{})})}]);return e.jsx(Es,{router:s})}const ca=zt.createContext({}),ia=({children:s})=>{const[t,o]=r.useState(JSON.parse(localStorage.getItem("payment"))||{});r.useEffect(()=>{localStorage.setItem("payment",JSON.stringify(t))},[t]);const c=p=>{if(p)o(M(I({},t),{userPayment:p}));else{const x=JSON.parse(localStorage.getItem("user"));o(M(I({},t),{userPayment:x}))}},a=p=>{o(M(I({},t),{order:p}))},u=p=>{o(M(I({},t),{details:p}))},i=p=>{o(M(I({},t),{totalAmount:p}))},d=()=>{o({}),localStorage.removeItem("payment")};return e.jsx(ca.Provider,{value:{payment:t,setUserPayment:c,setOrder:a,setPaymentDetails:u,clearPayment:d,setTotalAmount:i},children:s})},Ee=(...s)=>Os(Rs(s)),da=As,as=r.forwardRef((c,o)=>{var a=c,{className:s}=a,t=ue(a,["className"]);return e.jsx(Ht,I({ref:o,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s)},t))});as.displayName=Ht.displayName;const ua=Ds("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),os=r.forwardRef((a,c)=>{var u=a,{className:s,variant:t}=u,o=ue(u,["className","variant"]);return e.jsx(Bt,I({ref:c,className:Ee(ua({variant:t}),s)},o))});os.displayName=Bt.displayName;const ma=r.forwardRef((c,o)=>{var a=c,{className:s}=a,t=ue(a,["className"]);return e.jsx(Gt,I({ref:o,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s)},t))});ma.displayName=Gt.displayName;const ns=r.forwardRef((c,o)=>{var a=c,{className:s}=a,t=ue(a,["className"]);return e.jsx(Jt,M(I({ref:o,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":""},t),{children:e.jsx(Ze,{className:"h-4 w-4"})}))});ns.displayName=Jt.displayName;const ls=r.forwardRef((c,o)=>{var a=c,{className:s}=a,t=ue(a,["className"]);return e.jsx(Wt,I({ref:o,className:Ee("text-sm font-semibold",s)},t))});ls.displayName=Wt.displayName;const cs=r.forwardRef((c,o)=>{var a=c,{className:s}=a,t=ue(a,["className"]);return e.jsx(Xt,I({ref:o,className:Ee("text-sm opacity-90",s)},t))});cs.displayName=Xt.displayName;const pa=1,xa=1e6;let dt=0;function ha(){return dt=(dt+1)%Number.MAX_SAFE_INTEGER,dt.toString()}const ut=new Map,Ot=s=>{if(ut.has(s))return;const t=setTimeout(()=>{ut.delete(s),Ie({type:"REMOVE_TOAST",toastId:s})},xa);ut.set(s,t)},fa=(s,t)=>{switch(t.type){case"ADD_TOAST":return M(I({},s),{toasts:[t.toast,...s.toasts].slice(0,pa)});case"UPDATE_TOAST":return M(I({},s),{toasts:s.toasts.map(o=>o.id===t.toast.id?I(I({},o),t.toast):o)});case"DISMISS_TOAST":{const{toastId:o}=t;return o?Ot(o):s.toasts.forEach(c=>{Ot(c.id)}),M(I({},s),{toasts:s.toasts.map(c=>c.id===o||o===void 0?M(I({},c),{open:!1}):c)})}case"REMOVE_TOAST":return t.toastId===void 0?M(I({},s),{toasts:[]}):M(I({},s),{toasts:s.toasts.filter(o=>o.id!==t.toastId)})}},We=[];let Xe={toasts:[]};function Ie(s){Xe=fa(Xe,s),We.forEach(t=>{t(Xe)})}function ga(t){var s=ue(t,[]);const o=ha(),c=u=>Ie({type:"UPDATE_TOAST",toast:M(I({},u),{id:o})}),a=()=>Ie({type:"DISMISS_TOAST",toastId:o});return Ie({type:"ADD_TOAST",toast:M(I({},s),{id:o,open:!0,onOpenChange:u=>{u||a()}})}),{id:o,dismiss:a,update:c}}function ja(){const[s,t]=r.useState(Xe);return r.useEffect(()=>(We.push(t),()=>{const o=We.indexOf(t);o>-1&&We.splice(o,1)}),[]),M(I({},s),{toast:ga,dismiss:o=>Ie({type:"DISMISS_TOAST",toastId:o})})}function ba(){const{toasts:s}=ja();return e.jsxs(da,{children:[s.map(function(i){var d=i,{id:t,title:o,description:c,action:a}=d,u=ue(d,["id","title","description","action"]);return e.jsxs(os,M(I({},u),{children:[e.jsxs("div",{className:"grid gap-1",children:[o&&e.jsx(ls,{children:o}),c&&e.jsx(cs,{children:c})]}),a,e.jsx(ns,{})]}),t)}),e.jsx(as,{})]})}function ya(){return e.jsxs(Ms,{children:[e.jsx(Fs,{}),e.jsx(ba,{}),e.jsx(Ks,{children:e.jsx(Zs,{children:e.jsx(Ys,{children:e.jsx(Qs,{children:e.jsx(ia,{children:e.jsx(Hs,{children:e.jsx(la,{})})})})})})})]})}const va=qs({reducer:{}});let Le=null;function wa(){const s=document.querySelector('meta[name="build-version"]');return s?s.getAttribute("content"):null}async function Ca(){try{const s=await fetch(`/index.html?t=${Date.now()}`,{cache:"no-store",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(!s.ok)return null;const o=(await s.text()).match(/<meta\s+name=["']build-version["']\s+content=["']([^"']+)["']/i);return o?o[1]:null}catch(s){return console.warn("Erreur lors de la vérification de version:",s),null}}function Na(){console.log("🔄 Nouvelle version détectée - Rechargement automatique..."),"caches"in window&&caches.keys().then(s=>{s.forEach(t=>{caches.delete(t)})}),window.location.href=window.location.href.split("?")[0]+`?v=${Date.now()}`,setTimeout(()=>{window.location.reload(!0)},1e3)}async function Je(){const s=await Ca(),t=wa();if(s)return t&&s&&s!==t?(console.log(`📦 Nouvelle version disponible: ${t} -> ${s}`),Na(),!0):!1}function Rt(s=120*1e3){Le&&ka(),Je(),Le=setInterval(()=>{Je().catch(t=>{console.warn("Erreur lors de la vérification de version:",t)})},s),console.log(`✅ Vérification automatique de version activée (toutes les ${s/1e3}s)`),document.addEventListener("visibilitychange",()=>{document.hidden||Je()}),window.addEventListener("online",()=>{Je()})}function ka(){Le&&(clearInterval(Le),Le=null)}typeof window!="undefined"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{Rt()}):Rt());Object.prototype.hasOwnProperty.call(Object.prototype,"__optionalChainingPolyfill")||(function(){typeof window!="undefined"&&!window.__optionalChainingPolyfill&&(window.__optionalChainingPolyfill=!0)})();Is.createRoot(document.getElementById("root")).render(e.jsx(zt.StrictMode,{children:e.jsx(Ls,{store:va,children:e.jsx(ya,{})})}));export{Qt as B,re as C,Oe as L,ke as M,ss as N,Se as P,yt as S,jt as V,bt as a,E as b,_e as c,st as d,jr as e,se as f,mt as g,Cr as h,tt as i,ce as j,ca as k,Ws as l,Et as m,gr as n,Tt as o,fr as p,hr as q,Aa as t,ie as u};

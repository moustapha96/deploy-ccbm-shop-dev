import{c as Z,j as e,u as q,S as Ne,W as J,Q as I,f as _,E as B,o as O,p as V,F as R,B as v,D as U,V as ye,t as Y,z as S,l as G,M as K,C as ee,O as oe,A as xe,J as ve,k as we,q as Ce}from"./index.7602c8fa.js";import{r as l,L as M,u as L,b as ke}from"./vendor.af94f9e3.js";import{f as T}from"./date-format.d160e78b.js";import{T as se}from"./truck.6cb1a5d9.js";import{P as _e}from"./precommandeService.bb8e20dd.js";import"./UserContext.6e3313f9.js";import{s as Pe,a as qe}from"./entrepriseFunctionService.7d0d10a7.js";import{I as te,C as ce}from"./InputQuantityCom.2bc76b86.js";import{P as Se}from"./ProductsTable.98fbf909.js";/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=Z("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=Z("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=Z("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function de(){return e.jsxs("svg",{width:"15",height:"18",viewBox:"0 0 15 18",fill:"none",className:"fill-current",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M10.9643 15.8454C10.8728 15.8399 10.8054 15.8331 10.7381 15.8331C9.37517 15.8324 8.01229 15.8324 6.60539 15.8324C6.85294 16.5145 6.77799 17.099 6.11648 17.4676C5.68672 17.7076 5.24457 17.6615 4.86018 17.3562C4.36027 16.9594 4.3087 16.4409 4.56175 15.8317C3.82667 15.8317 3.13285 15.8406 2.43903 15.8296C1.53136 15.8152 0.910425 14.8958 1.25974 14.0638C1.34845 13.852 1.51898 13.6581 1.69295 13.502C2.43628 12.8384 3.19199 12.1872 3.95182 11.5429C4.11204 11.4075 4.16499 11.2816 4.11479 11.074C3.36389 7.96037 2.61506 4.8454 1.87999 1.72768C1.82085 1.476 1.71564 1.42512 1.48597 1.432C0.997754 1.44712 0.507472 1.43681 0 1.43681C0 1.06824 0 0.741614 0 0.390921C0.782525 0.390921 1.54786 0.377856 2.31182 0.397798C2.58825 0.405362 2.70308 0.630905 2.76772 0.885329C3.01389 1.86177 3.27725 2.83339 3.5138 3.81189C3.57775 4.07732 3.68846 4.22034 3.96901 4.19971C3.98001 4.19903 3.9917 4.20315 4.00339 4.20315C4.60369 4.21003 4.95026 4.4507 5.25488 5.03863C6.60195 7.64613 10.1907 7.96587 12.0686 5.68981C12.2206 5.50622 12.3512 5.44639 12.585 5.4904C13.0911 5.58529 13.6027 5.64855 14.1136 5.71801C14.333 5.74826 14.4306 5.85416 14.4251 6.08314C14.3839 7.93906 14.3461 9.79498 14.3144 11.6509C14.3089 11.9816 14.0937 11.9665 13.8661 11.9665C11.0819 11.9651 8.29697 11.9693 5.51274 11.9596C5.2425 11.959 5.03897 12.0291 4.8368 12.2072C4.05428 12.8962 3.25525 13.5659 2.47135 14.2536C2.37095 14.3416 2.32488 14.4908 2.25337 14.6111C2.38264 14.6552 2.51192 14.737 2.64119 14.737C6.60608 14.7439 10.571 14.7425 14.5358 14.7425C14.6823 14.7425 14.8288 14.7425 15 14.7425C15 15.1152 15 15.4514 15 15.8193C14.3426 15.8193 13.6935 15.8193 13.0127 15.8193C13.25 16.4568 13.2156 17.0055 12.6442 17.4064C12.2536 17.68 11.7406 17.6814 11.3521 17.4091C10.78 17.011 10.7339 16.4636 10.9643 15.8454Z"}),e.jsx("path",{d:"M8.8449 6.1337C7.15883 6.12476 5.787 4.74744 5.78906 3.06549C5.79113 1.37254 7.18564 -0.00685072 8.88753 2.55979e-05C10.5702 0.00690192 11.9413 1.38835 11.9392 3.07374C11.9372 4.77563 10.555 6.14264 8.8449 6.1337ZM9.94924 1.61802C9.38194 2.22039 8.85178 2.78287 8.31199 3.35636C8.11326 3.12806 7.94342 2.93278 7.76394 2.72786C7.48201 2.96853 7.22553 3.1872 6.95735 3.41618C7.28191 3.80125 7.57484 4.16708 7.8884 4.51502C8.10157 4.75225 8.43232 4.77082 8.65236 4.54458C9.33656 3.83907 10.0042 3.11775 10.6382 2.44593C10.4031 2.16332 10.1858 1.9027 9.94924 1.61802Z"})]})}function Ee(){return e.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",className:"fill-current",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M9.21258 4.98254C9.21258 6.17687 9.20926 7.37119 9.21391 8.56552C9.21723 9.41928 9.69987 9.9079 10.5483 9.90989C12.2512 9.91454 13.9547 9.91454 15.6576 9.90989C16.5007 9.9079 16.9966 9.40799 16.9979 8.56751C16.9999 6.16757 16.9999 3.76763 16.9979 1.36835C16.9973 0.508624 16.4961 0.00340804 15.6423 0.00274416C13.9613 0.000752505 12.2804 0.00141639 10.5994 0.00274416C9.69722 0.00340804 9.2159 0.488044 9.21391 1.40022C9.21059 2.59388 9.21258 3.78821 9.21258 4.98254ZM7.78722 12.0522C7.78722 10.8579 7.78921 9.66359 7.78656 8.46926C7.78456 7.57036 7.31122 7.09104 6.42028 7.08971C4.73933 7.08639 3.05837 7.08705 1.37742 7.08971C0.489805 7.09104 0.00251398 7.57965 0.0018501 8.46395C0.000522332 10.8526 0.000522332 13.2413 0.0018501 15.6299C0.00251398 16.4896 0.503747 16.9969 1.35551 16.9982C3.04775 17.0002 4.73933 17.0002 6.43157 16.9982C7.2913 16.9969 7.78257 16.5036 7.78589 15.6359C7.78988 14.4409 7.78722 13.2466 7.78722 12.0522ZM3.89022 5.66236C4.75261 5.66236 5.61499 5.66767 6.47738 5.66103C7.28665 5.65439 7.77925 5.16444 7.78523 4.35782C7.79253 3.34075 7.79253 2.32302 7.78523 1.30595C7.77925 0.505968 7.27337 0.00473581 6.47339 0.00274416C4.75924 -0.00123915 3.04576 -0.000575264 1.33161 0.00274416C0.519016 0.00407193 0.00516952 0.516591 0.00251398 1.32719C-0.00146932 2.32236 -0.000141552 3.31752 0.00251398 4.31268C0.00450564 5.15648 0.49578 5.65638 1.33626 5.66169C2.18736 5.667 3.03846 5.66236 3.89022 5.66236ZM13.1083 11.3372C12.2459 11.3372 11.3835 11.3319 10.5211 11.3386C9.71248 11.3452 9.21988 11.8358 9.21457 12.6431C9.20793 13.6602 9.20727 14.6779 9.21457 15.695C9.22055 16.493 9.72908 16.9955 10.5271 16.9969C12.2412 17.0008 13.9547 17.0002 15.6689 16.9969C16.4801 16.9955 16.994 16.481 16.9973 15.6704C17.0013 14.6752 16.9999 13.6801 16.9973 12.6849C16.9953 11.8418 16.502 11.3425 15.6622 11.3379C14.8111 11.3333 13.9594 11.3372 13.1083 11.3372Z",fill:"white"}),e.jsx("path",{d:"M9.21223 4.98269C9.21223 3.78837 9.21024 2.59404 9.2129 1.39971C9.21489 0.487533 9.69621 0.00289744 10.5984 0.00223355C12.2794 0.000905786 13.9603 0.000241902 15.6413 0.00223355C16.495 0.00356132 16.9963 0.508777 16.9969 1.36784C16.9983 3.76778 16.9989 6.16773 16.9969 8.567C16.9963 9.40748 16.5004 9.90739 15.6566 9.90938C13.9537 9.91402 12.2502 9.91402 10.5473 9.90938C9.69886 9.90672 9.21622 9.41877 9.2129 8.56501C9.20891 7.37135 9.21223 6.17702 9.21223 4.98269Z"}),e.jsx("path",{d:"M7.78832 12.0524C7.78832 13.2467 7.79098 14.441 7.78699 15.6353C7.78434 16.503 7.2924 16.9963 6.43267 16.9976C4.74043 16.9996 3.04885 16.9996 1.35661 16.9976C0.504846 16.9963 0.00361284 16.4891 0.00294895 15.6294C0.00162118 13.2407 0.00162118 10.8521 0.00294895 8.4634C0.00361284 7.57911 0.490904 7.09115 1.37852 7.08916C3.05947 7.08651 4.74043 7.08584 6.42138 7.08916C7.31231 7.09115 7.785 7.56981 7.78766 8.46871C7.79031 9.6637 7.78832 10.858 7.78832 12.0524Z"}),e.jsx("path",{d:"M3.89062 5.6621C3.03952 5.6621 2.18775 5.66609 1.33665 5.66077C0.496177 5.65613 0.00490302 5.15622 0.00224748 4.31243C-0.000408054 3.31726 -0.00107194 2.3221 0.00224748 1.32694C0.0055669 0.516336 0.519413 0.00381733 1.33201 0.00248957C3.04616 -0.000829855 4.75964 -0.000829855 6.47379 0.00248957C7.27311 0.00448122 7.77965 0.50505 7.78563 1.30569C7.79293 2.32276 7.79293 3.3405 7.78563 4.35757C7.77965 5.16485 7.28771 5.6548 6.47777 5.66077C5.61539 5.66741 4.753 5.6621 3.89062 5.6621Z"}),e.jsx("path",{d:"M13.1081 11.3378C13.9592 11.3378 14.811 11.3338 15.6621 11.3391C16.5019 11.3444 16.9952 11.843 16.9972 12.6862C16.9998 13.6813 17.0005 14.6765 16.9972 15.6716C16.9939 16.4822 16.48 16.9968 15.6687 16.9981C13.9546 17.0014 12.2411 17.0014 10.527 16.9981C9.72831 16.9961 9.21977 16.4935 9.21446 15.6962C9.20716 14.6791 9.20716 13.6614 9.21446 12.6443C9.21977 11.837 9.71237 11.3464 10.521 11.3398C11.3834 11.3325 12.2458 11.3378 13.1081 11.3378Z"})]})}function Fe(){return e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",className:"fill-current",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M7.50224 15.7537C7.50224 16.0247 7.50895 16.2465 7.5 16.4683C7.4597 17.5682 6.52164 18.2515 5.4806 17.9155C4.00075 17.4383 2.52761 16.9387 1.05448 16.4392C0.380597 16.2107 0 15.6641 0 14.9405C0 10.4892 0 6.03569 0.00223881 1.58218C0.00223881 0.627852 0.629104 0.00955666 1.59403 0.00731646C4.28731 0.00283606 6.98284 -0.00164434 9.67612 0.000595862C11.0104 0.00283606 11.9798 0.961641 12 2.29904C12.0112 2.99126 12.0067 3.68124 12 4.37347C11.9955 4.90439 11.6933 5.25162 11.2478 5.25162C10.8022 5.25386 10.4955 4.90663 10.491 4.37571C10.4843 3.69693 10.4933 3.0159 10.4888 2.33712C10.4843 1.79276 10.209 1.50153 9.67388 1.49705C8.72463 1.48585 7.77761 1.49481 6.82836 1.49481C6.72313 1.49481 6.61791 1.49481 6.46791 1.49481C6.51492 1.55081 6.53284 1.59114 6.56418 1.60682C7.24254 1.91597 7.51119 2.46481 7.51119 3.1884C7.50672 6.72791 7.50895 10.2674 7.50895 13.8069C7.50895 13.9436 7.50895 14.0802 7.50895 14.2415C8.32164 14.2415 9.09179 14.2662 9.8597 14.2303C10.2649 14.2124 10.4888 13.8898 10.491 13.4396C10.4978 12.5031 10.4955 11.5645 10.4933 10.6259C10.4933 10.2854 10.594 10.0008 10.9119 9.83507C11.3888 9.58865 11.9754 9.89332 11.9888 10.4511C12.0179 11.5511 12.0493 12.6577 11.9664 13.7532C11.8746 14.9494 10.9052 15.7447 9.69403 15.7514C8.97537 15.7559 8.26343 15.7537 7.50224 15.7537Z"}),e.jsx("path",{d:"M13.4942 6.75005C13.4942 6.02423 13.5009 5.33425 13.492 4.64651C13.4875 4.27463 13.5927 3.96997 13.9532 3.81539C14.3136 3.66082 14.6046 3.79523 14.8688 4.06181C15.8002 5.0027 16.7405 5.93462 17.674 6.87326C18.1061 7.30786 18.1129 7.69094 17.6897 8.11882C16.7494 9.06642 15.8024 10.0073 14.8599 10.9549C14.6091 11.2058 14.327 11.3402 13.9755 11.1946C13.6129 11.0445 13.492 10.7533 13.4964 10.3769C13.5032 9.68695 13.4987 8.99473 13.4987 8.24875C13.3576 8.24875 13.2345 8.24875 13.1114 8.24875C12.2808 8.24875 11.4479 8.25099 10.6173 8.24651C10.0711 8.24427 9.75315 7.962 9.75987 7.4938C9.76435 7.03456 10.0912 6.75453 10.6352 6.75229C11.5666 6.75005 12.5024 6.75005 13.4942 6.75005Z"})]})}function Le(){return e.jsx("svg",{width:"16",height:"14",viewBox:"0 0 16 14",fill:"none",className:"fill-current",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M8.00893 1.94301C8.25673 1.6737 8.45526 1.43535 8.67664 1.22148C10.387 -0.426805 13.0628 -0.402322 14.7246 1.27189C16.3985 2.95834 16.4356 5.68748 14.7674 7.3977C12.6907 9.52701 10.5848 11.6268 8.48882 13.7374C8.13819 14.0902 7.85825 14.0881 7.50619 13.7331C5.4188 11.6311 3.32426 9.53637 1.25187 7.42002C-0.424185 5.70837 -0.410617 2.98786 1.25258 1.29349C2.92721 -0.413123 5.62304 -0.434006 7.35265 1.24885C7.56475 1.45479 7.76042 1.67874 8.00893 1.94301Z"})})}function Ae(){return e.jsxs("svg",{width:"14",height:"19",viewBox:"0 0 14 19",fill:"none",className:"fill-current",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M9.96898 10.7061H3.78814C1.6967 10.7061 0.00346265 12.4028 0 14.4942V18.3481H13.7606V14.4942C13.7571 12.4028 12.0604 10.7061 9.96898 10.7061Z"}),e.jsx("path",{d:"M6.88098 9.17603C9.41488 9.17603 11.469 7.12191 11.469 4.58802C11.469 2.05412 9.41488 0 6.88098 0C4.34709 0 2.29297 2.05412 2.29297 4.58802C2.29297 7.12191 4.34709 9.17603 6.88098 9.17603Z"})]})}function Ie(){const{user:s,isAuthenticated:d,parent:i}=q(),[r,c]=l.useState([]);return l.useEffect(()=>{(async()=>{try{const n=await I.getCompte(s.id);n&&c(n)}catch(n){console.error("Erreur lors de la récupération des données user",n)}})()},[s,d]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"welcome-msg w-full",children:e.jsxs("div",{children:[e.jsxs("p",{className:"text-qblack text-lg",children:["Hello ",e.jsx("span",{children:s?s.name:"Non connecté"})]}),e.jsx("h1",{className:"font-bold text-[24px] text-qblack sm:text-[20px]",children:"Bienvenue sur votre profil"})]})}),e.jsxs("div",{className:"quick-view-grid w-full flex flex-wrap  space-evenly items-center mt-3",children:[e.jsxs("div",{className:"qv-item w-full sm:w-[180px] h-[200px] bg-qblack group hover:bg-qyellow transition-all duration-300 ease-in-out p-6 mx-2 mb-4",children:[e.jsx("div",{className:"w-[62px] h-[62px] rounded bg-white flex justify-center items-center",children:e.jsx("span",{children:e.jsx(Ne,{})})}),e.jsx(M,{to:"/profile#order",children:e.jsx("p",{className:"text-xl text-white group-hover:text-qblacktext mt-3",children:"Mes commandes"})}),e.jsx("span",{className:"text-[40px] text-white group-hover:text-qblacktext font-bold leading-none mt-1 block",children:r&&e.jsxs(e.Fragment,{children:[" ",r.order_count," "]})})]}),e.jsxs("div",{className:"qv-item w-full sm:w-[180px] h-[200px] bg-qblack group hover:bg-qyellow transition-all duration-300 ease-in-out p-6 mx-2 mb-4",children:[e.jsx("div",{className:"w-[62px] h-[62px] rounded bg-white flex justify-center items-center",children:e.jsx("span",{children:e.jsx(J,{})})}),e.jsx(M,{to:"/profile#preorder",children:e.jsx("p",{className:"text-xl text-white group-hover:text-qblacktext mt-2",children:"Mes Pré-commandes"})}),e.jsx("span",{className:"text-[40px] text-white group-hover:text-qblacktext font-bold leading-none mt-1 block",children:r&&e.jsxs(e.Fragment,{children:[" ",r.preorder_count," "]})})]}),s&&s.adhesion=="accepted"&&i&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"qv-item w-full sm:w-[180px] h-[200px] bg-qblack group hover:bg-qyellow transition-all duration-300 ease-in-out p-6 mx-2 mb-4",children:[e.jsx("div",{className:"w-[62px] h-[62px] rounded bg-white flex justify-center items-center",children:e.jsx("span",{children:e.jsx(J,{})})}),e.jsx(M,{to:"/profile#commandes-a-credit",children:e.jsx("p",{className:"text-xl text-white group-hover:text-qblacktext mt-2",children:"Mes Crédits"})}),e.jsx("span",{className:"text-[40px] text-white group-hover:text-qblacktext font-bold leading-none mt-1 block",children:r&&e.jsxs(e.Fragment,{children:[" ",r.creditorder_count," "]})})]})}),e.jsxs("div",{className:"qv-item w-full sm:w-[180px] h-[200px] bg-qblack group hover:bg-qyellow transition-all duration-300 ease-in-out p-6 mx-2 mb-4",children:[e.jsx("div",{className:"w-[62px] h-[62px] rounded bg-white flex justify-center items-center",children:e.jsx("span",{children:e.jsx(Me,{})})}),e.jsx("p",{className:"text-xl text-white group-hover:text-qblacktext mt-5",children:"Livrées"}),e.jsx("span",{className:"text-[40px] text-white group-hover:text-qblacktext font-bold leading-none mt-1 block",children:r&&e.jsxs(e.Fragment,{children:[" ",r.delivered_count," "]})})]}),e.jsxs("div",{className:"qv-item w-full sm:w-[180px] h-[200px] bg-qblack group hover:bg-qyellow transition-all duration-300 ease-in-out p-6 mx-2 mb-4",children:[e.jsx("div",{className:"w-[62px] h-[62px] rounded bg-white flex justify-center items-center",children:e.jsx("span",{children:e.jsx(J,{})})}),e.jsx("p",{className:"text-xl text-white group-hover:text-qblacktext mt-5",children:"En cours"}),e.jsx("span",{className:"text-[40px] text-white group-hover:text-qblacktext font-bold leading-none mt-1 block",children:r&&e.jsxs(e.Fragment,{children:[" ",r.progress_count," "]})})]})]}),e.jsxs("div",{className:"dashboard-info mt-8 flex flex-col bg-primarygray px-4 sm:px-7 py-7",children:[e.jsx("p",{className:"title text-[22px] font-semibold",children:"Informations personnelles"}),e.jsxs("div",{className:"mt-5 flex flex-wrap",children:[e.jsxs("div",{className:"inline-flex mr-5 mb-5",children:[e.jsx("div",{className:"text-base text-qgraytwo w-[100px] block",children:e.jsx("div",{children:"Nom:"})}),e.jsx("div",{className:"text-base text-qblack font-medium",children:s?s.name:""})]}),e.jsxs("div",{className:"inline-flex mr-5 mb-5",children:[e.jsx("div",{className:"text-base text-qgraytwo w-[100px] block",children:e.jsx("div",{children:"Email:"})}),e.jsx("div",{className:"text-base text-qblack font-medium",children:s?s.email:""})]}),e.jsxs("div",{className:"inline-flex mr-5 mb-5",children:[e.jsx("div",{className:"text-base text-qgraytwo w-[100px] block",children:e.jsx("div",{children:"Téléphone:"})}),e.jsx("div",{className:"text-base text-qblack font-medium",children:s?s.partner_phone:"Not found"})]}),e.jsxs("div",{className:"inline-flex mr-5 mb-5",children:[e.jsx("div",{className:"text-base text-qgraytwo w-[100px] block",children:e.jsx("div",{children:"Adresse:"})}),e.jsx("div",{className:"text-base text-qblack font-medium",children:s?s.partner_city:""})]})]})]}),s&&s.adhesion=="accepted"&&i&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"dashboard-info mt-8 flex flex-col bg-primarygray px-4 sm:px-7 py-7",children:[e.jsx("p",{className:"title text-[22px] font-semibold",children:"Informations Entreprise"}),e.jsx("div",{className:"mt-5 flex flex-wrap",children:e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex mr-5 mb-5",children:[e.jsx("div",{className:"text-base text-qgraytwo w-[100px] block",children:e.jsx("div",{children:"Nom:"})}),e.jsx("div",{className:"text-base text-qblack font-medium",children:s&&s.adhesion&&i&&i.name})]}),e.jsxs("div",{className:"inline-flex mr-5 mb-5",children:[e.jsx("div",{className:"text-base text-qgraytwo w-[100px] block",children:e.jsx("div",{children:"Email:"})}),e.jsx("div",{className:"text-base text-qblack font-medium",children:s&&s.adhesion&&i&&i.email})]}),e.jsxs("div",{className:"inline-flex mr-5 mb-5",children:[e.jsx("div",{className:"text-base text-qgraytwo w-[100px] block",children:e.jsx("div",{children:"Téléphone:"})}),e.jsx("div",{className:"text-base text-qblack font-medium",children:s&&s.adhesion&&i&&i.phone})]})]})})]})})]})}function Te(){const[s,d]=l.useState([]),[i,r]=l.useState(!0),[c,m]=l.useState(1),[n]=l.useState(10),{user:o}=q(),y=L();l.useEffect(()=>{(async()=>{r(!0);try{const p=(await R.getCommandes(o.id)).filter(D=>D.state!=="draft"&&D.state!=="cancel");d(p),console.log(p)}catch(a){console.error("Erreur lors de la récupération des modèles",a)}finally{r(!1)}})()},[o.id]);const f=(t,a)=>{t.preventDefault(),console.log(a),y(`/commandes/${a.id}/détails`,{state:{commande:a}})},h=(t,a)=>{t.preventDefault(),console.log(a),window.confirm("Voulez-vous annuler la commande?")&&R.deleteCommande(a.id).then(()=>{d(s.filter(p=>p.id!==a.id)),v.success("Commande annulée avec succès",{position:"top-center"})}).catch(p=>{v.error(p.message,{position:"top-center"})})},g=c*n,C=g-n,k=s.slice(C,g),w=t=>m(t),j=t=>{switch(t){case"to_delivered":return e.jsx(se,{className:"w-5 h-5 text-blue-500"});case"delivered":return e.jsx(U,{className:"w-5 h-5 text-green-500"});default:return e.jsx(H,{className:"w-5 h-5 text-yellow-500"})}},x=t=>{switch(t){case"to_delivered":return"En cours de livraison";case"delivered":return"Livré";default:return"Validé"}},N=t=>t==="not_paid"?"text-red-500":"text-green-500";return e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[e.jsx("div",{className:"flex items-center mb-6",children:e.jsx("h2",{className:"text-2xl font-bold",children:"Commandes"})}),i?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):s.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"Votre Liste de commande est vide"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 text-left",children:"Commande"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Date"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Statut"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Payment"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Montant"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Action"})]})}),e.jsx("tbody",{children:k.map(t=>e.jsxs("tr",{className:"border-b",children:[e.jsxs("td",{className:"py-2 px-4",children:["#",t.name]}),e.jsx("td",{className:"py-2 px-4",children:T(t.date_order)}),e.jsx("td",{className:"py-2 px-4",children:e.jsxs("div",{className:"flex items-center",children:[j(t.state),e.jsx("span",{className:"ml-2 capitalize",children:x(t.state)})]})}),e.jsx("td",{className:"py-2 px-4",children:e.jsx("span",{className:`${N(t.advance_payment_status)} px-2 py-1 rounded-full text-xs font-medium`,children:t.advance_payment_status==="not_paid"?"Non Payé":"Payé"})}),e.jsx("td",{className:"py-2 px-4",children:e.jsx("span",{className:N(t.advance_payment_status),children:_(t.amount_total)})}),e.jsx("td",{className:"py-2 px-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:a=>f(a,t),className:"flex items-center px-3 py-1 bg-bleu-logo text-white rounded hover:bg-bleu-claire transition-colors",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Détails"]}),t.state==="to_delivered"||t.advance_payment_status==="not_paid"&&e.jsxs("button",{onClick:a=>h(a,t),className:"flex items-center px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Supprimer"]})]})})]},t.id))})]})}),!i&&s.length>n&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>w(c-1),disabled:c===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(O,{className:"h-5 w-5","aria-hidden":"true"})]}),Array.from({length:Math.ceil(s.length/n)}).map((t,a)=>e.jsx("button",{onClick:()=>w(a+1),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium
                  ${c===a+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:a+1},a)),e.jsxs("button",{onClick:()=>w(c+1),disabled:c===Math.ceil(s.length/n),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(V,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})}function Be({type:s=3}){const[d,i]=l.useState([]),[r,c]=l.useState(!0),[m,n]=l.useState(1),[o]=l.useState(5),{user:y}=q(),f=L();l.useEffect(()=>{(async()=>{c(!0);try{const a=await _e.getPreCommandes(y.id);if(Array.isArray(a)){const p=a.filter(D=>D.state!=="cancel");console.log("Filtered pre-commandes:",p),i(p)}else console.error("Received data is not an array:",a),i([])}catch(a){console.error("Erreur lors de la récupération des modèles",a)}finally{c(!1)}})()},[y.id]);const h=(t,a)=>{t.preventDefault(),console.log(a),f(`/pre-commandes/${a.id}/détails`,{state:{commande:a}})},g=m*o,C=g-o,k=d.slice(C,g),w=t=>n(t),j=t=>{switch(t){case"to_delivered":return e.jsx(se,{className:"w-5 h-5 text-blue-500"});case"delivered":return e.jsx(U,{className:"w-5 h-5 text-green-500"});default:return e.jsx(H,{className:"w-5 h-5 text-yellow-500"})}},x=t=>{switch(t){case"to_delivered":return"En cours de livraison";case"delivered":return"Livré";default:return"Validé"}},N=t=>{switch(t){case"not_paid":return"text-red-500";case"partial":return"text-yellow-500";case"paid":return"text-green-500";default:return""}};return e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[e.jsx("div",{className:"flex items-center mb-6",children:e.jsx("h2",{className:"text-2xl font-bold",children:"Précommandes"})}),r?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):d.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"Votre Liste de précommandes est vide"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 text-left",children:"Précommande"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Date"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Statut"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Payment"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Montant"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Action"})]})}),e.jsx("tbody",{children:k.map(t=>e.jsxs("tr",{className:"border-b",children:[e.jsxs("td",{className:"py-2 px-4",children:["#",t.name]}),e.jsx("td",{className:"py-2 px-4",children:T(t.date_order)}),e.jsx("td",{className:"py-2 px-4",children:e.jsxs("div",{className:"flex items-center",children:[j(t.state),e.jsx("span",{className:"ml-2 capitalize",children:x(t.state)})]})}),e.jsx("td",{className:"py-2 px-4",children:e.jsxs("div",{className:N(t.advance_payment_status),children:[t.advance_payment_status==="not_paid"&&"Non Effectif",t.advance_payment_status==="partial"&&"Partiellement payé",t.advance_payment_status==="paid"&&"Effectif",t.advance_payment_status==="partial"&&e.jsxs("p",{className:"text-sm",children:["Reste : ",_(t.amount_residual)]})]})}),e.jsx("td",{className:"py-2 px-4",children:e.jsx("span",{className:N(t.advance_payment_status),children:_(t.amount_total)})}),e.jsx("td",{className:"py-2 px-4",children:e.jsxs("button",{onClick:a=>h(a,t),className:"flex items-center px-3 py-1 bg-bleu-logo text-white rounded hover:bg-bleu-claire transition-colors",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Détails"]})})]},t.id))})]})}),!r&&d.length>o&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>w(m-1),disabled:m===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(O,{className:"h-5 w-5","aria-hidden":"true"})]}),Array.from({length:Math.ceil(d.length/o)}).map((t,a)=>e.jsx("button",{onClick:()=>w(a+1),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium
                  ${m===a+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:a+1},a)),e.jsxs("button",{onClick:()=>w(m+1),disabled:m===Math.ceil(d.length/o),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(V,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})}function Oe(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"items-wrapper-bank-payment w-full",children:[e.jsxs("ul",{className:"items",children:[e.jsxs("li",{className:"sm:flex justify-between items-center w-full py-[30px] border-b border-light-purple",children:[e.jsxs("div",{className:"flex space-x-5 items-center mb-3 sm:mb-0",children:[e.jsx("div",{className:"sm:w-[120px] sm:h-[120px] flex items-center justify-center rounded-full sm:bg-[#F2F2F2]",children:e.jsx("img",{src:`${{}.VITE_PUBLIC_URL}/images/card-1.svg`,alt:"payment"})}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("p",{className:"sm:text-xl text-lg tracking-wide text-qblack font-bold",children:"Datch Bangla Bank Ltd"}),e.jsx("p",{className:"text-thin-light-gray sm:text-18 text-sm tracking-wide",children:"Bank **********5535"}),e.jsx("p",{className:"sm:text-18 text-sm tracking-wide text-green-500",children:"Verified"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"button",className:"w-[116px] sm:h-[46px] h-[40px]  bg-qyellow text-qblack font-medium sm:text-18 text-sm tracking-wide",children:e.jsx("span",{children:"Manage"})})})]}),e.jsxs("li",{className:"sm:flex justify-between items-center w-full py-[30px] border-b border-light-purple",children:[e.jsxs("div",{className:"flex space-x-5 items-center mb-3 sm:mb-0",children:[e.jsx("div",{className:"sm:w-[120px] sm:h-[120px] flex items-center justify-center rounded-full sm:bg-[#F2F2F2]",children:e.jsx("img",{src:`${{}.VITE_PUBLIC_URL}/images/card-2.svg`,alt:"payment"})}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("p",{className:"sm:text-xl text-lg tracking-wide text-qblack font-bold",children:"Datch Bangla Bank Ltd"}),e.jsx("p",{className:"text-thin-light-gray sm:text-18 text-sm tracking-wide",children:"Bank **********5535"}),e.jsx("p",{className:"sm:text-18 text-sm tracking-wide text-green-500",children:"Verified"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"button",className:"w-[116px] sm:h-[46px] h-[40px]  bg-qyellow text-qblack font-medium sm:text-18 text-sm tracking-wide",children:e.jsx("span",{children:"Manage"})})})]}),e.jsxs("li",{className:"sm:flex justify-between items-center w-full py-[30px] border-b border-light-purple",children:[e.jsxs("div",{className:"flex space-x-5 items-center mb-3 sm:mb-0",children:[e.jsx("div",{className:"sm:w-[120px] sm:h-[120px] flex items-center justify-center rounded-full sm:bg-[#F2F2F2]",children:e.jsx("img",{src:`${{}.VITE_PUBLIC_URL}/images/card-3.svg`,alt:"payment"})}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("p",{className:"sm:text-xl text-lg tracking-wide text-qblack font-bold",children:"Datch Bangla Bank Ltd"}),e.jsx("p",{className:"text-thin-light-gray sm:text-18 text-sm tracking-wide",children:"Bank **********5535"}),e.jsx("p",{className:"sm:text-18 text-sm tracking-wide text-green-500",children:"Verified"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"button",className:"w-[116px] sm:h-[46px] h-[40px]  bg-qyellow text-qblack font-medium sm:text-18 text-sm tracking-wide",children:e.jsx("span",{children:"Manage"})})})]}),e.jsxs("li",{className:"sm:flex justify-between items-center w-full py-[30px] border-b border-light-purple",children:[e.jsxs("div",{className:"flex space-x-5 items-center mb-3 sm:mb-0",children:[e.jsx("div",{className:"sm:w-[120px] sm:h-[120px] flex items-center justify-center rounded-full sm:bg-[#F2F2F2]",children:e.jsx("img",{src:`${{}.VITE_PUBLIC_URL}/images/card-4.svg`,alt:"payment"})}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("p",{className:"sm:text-xl text-lg tracking-wide text-qblack font-bold",children:"Datch Bangla Bank Ltd"}),e.jsx("p",{className:"text-thin-light-gray sm:text-18 text-sm tracking-wide",children:"Bank **********5535"}),e.jsx("p",{className:"sm:text-18 text-sm tracking-wide text-green-500",children:"Verified"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"button",className:"w-[116px] sm:h-[46px] h-[40px]  bg-qyellow text-qblack font-medium sm:text-18 text-sm tracking-wide",children:e.jsx("span",{children:"Manage"})})})]})]}),e.jsxs("div",{className:"flex space-x-4 ",children:[e.jsx("button",{type:"button",className:"text-white bg-qblack w-[126px] h-[50px] text-sm font-semibold",children:"Add Card"}),e.jsx("button",{type:"button",className:"text-qblack  w-[126px] h-[50px] text-sm font-semibold border border-qblack",children:"Add Bank"})]})]})})}function Ve({agreed:s,setAgreed:d,onSubmit:i,isLoadingAdhesion:r,stateUser:c}){return e.jsxs("form",{onSubmit:i,className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:"Conditions Générales de Commande à Crédit"}),e.jsx("p",{className:"mb-4 dark:text-white ",children:"En acceptant ces conditions, vous reconnaissez et acceptez les termes suivants :"}),e.jsxs("ol",{className:"list-decimal pl-5 space-y-4 dark:text-white",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Processus de Validation :"}),e.jsxs("ul",{className:"list-disc pl-5 mt-2",children:[e.jsx("li",{children:"Chaque commande à crédit sera soumise à un processus de validation rigoureux."}),e.jsx("li",{children:"L'approbation conjointe de votre service des Ressources Humaines (RH) et de CCBM Shop sera requise pour toute commande à crédit."})]})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Structure de Paiement :"}),e.jsxs("ul",{className:"list-disc pl-5 mt-2",children:[e.jsx("li",{children:"Un acompte initial de 50% du montant total sera exigé au moment de la commande."}),e.jsxs("li",{children:["Le solde restant sera échelonné sur une période de trois mois, selon la répartition suivante :",e.jsxs("ul",{className:"list-circle pl-5 mt-1",children:[e.jsx("li",{children:"Premier mois : 20% du montant total"}),e.jsx("li",{children:"Deuxième mois : 15% du montant total"}),e.jsx("li",{children:"Troisième mois : 15% du montant total (solde final)"})]})]})]})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Politique de Retard de Paiement :"}),e.jsxs("ul",{className:"list-disc pl-5 mt-2",children:[e.jsx("li",{children:"Tout retard de paiement excédant trois (3) jours sera considéré comme un manquement aux présentes conditions."}),e.jsx("li",{children:"En cas de retard, votre service RH sera immédiatement notifié."}),e.jsx("li",{children:"Votre service RH se réserve le droit de procéder à un prélèvement direct sur votre salaire pour régulariser tout paiement en retard."}),e.jsx("li",{children:"Tout manquement au paiement entraînera le blocage de votre groupe pur les commandes à crédit."})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-6",children:[e.jsx(ye,{id:"agree-terms",checked:s,onChange:m=>d(m.target.checked)}),e.jsx("label",{htmlFor:"agree-terms",className:"text-sm font-medium text-gray-700 dark:text-white",children:"J'ai lu, compris et j'accepte les conditions de commande à crédit énoncées ci-dessus."})]}),e.jsx(Y,{type:"submit",color:"failure",pill:!0,className:"w-full mt-4",disabled:r||c||!s,children:r?"Traitement en cours...":"Accepter et Envoyer la Demande d'Adhésion"})]})}function $e(){const{user:s,refreshContext:d,parent:i}=q(),r=L(),[c,m]=l.useState(""),[n,o]=l.useState(""),[y,f]=l.useState(""),[h,g]=l.useState(""),[C,k]=l.useState(""),[w,j]=l.useState(!1),[x,N]=l.useState(!1),[t,a]=l.useState(""),[p,D]=l.useState(""),[ae,le]=l.useState(!1),[he,W]=l.useState(!1),re=l.useRef(null),[pe,E]=l.useState(null),[P,ne]=l.useState({id:0,name:"",email:"",partner_id:0,company_id:0,company_name:"",partner_city:"",partner_phone:"",country_id:0,country_name:"",country_code:"",country_phone_code:0,avatar:null,is_verified:!1,function:"",role:"",adhesion:"",adhesion_submit:!1,parent_id:0}),ie=async()=>{try{const b=await I.actualiseInfoUser(s.id);b&&(await d(b),console.log("Context mis à jour avec succès !"))}catch(b){console.error("Erreur lors de la récupération des données du compte :",b),v.error("Erreur lors de la récupération des données du compte")}};l.useEffect(()=>{s.id&&ie()},[s.id]),l.useEffect(()=>{const b=async()=>{try{const u=await I.getDetailsCompteUser(s.id);ne(u),console.log("information reccuperer"),console.log(u)}catch(u){console.error("Erreur lors de la récupération des données du compte:",u),v.error("Erreur lors de la récupération des données du compte")}};s.id&&b()},[s]);const A=b=>{const{name:u,value:$}=b.target;ne(z=>({...z,[u]:$}))};l.useEffect(()=>{s||r("/login"),m(s.email),g(s.partner_phone),f(s.partner_city),o(s.name),k(s.function);const b="avatar_"+s.id,u=localStorage.getItem(b);s.avatar?E(s.avatar):E(u||"avatar.png")},[]);const ue=async b=>{b.preventDefault(),j(!0),console.log(P);try{const u=await I.updateUserCompte(P.partner_id,P);u.code===300?v.warning(u.message):v.success("Modification des informations réussie !")}catch(u){v.error("Modification du compte échouée : "+u)}finally{j(!1)}},je=b=>{const u=b.target.files[0],$="avatar_"+s.id;if(u){const z=new FileReader;z.onload=async Q=>{E(Q.target.result),localStorage.setItem($,Q.target.result);const X=await I.updateUserAvatar(Q.target.result);X.status=="success"&&(v.success(X.message,{position:"top-center",autoClose:5e3}),E(X.avatar))},z.readAsDataURL(u)}else E("avatar.png"),localStorage.removeItem($)},fe=()=>{re.current.click()},ge=async b=>{b.preventDefault(),ae?(W(!1),await be()):v.warning("Vous devez accepter les conditions pour continuer.")},be=async()=>{if(!t){v.warning("L'identifiant de entreprise est obligatoire");return}if(s&&s.adhesion==="pending"&&s.adhesion_submit===!0){v.warning("Vous avez déjà une demande d'adhésion en cours ou acceptée.");return}N(!0);const b={partner_id:s.id,entreprise_code:t,adhesion_submit:!0};console.log(b);try{const u=await Pe(b);console.log("res",u),a(""),D(u.adhesion),v.success("Votre demande d'adhésion a été envoyée avec succès."),ie()}catch(u){console.error("Error fetching clients:",u),console.log(u.response.status),console.log(u.response),u.response.status==302?v.warning(u.response.data.message):u.response.status==400?v.error(u.response.data.message):v.error(u.response.data.message)}finally{N(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row space-y-8 lg:space-y-0 lg:space-x-8",children:[e.jsx("div",{className:"w-full lg:w-1/3",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center mb-6",children:["Mettre à jour le profil",e.jsx("span",{className:"ml-2",children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M10 0C4.47457 0 0 4.47791 0 10C0 15.5221 4.47791 20 10 20C15.5221 20 20 15.5221 20 10C19.9967 4.48126 15.5221 0.00669344 10 0ZM10 16.67C9.53815 16.67 9.16667 16.2985 9.16667 15.8367C9.16667 15.3748 9.53815 15.0033 10 15.0033C10.4618 15.0033 10.8333 15.3748 10.8333 15.8367C10.8333 16.2952 10.4618 16.67 10 16.67ZM11.6098 10.425C11.1078 10.7396 10.8132 11.2952 10.8333 11.8842V12.5033C10.8333 12.9652 10.4618 13.3367 10 13.3367C9.53815 13.3367 9.16667 12.9652 9.16667 12.5033V11.8842C9.14324 10.6861 9.76907 9.56827 10.8032 8.96586C11.4357 8.61781 11.7704 7.90161 11.6366 7.19545C11.5027 6.52276 10.9772 5.99732 10.3046 5.8668C9.40094 5.69946 8.5308 6.29853 8.36346 7.20214C8.34673 7.30254 8.33668 7.40295 8.33668 7.50335C8.33668 7.96519 7.9652 8.33668 7.50335 8.33668C7.0415 8.33668 6.67002 7.96519 6.67002 7.50335C6.67002 5.66265 8.16265 4.17001 10.0067 4.17001C11.8474 4.17001 13.34 5.66265 13.34 7.50669C13.3333 8.71821 12.674 9.83601 11.6098 10.425Z",fill:"#374557",fillOpacity:"0.6"})})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-48 h-48 rounded-full overflow-hidden relative",children:e.jsx("img",{src:pe||"/images/edit-profileimg.jpg",alt:"CCBM Shop Profile",className:"object-cover w-full h-full"})}),e.jsx("input",{ref:re,onChange:je,type:"file",className:"hidden",accept:"image/*"}),e.jsx("button",{onClick:fe,className:"absolute bottom-2 right-2 w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center cursor-pointer hover:bg-blue-600 transition-colors",children:e.jsx(De,{className:"text-white",size:20})})]})})]})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("form",{onSubmit:ue,className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Informations Personnelles"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(S,{htmlFor:"name",value:"Nom Complet"}),e.jsx("input",{type:"text",id:"name",name:"name",value:P.name,onChange:A,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-sm shadow-sm"})]}),e.jsxs("div",{children:[e.jsx(S,{htmlFor:"email",value:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:P.email,onChange:A,className:"mt-1 block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md text-sm shadow-sm",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx(S,{htmlFor:"partner_phone",value:"Téléphone"}),e.jsx("input",{type:"tel",id:"partner_phone",name:"partner_phone",value:P.partner_phone,onChange:A,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-sm shadow-sm"})]}),e.jsxs("div",{children:[e.jsx(S,{htmlFor:"partner_city",value:"Ville"}),e.jsx("input",{type:"text",id:"partner_city",name:"partner_city",value:P.partner_city,onChange:A,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-sm shadow-sm"})]}),e.jsxs("div",{children:[e.jsx(S,{htmlFor:"country_name",value:"Pays"}),e.jsx("input",{type:"text",id:"country_name",name:"country_name",value:P.country_name,className:"mt-1 block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md text-sm shadow-sm",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx(S,{htmlFor:"function",value:"Fonction"}),e.jsx("input",{type:"text",id:"function",name:"function",value:P.function,onChange:A,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-sm shadow-sm"})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(Y,{type:"submit",color:"failure",pill:!0,className:"w-full h-12 text-sm font-semibold",disabled:w,children:w?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"mr-2 h-4 w-4 animate-spin"}),e.jsx("span",{children:"Mise à jour en cours"})]}):e.jsx("span",{children:"Mettre à jour"})})})]})})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col  md:flex-row  space-x-0 md:space-x-8",children:[e.jsx("div",{className:"flex-1 w-full md:w-1/3 order-first md:order-none",children:e.jsxs("div",{className:"update-logo w-full mb-9",children:[e.jsx("h1",{className:"text-xl tracking-wide font-bold text-qblack flex items-center mb-2",children:"Demande d'adhésion"}),e.jsx("div",{className:"flex xl:justify-center justify-start",children:e.jsxs("div",{className:"relative",children:[s&&s.adhesion=="pending"&&s.adhesion_submit&&e.jsx(e.Fragment,{children:e.jsxs("span",{children:[" Demande en cours de traitement...",e.jsx(G,{className:"mr-2 h-20 w-10 animate-spin"})," "]})}),s&&s.adhesion=="rejected"&&e.jsx(e.Fragment,{children:e.jsx("span",{children:" Votre demande a été réjeter "})}),s&&s.adhesion=="accepted"&&i&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:" Votre demande a été accepté "}),e.jsxs("span",{children:["  ",e.jsx("strong",{children:"Entreprise : "})," ",i.name," "]})]})]})})]})}),e.jsxs("div",{className:"w-full md:w-2/3",children:[e.jsx("div",{className:"w-full md:w-[1/3px]",children:e.jsx("div",{className:"input-item mb-8",children:e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"mb-2 block",children:e.jsx(S,{htmlFor:"L'identifiant de l'entreprise",value:"Identifiant entreprise"})}),e.jsx("input",{type:"text",placeholder:"Identifiant Entreprise",value:t,onChange:b=>a(b.target.value),name:"codeEntreprise",required:!0,disabled:s&&s.adhesion=="pending"&&s.adhesion_submit==!0,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm"})]})})}),e.jsx(Y,{type:"button",color:"failure",pill:!0,className:"w-full",disabled:x||s&&s.adhesion==="pending"&&s.adhesion_submit===!0,onClick:()=>{W(!0),le(!1)},children:x?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"mr-2 h-4 w-4 animate-spin"}),e.jsx("span",{children:"Envoi en cours..."})]}):e.jsx("span",{children:"Demande d'adhésion"})})]})]}),e.jsxs(K,{show:he,onClose:()=>W(!1),size:"xl",children:[e.jsx(K.Header,{children:"Conditions de Commande à Crédit"}),e.jsx(K.Body,{children:e.jsx(Ve,{agreed:ae,setAgreed:le,onSubmit:ge,isLoadingAdhesion:x,stateUser:s&&s.adhesion==="pending"&&s.adhesion_submit===!0})})]})]})]})}function ze({className:s}){const{wishlist:d,removeFromWishlist:i,addToCart:r,cart:c,preorder:m,addToPreorder:n}=l.useContext(ee);console.log(d);const o=(h,g)=>{h.preventDefault(),i(g)},y=(h,g)=>{h.preventDefault(),r(g,g.quantity),v.success("Produit ajouté",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),console.log("Ajout au panier :",c)},f=(h,g)=>{h.preventDefault(),n(g,g.quantity),console.log("Ajout au pré-commande :",m),v.success("Produit ajouté",{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`w-full ${s||""}`,children:e.jsx("div",{className:"relative w-full overflow-x-auto border border-[#EDEDED]",children:e.jsx("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"text-[13px] font-medium text-black bg-[#F6F6F6] whitespace-nowrap px-2 border-b default-border-bottom uppercase",children:[e.jsx("td",{className:"py-4 pl-10 block whitespace-nowrap  w-[380px]",children:"Produit"}),e.jsx("td",{className:"py-4 whitespace-nowrap text-center",children:"PRIX"}),e.jsx("td",{className:"py-4 whitespace-nowrap  text-center",children:"Quantité"}),e.jsx("td",{className:"py-4 whitespace-nowrap  text-center",children:"Total"}),e.jsx("td",{className:"py-4 whitespace-nowrap text-right w-[114px] block"})]}),d.map((h,g)=>e.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[e.jsx("td",{className:"pl-10  py-4 ",children:e.jsxs("div",{className:"flex space-x-6 items-center",children:[e.jsx("div",{className:"w-[80px] h-[80px] overflow-hidden flex justify-center items-center border border-[#EDEDED]",children:e.jsx("img",{src:`${h.image_1920}`,alt:"product",className:"w-full h-full object-contain"})}),e.jsx("div",{className:"flex-1 flex flex-col",children:e.jsx("p",{className:"font-medium text-[15px] text-qblack",children:h.name})})]})}),e.jsx("td",{className:"text-center py-4 px-2",children:e.jsx("div",{className:"flex space-x-1 items-center justify-center",children:e.jsxs("span",{className:"text-[15px] font-normal",children:[" ",_(h.list_price)]})})}),e.jsx("td",{className:" py-4",children:e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(te,{produit:h})})}),e.jsx("td",{className:"text-center py-4 px-2",children:e.jsx("div",{className:"flex space-x-1 items-center justify-center",children:e.jsxs("span",{className:"text-[15px] font-normal",children:[" ",_(h.list_price*h.quantity)]})})}),e.jsx("td",{className:"text-right py-4",children:e.jsxs("div",{className:"flex space-x-5 items-center justify-center",children:[e.jsx("button",{onClick:C=>o(C,h),className:"duration-200 hover:scale-150",children:e.jsx(oe,{className:"hover:text-red-500"})}),e.jsx("button",{onClick:C=>y(C,h),className:"duration-200 hover:scale-150",children:e.jsx(ce,{className:"hover:text-yellow-500"})}),e.jsx("button",{onClick:C=>f(C,h),className:"duration-200 hover:scale-150",children:e.jsx(ce,{className:"hover:text-green-500"})})]})})]},g))]})})})}),d.length>0&&e.jsx("div",{className:"w-full mt-[30px] flex sm:justify-end justify-start",children:e.jsxs("div",{className:"sm:flex sm:space-x-[30px] items-center",children:[e.jsx("button",{type:"button",children:e.jsx("div",{className:"w-full text-sm font-semibold text-qred mb-5 sm:mb-0",children:"Supprimer la liste"})}),e.jsx("div",{className:"w-[180px] h-[50px]",children:e.jsx("button",{type:"button",className:"blue-logo-btn",children:e.jsx("div",{className:"w-full text-sm font-semibold",children:"Commander"})})})]})}),d.length==0&&e.jsx("p",{className:"text-center mt-5 ",children:"Votre liste de souhait est vide "})]})}function Re({className:s}){const{cart:d}=l.useContext(ee);return console.log(d),e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-full mt-[23px]",children:e.jsxs("div",{className:"container-x mx-auto",children:[e.jsx(Se,{className:"mb-[30px]"}),e.jsx("div",{className:"w-full sm:flex justify-between",children:e.jsxs("div",{className:"flex space-x-2.5 items-center",children:[e.jsx(M,{children:e.jsx("div",{className:"w-[220px] h-[50px] bg-[#F6F6F6] flex justify-center items-center",children:e.jsx("span",{className:"text-sm font-semibold",children:"Continuer vos achats"})})}),e.jsx(M,{children:e.jsx("div",{className:"w-[140px] h-[50px] bg-[#F6F6F6] flex justify-center items-center",children:e.jsx("span",{className:"text-sm font-semibold",children:"Update Cart"})})})]})}),e.jsx("div",{className:"w-full mt-[30px] flex sm:justify-end",children:e.jsxs("div",{className:"sm:w-[370px] w-full border border-[#EDEDED] px-[30px] py-[26px]",children:[e.jsxs("div",{className:"sub-total mb-6",children:[e.jsxs("div",{className:" flex justify-between mb-6",children:[e.jsx("p",{className:"text-[15px] font-medium text-qblack",children:"Subtotal"}),e.jsx("p",{className:"text-[15px] font-medium text-qred",children:"$365"})]}),e.jsx("div",{className:"w-full h-[1px] bg-[#EDEDED]"})]}),e.jsxs("div",{className:"shipping mb-6",children:[e.jsx("span",{className:"text-[15px] font-medium text-qblack mb-[18px] block",children:"Shipping"}),e.jsxs("ul",{className:"flex flex-col space-y-1",children:[e.jsx("li",{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex space-x-2.5 items-center",children:[e.jsx("div",{className:"input-radio",children:e.jsx("input",{type:"radio",name:"price",className:"accent-pink-500"})}),e.jsx("span",{className:"text-[13px] text-normal text-qgraytwo",children:"Free Shipping"})]}),e.jsx("span",{className:"text-[13px] text-normal text-qgraytwo",children:"+$00.00"})]})}),e.jsx("li",{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex space-x-2.5 items-center",children:[e.jsx("div",{className:"input-radio",children:e.jsx("input",{type:"radio",name:"price",className:"accent-pink-500"})}),e.jsx("span",{className:"text-[13px] text-normal text-qgraytwo",children:"Flat Rate"})]}),e.jsx("span",{className:"text-[13px] text-normal text-qgraytwo",children:"+$00.00"})]})}),e.jsx("li",{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex space-x-2.5 items-center",children:[e.jsx("div",{className:"input-radio",children:e.jsx("input",{type:"radio",name:"price",className:"accent-pink-500"})}),e.jsx("span",{className:"text-[13px] text-normal text-qgraytwo",children:"Local Delivery"})]}),e.jsx("span",{className:"text-[13px] text-normal text-qgraytwo",children:"+$00.00"})]})})]})]}),e.jsxs("div",{className:"shipping-calculation w-full mb-3",children:[e.jsx("div",{className:"title mb-[17px]",children:e.jsx("h1",{className:"text-[15px] font-medium",children:"Calculate Shipping"})}),e.jsxs("div",{className:"w-full h-[50px] border border-[#EDEDED] px-5 flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-[13px] text-qgraytwo",children:"Select Country"}),e.jsx("span",{children:e.jsx("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5.4 6.8L0 1.4L1.4 0L5.4 4L9.4 0L10.8 1.4L5.4 6.8Z",fill:"#222222"})})})]}),e.jsx("div",{className:"w-full h-[50px]",children:e.jsx(te,{inputClasses:"w-full h-full",type:"text",placeholder:"Postcode / ZIP"})})]}),e.jsx("button",{type:"button",className:"w-full mb-10",children:e.jsx("div",{className:"w-full h-[50px] bg-[#F6F6F6] flex justify-center items-center",children:e.jsx("span",{className:"text-sm font-semibold",children:"Update Cart"})})}),e.jsx("div",{className:"total mb-6",children:e.jsxs("div",{className:" flex justify-between",children:[e.jsx("p",{className:"text-[18px] font-medium text-qblack",children:"Total"}),e.jsx("p",{className:"text-[18px] font-medium text-qred",children:"$365"})]})}),e.jsx(M,{to:"/checkout",children:e.jsx("div",{className:"w-full h-[50px] black-btn flex justify-center items-center",children:e.jsx("span",{className:"text-sm font-semibold",children:"Proceed to Checkout"})})})]})})]})})})}function Ze({className:s}){const{preorder:d}=l.useContext(ee);console.log(d);const i=(r,c)=>{r.preventDefault()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"welcome-msg w-full",children:e.jsx("div",{children:e.jsx("h1",{className:"font-bold text-[24px] text-qblack",children:"Panier Précommande"})})}),e.jsx("div",{className:`w-full ${s||""}`,children:e.jsx("div",{className:"relative w-full overflow-x-auto border border-[#EDEDED]",children:e.jsx("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"text-[13px] font-medium text-black bg-[#F6F6F6] whitespace-nowrap px-2 border-b default-border-bottom uppercase",children:[e.jsx("td",{className:"py-4 pl-10 block whitespace-nowrap  w-[380px]",children:"Produit"}),e.jsx("td",{className:"py-4 whitespace-nowrap text-center",children:"PRIX"}),e.jsx("td",{className:"py-4 whitespace-nowrap  text-center",children:"Quantité"}),e.jsx("td",{className:"py-4 whitespace-nowrap  text-center",children:"Total"}),e.jsx("td",{className:"py-4 whitespace-nowrap text-right w-[114px] block"})]}),d.map((r,c)=>e.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[e.jsx("td",{className:"pl-10  py-4 ",children:e.jsxs("div",{className:"flex space-x-6 items-center",children:[e.jsx("div",{className:"w-[80px] h-[80px] overflow-hidden flex justify-center items-center border border-[#EDEDED]",children:e.jsx("img",{src:`${r.image_1920}`,alt:"product",className:"w-full h-full object-contain"})}),e.jsx("div",{className:"flex-1 flex flex-col",children:e.jsx("p",{className:"font-medium text-[15px] text-qblack",children:r.name})})]})}),e.jsx("td",{className:"text-center py-4 px-2",children:e.jsx("div",{className:"flex space-x-1 items-center justify-center",children:e.jsxs("span",{className:"text-[15px] font-normal",children:[" ",_(r.list_price)]})})}),e.jsx("td",{className:" py-4",children:e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(te,{produit:r})})}),e.jsx("td",{className:"text-center py-4 px-2",children:e.jsx("div",{className:"flex space-x-1 items-center justify-center",children:e.jsxs("span",{className:"text-[15px] font-normal",children:[" ",_(r.list_price*r.quantity)]})})}),e.jsx("td",{className:"text-right py-4",children:e.jsx("div",{className:"flex space-x-5 items-center justify-center",children:e.jsx("button",{onClick:m=>i(m),className:"duration-200 hover:scale-150",children:e.jsx(oe,{className:"hover:text-red-500"})})})})]},c))]})})})}),e.jsx("div",{className:"w-full mt-[30px] flex sm:justify-end justify-start",children:e.jsxs("div",{className:"sm:flex sm:space-x-[30px] items-center",children:[e.jsx("button",{type:"button",children:e.jsx("div",{className:"w-full text-sm font-semibold text-qred mb-5 sm:mb-0",children:"Vider le panier"})}),e.jsx("div",{className:"w-[180px] h-[50px]",children:e.jsx("button",{type:"button",className:"blue-logo-btn",children:e.jsx("div",{className:"w-full text-sm font-semibold",children:"Valider Pré Commande"})})})]})})]})}function Ue(){const[s,d]=l.useState([]),[i,r]=l.useState(!0),[c,m]=l.useState(1),[n]=l.useState(5),[o,y]=l.useState(!1),[f,h]=l.useState(null),{user:g}=q();l.useEffect(()=>{(async()=>{r(!0);try{const p=await ve.getTransactionPartner(g.partner_id);d(p.slice().reverse()),console.log(p)}catch(p){console.error("Erreur lors de la récupération des modèles",p)}finally{r(!1)}})()},[g.partner_id]);const C=(a,p)=>{console.log(p),a.preventDefault(),h(p),y(!0)},k=()=>{y(!1),h(null)},w=(a,p)=>{console.log(p),a.preventDefault(),p&&window.open(p,"_blank","noopener,noreferrer")},j=c*n,x=j-n,N=s.slice(x,j),t=a=>m(a);return e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[e.jsx("div",{className:"flex items-center mb-6",children:e.jsx("h2",{className:"text-2xl font-bold",children:"Détails des paiements"})}),i?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):s.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"Aucun paiement effectué"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 text-left",children:"Commande"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Date"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Statut"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Montant"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Action"})]})}),e.jsx("tbody",{children:N.map(a=>e.jsxs("tr",{className:"border-b",children:[e.jsxs("td",{className:"py-2 px-4",children:["#",a.order.name]}),e.jsx("td",{className:"py-2 px-4",children:T(a.created_at)}),e.jsx("td",{className:"py-2 px-4",children:e.jsxs("div",{className:"flex items-center",children:[a.status!=="completed"?e.jsx(xe,{className:"w-5 h-5 text-red-500 mr-2"}):e.jsx(U,{className:"w-5 h-5 text-green-500 mr-2"}),e.jsx("span",{className:a.status!=="completed"?"text-red-500":"text-green-500",children:a.status!=="completed"?"Non Payé":"Payé"})]})}),e.jsx("td",{className:"py-2 px-4",children:e.jsx("span",{className:a.status!=="completed"?"text-red-500":"text-green-500",children:_(a.amount)})}),e.jsx("td",{className:"py-2 px-4",children:e.jsxs("button",{onClick:p=>C(p,a),className:"flex items-center px-3 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Détails"]})})]},a.transaction_id))})]})}),!i&&s.length>n&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>t(c-1),disabled:c===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(O,{className:"h-5 w-5","aria-hidden":"true"})]}),Array.from({length:Math.ceil(s.length/n)}).map((a,p)=>e.jsx("button",{onClick:()=>t(p+1),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium
                  ${c===p+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:p+1},p)),e.jsxs("button",{onClick:()=>t(c+1),disabled:c===Math.ceil(s.length/n),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(V,{className:"h-5 w-5","aria-hidden":"true"})]})]})}),o&&f&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-md",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Détails du paiement"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Transaction ID:"})," ",f.transaction_id]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Date:"})," ",T(f.created_at)]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Statut:"})," ",f.status==="completed"?"Payé":"Non Payé"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Nom de la commande : "})," ",f.order.name]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Montant Payé : "})," ",_(f.amount)]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Téléphone : "})," ",f.phone]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Facture : "}),e.jsx("button",{className:"text-blue-500 underline",onClick:a=>w(a,f.url_facture),children:"Ouvrir la facture"})]})]}),e.jsx("button",{onClick:k,className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition-colors",children:"Fermer"})]})})]})}function He(){const[s,d]=l.useState([]),[i,r]=l.useState(!0),[c,m]=l.useState(1),[n]=l.useState(10),{user:o}=q(),y=L();l.useEffect(()=>{(async()=>{r(!0);try{const N=(await R.getCommandes(o.id)).filter(t=>t.state==="draft");d(N),console.log(N)}catch(x){console.error("Erreur lors de la récupération des modèles",x)}finally{r(!1)}})()},[o.id]);const f=(j,x)=>{j.preventDefault(),console.log(x),y(`/commandes/${x.id}/détails`,{state:{commande:x}})},h=(j,x)=>{j.preventDefault(),console.log(x),window.confirm("Voulez-vous supprimer cette commande?")&&R.deleteCommande(x.id).then(()=>{d(s.filter(N=>N.id!==x.id)),console.log("Commande supprimée avec succès"),v.success("Commande supprimée avec succès",{position:"top-center"})}).catch(N=>{console.error("Erreur lors de la suppression",N),v.error(N.message,{position:"top-center"})})},g=c*n,C=g-n,k=s.slice(C,g),w=j=>m(j);return e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[e.jsx("div",{className:"flex items-center mb-6",children:e.jsx("h2",{className:"text-2xl font-bold",children:"Commandes brouillon"})}),i?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):s.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"Aucune commande brouillon trouvée"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 text-left",children:"Commande"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Date"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Statut"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Montant"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Actions"})]})}),e.jsx("tbody",{children:k.map(j=>e.jsxs("tr",{className:"border-b",children:[e.jsxs("td",{className:"py-2 px-4",children:["#",j.name]}),e.jsx("td",{className:"py-2 px-4",children:T(j.date_order)}),e.jsx("td",{className:"py-2 px-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(H,{className:"w-5 h-5 text-yellow-500 mr-2"}),e.jsx("span",{children:"Brouillon"})]})}),e.jsx("td",{className:"py-2 px-4",children:_(j.amount_total)}),e.jsx("td",{className:"py-2 px-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:x=>f(x,j),className:"flex items-center px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Détails"]}),e.jsxs("button",{onClick:x=>h(x,j),className:"flex items-center px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Supprimer"]})]})})]},j.id))})]})}),!i&&s.length>n&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>w(c-1),disabled:c===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(O,{className:"h-5 w-5","aria-hidden":"true"})]}),Array.from({length:Math.ceil(s.length/n)}).map((j,x)=>e.jsx("button",{onClick:()=>w(x+1),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium
                  ${c===x+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:x+1},x)),e.jsxs("button",{onClick:()=>w(c+1),disabled:c===Math.ceil(s.length/n),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(V,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})}function We({className:s}){const d=L(),{user:i}=q(),[r,c]=l.useState([]),[m,n]=l.useState(!0),[o,y]=l.useState(1),[f]=l.useState(5);l.useEffect(()=>{i.id&&h(i.id)},[i.id]);const h=async t=>{n(!0);try{const a=await qe(t);console.log("res",a),c(a)}catch(a){console.error("Error fetching clients:",a)}finally{n(!1)}},g=(t,a)=>{t.preventDefault(),console.log(a),d(`/credit-commandes/${a.id}/détails`,{state:{commande:a}})},C=o*f,k=C-f,w=r.slice(k,C),j=t=>y(t),x=t=>{switch(t.toLowerCase()){case"sale":return e.jsx(U,{className:"w-5 h-5 text-green-500"});case"cancel":return e.jsx(xe,{className:"w-5 h-5 text-red-500"});case"draft":return e.jsx(H,{className:"w-5 h-5 text-yellow-500"});default:return e.jsx(se,{className:"w-5 h-5 text-blue-500"})}},N=t=>{switch(t.toLowerCase()){case"sale":return"Confirmé";case"cancel":return"Annulé";case"draft":return"Brouillon";default:return"En cours"}};return e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4 sm:p-6",children:[e.jsx("div",{className:"flex items-center mb-6",children:e.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Commandes à crédit"})}),m?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):r.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"Aucune commande trouvée "}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 text-left",children:"Nom"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Somme"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Date"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"État"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Action"})]})}),e.jsx("tbody",{children:w.map(t=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2 px-4 whitespace-nowrap",children:t.name}),e.jsx("td",{className:"py-2 px-4 whitespace-nowrap",children:_(t.amount_total)}),e.jsx("td",{className:"py-2 px-4 whitespace-nowrap",children:new Date(t.date_order).toLocaleDateString()}),e.jsx("td",{className:"py-2 px-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[x(t.state),e.jsx("span",{className:"ml-2 capitalize",children:N(t.state)})]})}),e.jsx("td",{className:"py-2 px-4 whitespace-nowrap",children:e.jsxs("button",{onClick:a=>g(a,t),className:"flex items-center px-3 py-1 bg-bleu-logo text-white rounded hover:bg-bleu-claire transition-colors",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Détails"]})})]},t.id))})]})}),!m&&r.length>f&&e.jsx("div",{className:"mt-6 flex flex-wrap justify-center",children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px overflow-x-auto max-w-full py-2","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>j(o-1),disabled:o===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(O,{className:"h-5 w-5","aria-hidden":"true"})]}),Array.from({length:Math.ceil(r.length/f)}).map((t,a)=>e.jsx("button",{onClick:()=>j(a+1),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium
                                    ${o===a+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:a+1},a)),e.jsxs("button",{onClick:()=>j(o+1),disabled:o===Math.ceil(r.length/f),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(V,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})}function as(){const{user:s,logout:d,parent:i}=q();console.log("user",s,i);const r=L(),m=ke().hash.split("#"),[n,o]=l.useState("dashboard"),[y,f]=l.useState(!1),h=()=>{f(!y)};l.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"}),o(m&&m.length>1?m[1]:"dashboard")},[m]),l.useEffect(()=>{n!=""&&f(!1)},[n]);function g(){d(),r("/login")}return e.jsx(we,{childrenClasses:"pt-0 pb-0",children:e.jsx("div",{className:"profile-page-wrapper w-full",children:e.jsx("div",{className:"container-x mx-auto",children:e.jsxs("div",{className:"w-full my-10",children:[e.jsx(Ce,{paths:[{name:"Accueil",path:"/"},{name:"profile",path:"/profile"}]}),e.jsxs("div",{className:"w-full bg-white px-4 sm:px-10 py-9",children:[e.jsxs("div",{className:"title-area w-full flex justify-between items-center",children:[e.jsx("h1",{className:"text-[22px] font-bold text-qblack sm:text-xl",children:"Tableau de bord"}),e.jsx("button",{className:"block w-500  lg:hidden text-qblack",onClick:h,children:y?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16m-7 6h7"})})})]}),e.jsxs("div",{className:"profile-wrapper w-full mt-8 flex flex-col lg:flex-row lg:space-x-10",children:[e.jsx("div",{className:`w-full md:w-[236px] md:min-h-[600px] border-r border-[rgba(0, 0, 0, 0.1)] ${y?"block":"hidden"} lg:block  transition-all duration-300 ease-in-out`,children:e.jsxs("div",{className:"flex flex-col space-y-10",children:[e.jsx(F,{to:"/profile#dashboard",icon:e.jsx(Ee,{}),text:"Tableau de bord",onClick:()=>o("dashboard")}),e.jsx(F,{to:"/profile#profile",icon:e.jsx(Ae,{}),text:"Information Personnel",onClick:()=>o("profile")}),e.jsx(F,{to:"/profile#order",icon:e.jsx(de,{}),text:"Commandes",onClick:()=>o("order")}),s&&i&&s.adhesion==="accepted"&&e.jsx(F,{to:"/profile#commandes-a-credit",icon:e.jsx(de,{}),text:"Commandes à crédit",onClick:()=>o("commandes-a-credit")}),e.jsx(F,{to:"/profile#payments",icon:e.jsx(Le,{}),text:"Transactions",onClick:()=>o("payments")}),e.jsx(F,{onClick:g,icon:e.jsx(Fe,{}),text:"Déconnexion"})]})}),e.jsx("div",{className:`flex-1 ${y?"hidden":"block"} lg:block`,children:e.jsxs("div",{className:"item-body dashboard-wrapper w-full",children:[n==="dashboard"&&e.jsx(Ie,{}),n==="profile"&&e.jsx($e,{}),n==="payment"&&e.jsx(Oe,{}),n==="order"&&e.jsx(Te,{}),n==="orderDraft"&&e.jsx(He,{}),n==="payments"&&e.jsx(Ue,{}),n==="preorder"&&e.jsx(Be,{}),n==="wishlist"&&e.jsx(ze,{}),n==="paniercommande"&&e.jsx(Re,{}),s&&i&&s.adhesion==="accepted"&&n==="commandes-a-credit"&&e.jsx(We,{}),n==="panierprecommande"&&e.jsx(Ze,{})]})})]})]})]})})})})}const F=({to:s,icon:d,text:i,onClick:r})=>e.jsx("div",{className:"item group",children:e.jsx(M,{to:s,onClick:r,children:e.jsxs("div",{className:"flex space-x-3 items-center text-qgray hover:text-qblack",children:[e.jsx("span",{children:d}),e.jsx("span",{className:"font-normal text-base",children:i})]})})});export{as as default};

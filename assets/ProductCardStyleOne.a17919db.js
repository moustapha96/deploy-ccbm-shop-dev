import{c as P,C as _,s as S,a as T,u as A,j as e,f as l,S as E,b as $,d as q,q as D,N as I,B as i}from"./index.c7671496.js";import{u as V,r as c,L as a}from"./vendor.ee8c1fef.js";import{a as B}from"./tracking.b23baa7f.js";import{E as F}from"./eye.a8af9cfd.js";/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=P("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function R({datas:s,type:p=3}){const d=V(),{addToCart:x,addToWishlist:u,addToPreorder:O,preorder:m,isProductInWishlist:h,addToCreditOrder:g}=c.useContext(_),{trackEvent:f,trackPageView:W}=S(),{showPopup:j,handleClosePopup:b}=T(),[w,n]=c.useState(!1),{user:o}=A(),N=t=>{t.preventDefault(),g(s,1),n(!0),console.log("Ajout au preorder :",m),i.success("Produit ajouté",{position:"top-center",autoClose:2e3})},v=t=>{console.log(`Subscribed with email: ${t}`)},y=t=>{t.preventDefault(),x(s,1),n(!0),i.success("Produit ajouté",{position:"top-center",autoClose:2e3})},C=t=>{t.preventDefault(),u(s,1),i.success("Produit ajouté",{position:"top-center",autoClose:2e3})},k=(t,r)=>{t.preventDefault(),console.log(r),d("/produits/"+r.id+"/details",{state:{produit:r}}),B(r.name),f("Image","image_produit",r.name,1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"product-card-one w-full h-full bg-white relative group overflow-hidden",style:{boxShadow:"0px 15px 64px 0px rgba(0, 0, 0, 0.05)"},children:[e.jsx("div",{className:"product-card-img w-full h-[200px] sm:h-[300px] cursor-pointer",style:{background:`url('data:image/png;base64,${s.image_256}') no-repeat center`,backgroundSize:"contain"},onClick:t=>k(t,s),children:e.jsxs("div",{className:"absolute left-0 right-0 flex justify-between",children:[s.en_promo&&e.jsx("div",{className:"product-type absolute left-[14px] top-[17px]",children:e.jsx("span",{className:`text-[8px] font-bold leading-none py-[5px] px-2 uppercase text-white \r
                      rounded-full tracking-wider bg-bleu-logo`,children:"En promo"})}),s.categ_id&&e.jsx("div",{className:"product-type absolute right-[14px] top-[17px]",children:e.jsx("span",{className:`text-[8px] font-bold leading-none py-[5px] px-2 uppercase text-white \r
                      rounded-full tracking-wider bg-qyellow`,children:s.categ_id})})]})}),e.jsxs("div",{className:"product-card-details px-[15px] sm:px-[30px] pb-[15px] sm:pb-[30px] relative",children:[e.jsx(a,{to:`/produits/${s.id}/details`,children:e.jsx("p",{className:"title mb-2 text-[13px] sm:text-[15px] font-600 text-qblack leading-[20px] sm:leading-[24px] line-clamp-2 hover:text-bleu-logo",children:s.name})}),e.jsxs("p",{className:"price",children:[e.jsx("span",{className:"offer-price line-through text-qred font-600 text-[14px] sm:text-[18px]",children:s.creditorder_price>0&&e.jsx(e.Fragment,{children:l(s.creditorder_price)})}),e.jsx("br",{}),s.en_promo?e.jsx("span",{className:"offer-price text-bleu-logo font-600 text-[16px] sm:text-[18px]",children:l(s.promo_price)}):e.jsx("span",{className:"offer-price text-bleu-logo font-600 text-[16px] sm:text-[18px]",children:l(s.list_price)})]}),e.jsxs("div",{className:"w-full left-0 flex flex-col gap-2 mt-2 items-center",children:[s.sale_ok&&e.jsxs("button",{type:"button",onClick:y,className:`w-full h-12 flex items-center justify-center gap-2 text-[14px] font-medium ${p===3?"blue-logo-btn":"yellow-btn"}`,children:[e.jsx(E,{className:"w-5 h-5"}),e.jsx("span",{children:"Commander"})]}),o&&o.adhesion==="accepted"&&s.is_creditorder&&e.jsxs("button",{type:"button",onClick:N,className:"w-full h-12 flex items-center justify-center gap-2 text-[14px] font-medium vert-btn",children:[e.jsx($,{className:"w-5 h-5"}),e.jsx("span",{children:"À crédit"})]})]})]}),e.jsxs("div",{className:"quick-access-btns flex flex-col space-y-1 sm:space-y-2 absolute group-hover:right-2 sm:group-hover:right-4 -right-10 top-20  transition-all duration-300 ease-in-out",children:[e.jsx("span",{className:"w-8 h-8 sm:w-10 sm:h-10 flex justify-center items-center bg-primarygray rounded",children:e.jsx("div",{className:"flex gap-1",children:e.jsx(a,{to:`/produits/${s.id}/details`,className:"cursor-pointer hover:text-gray-500 hover:scale-150 duration-300",children:e.jsx(F,{})})})}),e.jsx("span",{className:"w-8 h-8 sm:w-10 sm:h-10 flex justify-center items-center bg-primarygray rounded",children:e.jsx(q,{className:`${h(s)?"text-yellow-500":""} cursor-pointer hover:text-yellow-500 hover:scale-150 duration-300`,onClick:C})}),s.tags&&s.tags.length>0&&e.jsx(e.Fragment,{children:e.jsx("span",{className:"w-8 h-8 sm:w-10 sm:h-10 flex justify-center items-center  rounded",children:e.jsx("div",{className:"flex gap-1",children:s.tags&&s.tags.map(t=>e.jsx(D,{icon:L,variant:"success",children:t.name},t.id))})})})]})]}),w&&!o&&e.jsx(I,{onClose:b,onSubscribe:v,isVisible:j})]})}export{R as P};

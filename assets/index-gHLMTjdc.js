import{V as b,j as e,l as v,m as C,p as N,L as P,q as w}from"./index-Cu3shM5z.js";import{b as o,c as y,u as V}from"./vendor-Bb8_f6lk.js";import{P as L}from"./Pagination-D7FzhRm9.js";function I(){const{currentProductsVenteCher:l,totalProductsVenteCher:r,isLoadingProductVenteCher:c,fetchProductsVenteCher:d,updateFilters:m,resetFilters:p,filters:t}=o.useContext(b),a=y(),u=V();o.useEffect(()=>{p();const s=new URLSearchParams(a.search),n={page:Number.parseInt(s.get("page"))||1,category:s.get("category")||"All",search:s.get("search")||"",min:Number.parseInt(s.get("min"))||1e3,max:Number.parseInt(s.get("max"))||5e6,limit:9,productType:s.get("productType")||"All",tag:s.get("tag")||"All"};m(n),window.scrollTo({top:0,left:100,behavior:"smooth"})},[a.pathname,a.search,p,m]),o.useEffect(()=>{d()},[d]);const x=(t.page-1)*t.limit+1,g=Math.min(t.page*t.limit,r),f=s=>{j({...t,page:s}),window.scrollTo({top:0,left:100,behavior:"smooth"})},j=o.useCallback(s=>{const n=new URLSearchParams(a.search);Object.entries(s).forEach(([h,i])=>{i!=null&&i!==""?n.set(h,i.toString()):n.delete(h)}),u({search:n.toString()},{replace:!0})},[a.search,u]);return!c&&l.length===0&&r===0?null:e.jsxs(e.Fragment,{children:[e.jsx(v,{title:"CCBM Shop | Vente en Cher - Produits à Vider",description:"Découvrez nos produits en vente en cher sur CCBM Shop. Profitez de nos meilleures offres pour vider le stock.",keywords:"vente en cher, produits à vider, électroménager, CCBM Shop, ccbme, offres spéciales"}),e.jsx(C,{children:e.jsx("div",{className:"products-page-wrapper w-full",children:e.jsxs("div",{className:"container-x mx-auto",children:[e.jsx(N,{}),e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-blue-900 mb-2",children:"Vente en cher : des produits en très bon état, à vider rapidement"}),e.jsxs("p",{className:"text-sm md:text-base text-blue-900 mb-2",children:["Les produits listés ici proviennent principalement de fins de séries, de retours clients contrôlés ou de modèles d’exposition. Ils sont en ",e.jsx("span",{className:"font-semibold",children:"bon état de fonctionnement"})," et ont été vérifiés par nos équipes techniques avant d’être remis en ligne."]}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm md:text-base text-blue-900",children:[e.jsxs("li",{children:["Quantités ",e.jsx("span",{className:"font-semibold",children:"très limitées"})," : premier arrivé, premier servi."]}),e.jsx("li",{children:"Prix ajustés en fonction de l’état cosmétique et des accessoires fournis."}),e.jsx("li",{children:"Photos et descriptions représentatives de l’état réel du produit."}),e.jsx("li",{children:"Les conditions de garantie et de retour sont précisées sur chaque fiche produit."})]})]}),e.jsx("div",{className:"products-sorting w-full bg-white flex flex-col md:flex-row justify-between p-[30px] mb-[40px]",children:e.jsxs("p",{className:"font-400 text-[13px]",children:[e.jsx("span",{className:"text-qgray",children:"Affichage"})," ",r>0?`${x}–${g} sur ${r} résultats`:"0 résultat"]})}),c?e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsx(P,{className:"animate-spin"})," Chargement"]}):l.length===0?e.jsx("div",{className:"flex justify-center items-center",children:"Pas de produits en vente en cher disponible pour le moment"}):e.jsx("div",{className:"grid xl:grid-cols-2 grid-cols-1 gap-[30px]",children:l.map(s=>e.jsx(w,{datas:s,mode:"vente-cher"},s.id))}),e.jsx(L,{currentPage:t.page,totalPages:Math.ceil(r/t.limit),onPageChange:f})]})]})})})]})}export{I as default};
